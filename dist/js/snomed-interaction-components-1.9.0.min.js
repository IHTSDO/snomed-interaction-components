/*! snomed-interaction-components 2014-07-15 */
function allowDrop(a){a.preventDefault()}function drag(a,b){$.each(a.target.attributes,function(){"data"==this.name.substr(0,4)&&a.dataTransfer.setData(this.name.substr(5),this.value)}),a.dataTransfer.setData("divElementId",b)}function dropC(a){a.preventDefault();var b,c=a.dataTransfer.getData("concept-id"),d=a.dataTransfer.getData("panel"),e=a.dataTransfer.getData("divElementId");$.each(componentsRegistry,function(a,c){c.id==e&&(b=c)}),c?b.conceptId!=c&&($.contains($("#"+b.divElement.id).get(0),$(draggable).get(0))&&draggable.remove(),b.conceptId=c,b.updateCanvas()):d&&$.each(componentsRegistry,function(a,c){c.divElement.id==d&&("search"==c.type||"taxonomy"==c.type)&&c.subscribe(b)})}function conceptDetails(a,b,c){"undefined"==typeof componentsRegistry&&(componentsRegistry=[]);var d=this;this.type="concept-details",this.conceptId=b,this.divElement=a,this.options=jQuery.extend(!0,{},c),this.attributesPId="",this.descsPId="",this.relsPId="",this.history=[],this.color="white",d.preferred=!1,d.acceptable=!1,d.included=!1,this.lastGroup=null,this.subscription=null;var e=null,f=null,g=0;componentLoaded=!1,$.each(componentsRegistry,function(a,b){b.divElement.id==d.divElement.id&&(componentLoaded=!0)}),0==componentLoaded&&componentsRegistry.push(d),this.getConceptId=function(){return this.conceptId},this.getDivId=function(){return this.divId},this.setupCanvas=function(){d.attributesPId=d.divElement.id+"-attributes-panel",d.descsPId=d.divElement.id+"-descriptions-panel",d.relsPId=d.divElement.id+"-rels-panel",d.childrenPId=d.divElement.id+"-children-panel",d.defaultTerm="",$(a).html();var b={divElementId:d.divElement.id};$.get("views/conceptDetailsPlugin/main.hbs").then(function(c){var e=Handlebars.compile(c);$(a).html(e(b)),Handlebars.registerHelper("if_eq",function(a,b,c){return"undefined"!=c?a==b?c.fn(this):c.inverse(this):void 0}),Handlebars.registerHelper("if_gr",function(a,b,c){if(a){var d=a.lastIndexOf("(");return d>b?c.fn(this):c.inverse(this)}}),Handlebars.registerHelper("substr",function(a,b){var c=a.lastIndexOf("(")-1;return a.substr(b,c)}),Handlebars.registerHelper("push",function(a,b){b.push(a)}),Handlebars.registerHelper("removeSemtag",function(a){return d.removeSemtag(a)}),Handlebars.registerHelper("lastIndexOf",function(a,b){return a.lastIndexOf(b)}),Handlebars.registerHelper("console",function(a){console.log(a)}),Handlebars.registerHelper("eqLastGroup",function(a,b){return!a==d.lastGroup?b.fn(this):b.inverse(this)}),Handlebars.registerHelper("setLastGroup",function(a){d.lastGroup=a}),Handlebars.registerHelper("getRandomColor",function(){return getRandomColor()}),Handlebars.registerHelper("lastColor",function(a){return"get"==a?d.color:void(d.color=a)}),Handlebars.registerHelper("preferred",function(a,b){return"get"==a?d.preferred?b.fn(this):b.inverse(this):void(d.preferred=a)}),Handlebars.registerHelper("acceptable",function(a,b){return"get"==a?d.acceptable?b.fn(this):b.inverse(this):void(d.acceptable=a)}),Handlebars.registerHelper("included",function(a,b){return"get"==a?d.included?b.fn(this):b.inverse(this):void(d.included=a)}),$("#"+d.divElement.id+"-linkerButton").disableTextSelect(),$("#"+d.divElement.id+"-subscribersMarker").disableTextSelect(),$("#"+d.divElement.id+"-configButton").disableTextSelect(),$("#"+d.divElement.id+"-historyButton").disableTextSelect(),$("#"+d.divElement.id+"-collapseButton").disableTextSelect(),$("#"+d.divElement.id+"-expandButton").disableTextSelect(),$("#"+d.divElement.id+"-closeButton").disableTextSelect(),$("#"+d.divElement.id+"-expandButton").hide(),$("#"+d.divElement.id+"-subscribersMarker").hide(),$("#"+d.divElement.id+"-closeButton").click(function(){$(a).remove()}),"undefined"!=typeof d.options.closeButton&&0==d.options.closeButton&&$("#"+d.divElement.id+"-closeButton").hide(),"undefined"!=typeof d.options.linkerButton&&0==d.options.linkerButton&&$("#"+d.divElement.id+"-linkerButton").hide(),"undefined"!=typeof d.options.subscribersMarker&&0==d.options.subscribersMarker&&$("#"+d.divElement.id+"-subscribersMarker").remove(),"undefined"!=typeof d.options.collapseButton&&0==d.options.collapseButton&&($("#"+d.divElement.id+"-expandButton").hide(),$("#"+d.divElement.id+"-collapseButton").hide()),$("#"+d.divElement.id+"-expandButton").click(function(){$("#"+d.divElement.id+"-panelBody").slideDown("fast"),$("#"+d.divElement.id+"-expandButton").hide(),$("#"+d.divElement.id+"-collapseButton").show(),$("#"+d.divElement.id+"-panelTitle").html("&nbsp&nbsp&nbsp<strong>Concept Details</strong>")}),$("#"+d.divElement.id+"-collapseButton").click(function(){$("#"+d.divElement.id+"-panelBody").slideUp("fast"),$("#"+d.divElement.id+"-expandButton").show(),$("#"+d.divElement.id+"-collapseButton").hide(),$("#"+d.divElement.id+"-panelTitle").html("&nbsp&nbsp&nbsp<strong>Concept Details: "+d.defaultTerm+"</strong>")}),$("#"+d.divElement.id).click(function(a){$(a.target).hasClass("glyphicon")||$("#"+d.divElement.id).find(".more-fields-button").popover("hide")}),$("#"+d.divElement.id+"-historyButton").click(function(){$("#"+d.divElement.id+"-historyButton").popover({trigger:"manual",placement:"bottomRight",html:!0,content:function(){var a='<div style="height:100px;overflow:auto;">';a+="<table>";var b=d.history.slice(0);return b.reverse(),$.each(b,function(b,c){var e=new Date,f=e.getTime(),g=f-c.time,h="";6e4>g?h=1==Math.round(g/1e3)?Math.round(g/1e3)+" second ago":Math.round(g/1e3)+" seconds ago":36e5>g?h=1==Math.round(g/1e3/60)?Math.round(g/1e3/60)+" minute ago":Math.round(g/1e3/60)+" minutes ago":216e6>g&&(h=1==Math.round(g/1e3/60/60)?Math.round(g/1e3/60/60)+" hour ago":Math.round(g/1e3/60/60)+" hours ago"),a=a+'<tr><td><a href="javascript:void(0);" onclick="updateCD(\''+d.divElement.id+"',"+c.conceptId+');">'+c.defaultTerm+"</a>",a=a+' <span class="text-muted" style="font-size: 80%"><em>'+h+"<em></span>",a+="</td></tr>"}),a+="</table>",a+="</div>"}}),$("#"+d.divElement.id+"-historyButton").popover("toggle")}),"undefined"==typeof i18n_panel_options&&(i18n_panel_options="Panel options"),$("#"+d.divElement.id+"-configButton").tooltip({placement:"left",trigger:"hover",title:i18n_panel_options,animation:!0,delay:1e3}),"undefined"==typeof i18n_history&&(i18n_history="History"),$("#"+d.divElement.id+"-historyButton").tooltip({placement:"left",trigger:"hover",title:i18n_history,animation:!0,delay:1e3}),"undefined"==typeof i18n_panel_links&&(i18n_panel_links="Panel links"),$("#"+d.divElement.id+"-linkerButton").tooltip({placement:"left",trigger:"hover",title:i18n_panel_links,animation:!0,delay:1e3}),$("#"+d.divElement.id+"-apply-button").click(function(){d.readOptionsPanel(),d.updateCanvas()}),$("#"+d.divElement.id+"-linkerButton").draggable({cancel:!1,appendTo:"body",helper:"clone",delay:500}),$(".resizable").resizable(),$("#"+d.divElement.id+"-panelHeading").droppable({drop:d.handleDropEvent,hoverClass:"bg-info"}),$("#"+d.divElement.id+"-linkerButton").click(function(){$("#"+d.divElement.id+"-linkerButton").popover({trigger:"manual",placement:"bottomRight",html:!0,content:function(){return linkerHtml=d.subscription?'<div class="text-center"><a href="javascript:void(0);" onclick="cancelSubscription(\''+d.subscription.divElement.id+"','"+d.divElement.id+"');\">Clear link</a></div>":'<div class="text-center text-muted"><em>Not linked yet<br>Drag to link with other panels</em></div>'}}),$("#"+d.divElement.id+"-linkerButton").popover("toggle")}),d.updateCanvas(),d.setupOptionsPanel()})},this.allowDrop=function(a){a.preventDefault()},this.drag=function(a){var b={conceptId:$(a.target).attr("data-concept-id"),panel:$(a.target).attr("data-panel")};a.dataTransfer.setData("conceptId",b.conceptId),a.dataTransfer.setData("panel",b.panel),console.log($(a.target).get(0))},this.drop=function(a){a.preventDefault();var b=a.dataTransfer.getData("conceptId"),c=a.dataTransfer.getData("panel");b?c||$.each(componentsRegistry,function(a,b){b.divElement.id==c&&("search"==b.type||"taxonomy"==b.type)&&b.subscribe(d)}):(console.log(d),d.conceptId!=b&&($.contains($("#"+d.divElement.id).get(0),$(draggable).get(0))&&draggable.remove(),d.conceptId=b,d.updateCanvas()))},this.handleDropEvent=function(a,b){var c=b.draggable;c.attr("data-concept-id")?d.conceptId!=c.attr("data-concept-id")&&($.contains($("#"+d.divElement.id).get(0),$(c).get(0))&&c.remove(),d.conceptId=c.attr("data-concept-id"),d.updateCanvas()):c.attr("data-panel")&&$.each(componentsRegistry,function(a,b){b.divElement.id==c.attr("data-panel")&&("search"==b.type||"taxonomy"==b.type)&&b.subscribe(d)})},this.updateCanvas=function(){$(".more-fields-button").popover("hide"),g!=d.conceptId&&(g=d.conceptId,$("#"+d.attributesPId).html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),$("#home-attributes-"+d.divElement.id).html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),$("#"+d.descsPId).html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),$("#"+d.relsPId).html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),$("#home-parents-"+d.divElement.id).html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),$("#home-roles-"+d.divElement.id).html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),$("#"+d.childrenPId).html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),$("#diagram-canvas-"+d.divElement.id).html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),$("#refsets-"+d.divElement.id).html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),null!=e&&(e.abort(),console.log("aborting call...")),e=$.getJSON(c.serverUrl+"/"+c.edition+"/"+c.release+"/concepts/"+d.conceptId,function(){}).done(function(b){var f=b;e=null,d.attributesPId=a.id+"-attributes-panel",d.defaultTerm=f.defaultTerm;var h=new Date,i=h.getTime();d.history.push({defaultTerm:f.defaultTerm,conceptId:f.conceptId,time:i}),$.get("views/conceptDetailsPlugin/tabs/details/attributes-panel.hbs").then(function(a){var b={firstMatch:f,divElementId:d.divElement.id,dataContentValue:document.URL.split("?")[0].split("#")[0]},c=Handlebars.compile(a);$("#"+d.attributesPId).html(c(b)),$("#share-link-"+d.divElement.id).disableTextSelect(),$("#share-link-"+d.divElement.id).click(function(){setTimeout(function(){$("#share-field-"+d.divElement.id).select()},300)})}),$.get("views/conceptDetailsPlugin/tabs/home/attributes.hbs").then(function(a){var b={panel:d,firstMatch:f,divElementId:d.divElement.id},c=Handlebars.compile(a);$("#home-attributes-"+d.divElement.id).html(c(b)),f.active?$("#home-attributes-"+d.divElement.id).css("background-color","white"):$("#home-attributes-"+d.divElement.id).css("background-color","LightPink"),$("#"+d.divElement.id+"-expandButton").is(":visible")&&$("#"+d.divElement.id+"-panelTitle").html("&nbsp;&nbsp;&nbsp;<strong>Concept Details: "+d.defaultTerm+"</strong>"),$("#"+d.attributesPId+",#home-attributes-"+d.divElement.id).find(".jqui-droppable").droppable({drop:d.handleDropEvent,hoverClass:"bg-info"}),$("#"+d.attributesPId+",#home-attributes-"+d.divElement.id).find(".jqui-draggable").draggable({appendTo:"body",helper:"clone",delay:10}),"undefined"==typeof i18n_drag_this&&(i18n_drag_this="Drag this"),$("#"+d.attributesPId+",#home-attributes-"+d.divElement.id).find(".jqui-draggable").tooltip({placement:"left auto",trigger:"hover",title:i18n_drag_this,animation:!0,delay:500})}),d.descsPId=a.id+"-descriptions-panel";var j="";"900000000000508004"==d.options.langRefset?j="(GB)":"900000000000509007"==d.options.langRefset?j="(US)":"450828004"==d.options.langRefset?j="(ES)":"554461000005103"==d.options.langRefset&&(j="(DA)");var k=f.descriptions.slice(0);k.sort(function(a,b){if(a.type.conceptId<b.type.conceptId)return-1;if(a.type.conceptId>b.type.conceptId)return 1;if(a.type.conceptId==b.type.conceptId){if(a.term<b.term)return-1;if(a.term>b.term)return 1}return 0});var l="";$.each(k,function(a,b){(d.options.displayInactiveDescriptions||1==b.active)&&1==b.active&&(""!=l&&(l+="<br>"),l=l+"&nbsp;&nbsp;&nbsp;&nbsp;"+b.term)}),$.get("views/conceptDetailsPlugin/tabs/details/descriptions-panel.hbs").then(function(a){var b={options:d.options,languageName:j,divElementId:d.divElement.id,allDescriptions:k},c=Handlebars.compile(a);$("#"+d.descsPId).html(c(b)),d.options.displaySynonyms&&$("#home-descriptions-"+d.divElement.id).html(l),1!=d.options.displaySynonyms&&($("#"+d.descsPId).find(".synonym-row").each(function(a,b){$(b).toggle()}),$(this).toggleClass("glyphicon-plus"),$(this).toggleClass("glyphicon-minus")),$("#"+d.descsPId+"-descButton").disableTextSelect(),$("#"+d.descsPId+"-descButton").click(function(){table=$(this).closest("table").first(),$(this).toggleClass("glyphicon-plus"),$(this).toggleClass("glyphicon-minus"),table.find(".synonym-row").each(function(a,b){$(b).toggle()})}),$("#"+d.descsPId).find(".jqui-draggable").draggable({appendTo:"body",helper:"clone",delay:500}),$("#"+d.descsPId).find("[rel=tooltip-right]").tooltip({placement:"right"})}),"inferred"==d.options.selectedView?($("#home-"+d.divElement.id+"-viewLabel").html("<span class='i18n' data-i18n-id='i18n_inferred_view'>Inferred view</span>"),$("#home-"+d.divElement.id+"-diagram-viewLabel").html("<span class='i18n' data-i18n-id='i18n_inferred_view'>Inferred view</span>")):($("#home-"+d.divElement.id+"-viewLabel").html("<span class='i18n' data-i18n-id='i18n_stated_view'>Stated view</span>"),$("#home-"+d.divElement.id+"-diagram-viewLabel").html("<span class='i18n' data-i18n-id='i18n_stated_view'>Stated view</span>")),d.relsPId=a.id+"-rels-panel",d.statedParents=[],d.inferredParents=[],d.statedRoles=[],d.inferredRoles=[],f.relationships.sort(function(a,b){return a.groupId<b.groupId?-1:a.groupId>b.groupId?1:116680003==a.type.conceptId?-1:116680003==b.type.conceptId?1:a.target.defaultTerm<b.target.defaultTerm?-1:a.target.defaultTerm>b.target.defaultTerm?1:0}),f.statedRelationships.sort(function(a,b){return a.groupId<b.groupId?-1:a.groupId>b.groupId?1:116680003==a.type.conceptId?-1:116680003==b.type.conceptId?1:a.target.defaultTerm<b.target.defaultTerm?-1:a.target.defaultTerm>b.target.defaultTerm?1:0}),$.get("views/conceptDetailsPlugin/tabs/details/rels-panel.hbs").then(function(a){var b={firstMatch:f,inferredParents:d.inferredParents,inferredRoles:d.inferredRoles,statedParents:d.statedParents,statedRoles:d.statedRoles},c=Handlebars.compile(a);$("#"+d.relsPId).html(c(b))}),d.inferredParents.sort(function(a,b){return a.target.defaultTerm<b.target.defaultTerm?-1:a.target.defaultTerm>b.target.defaultTerm?1:0}),d.statedParents.sort(function(a,b){return a.target.defaultTerm<b.target.defaultTerm?-1:a.target.defaultTerm>b.target.defaultTerm?1:0}),d.inferredRoles.sort(function(a,b){return a.groupId<b.groupId?-1:a.groupId>b.groupId?1:a.target.defaultTerm<b.target.defaultTerm?-1:a.target.defaultTerm>b.target.defaultTerm?1:0}),d.statedRoles.sort(function(a,b){return a.groupId<b.groupId?-1:a.groupId>b.groupId?1:a.target.defaultTerm<b.target.defaultTerm?-1:a.target.defaultTerm>b.target.defaultTerm?1:0}),$.get("views/conceptDetailsPlugin/tabs/home/parents.hbs").then(function(a){var b={statedParents:d.statedParents,inferredParents:d.inferredParents,options:d.options},c=Handlebars.compile(a);$("#home-parents-"+d.divElement.id).html(c(b)),d.options.diagrammingMarkupEnabled||$("#home-parents-"+d.divElement.id).html(d.stripDiagrammingMarkup($("#home-parents-"+d.divElement.id).html()))}),$.get("views/conceptDetailsPlugin/tabs/home/roles.hbs").then(function(a){var b={options:c,statedRoles:d.statedRoles,inferredRoles:d.inferredRoles},e=Handlebars.compile(a);$("#home-roles-"+d.divElement.id).html(e(b)),d.options.diagrammingMarkupEnabled||$("#home-roles-"+d.divElement.id).html(d.stripDiagrammingMarkup($("#home-roles-"+d.divElement.id).html()))}),$.get("views/conceptDetailsPlugin/tabs/refset.hbs").then(function(a){var b={firstMatch:f},c=Handlebars.compile(a);$("#refsets-"+d.divElement.id).html(c(b)),"diagram-tab"==$("ul#details-tabs-"+d.divElement.id+" li.active").attr("id")&&($("#diagram-canvas-"+d.divElement.id).html(""),drawConceptDiagram(f,$("#diagram-canvas-"+d.divElement.id),d.options)),$("#diagram-tab-link-"+d.divElement.id).click(function(){$("#diagram-canvas-"+d.divElement.id).html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),setTimeout(function(){$("#diagram-canvas-"+d.divElement.id).html(""),drawConceptDiagram(f,$("#diagram-canvas-"+d.divElement.id),d.options)},1e3)}),$(".more-fields-button").disableTextSelect(),$(".more-fields-button").popover(),"stated"==d.options.selectedView?$("#"+d.relsPId).find(".inferred-rel").each(function(a,b){$(b).toggle()}):"inferred"==d.options.selectedView?$("#"+d.relsPId).find(".stated-rel").each(function(a,b){$(b).toggle()}):"all"!=d.options.selectedView,$("#"+d.relsPId+",#home-parents-"+d.divElement.id+",#home-roles-"+d.divElement.id+",#refsets-"+d.divElement.id).find(".jqui-draggable").draggable({appendTo:"body",helper:"clone",delay:500}),$("#"+d.relsPId+",#home-parents-"+d.divElement.id+",#home-roles-"+d.divElement.id).find(".jqui-draggable").tooltip({placement:"left auto",trigger:"hover",title:i18n_drag_this,animation:!0,delay:500}),"function"==typeof switchLanguage&&switchLanguage(selectedLanguage,selectedFlag,!1),g=0})}).fail(function(){$("#"+d.attributesPId).html("<div class='alert alert-danger'><span class='i18n' data-i18n-id='i18n_ajax_failed'><strong>Error</strong> while retrieving data from server...</span></div>"),$("#"+d.descsPId).html(""),$("#"+d.relsPId).html(""),$("#"+d.relsPId).html("")}),0==d.options.displayChildren?($("#"+d.childrenPId).html(""),$("#"+d.childrenPId).hide()):($("#"+d.childrenPId).show(),null!=f&&(f.abort(),console.log("aborting children call...")),f=$.getJSON(c.serverUrl+"/"+c.edition+"/"+c.release+"/concepts/"+d.conceptId+"/children?form=inferred",function(){}).done(function(b){f=null,d.childrenPId=a.id+"-children-panel",$.get("views/conceptDetailsPlugin/tabs/details/children-panel.hbs").then(function(a){var c={childrenResult:b},e=Handlebars.compile(a);$("#"+d.childrenPId).html(e(c)),$("#"+d.childrenPId).find(".jqui-draggable").draggable({appendTo:"body",helper:"clone",delay:500})})}).fail(function(){$("#"+d.childrenPId).html("<div class='alert alert-danger'><span class='i18n' data-i18n-id='i18n_ajax_failed'><strong>Error</strong> while retrieving data from server...</span></div>")})))},this.stripDiagrammingMarkup=function(a){return a=a.replace(new RegExp(d.escapeRegExp("sct-primitive-concept-compact"),"g"),""),a=a.replace(new RegExp(d.escapeRegExp("sct-defined-concept-compact"),"g"),""),a=a.replace(new RegExp(d.escapeRegExp("sct-attribute-compact"),"g"),"")},this.escapeRegExp=function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},this.setSubscription=function(a){d.subscription=a,$("#"+d.divElement.id+"-subscribersMarker").css("color",a.markerColor),$("#"+d.divElement.id+"-subscribersMarker").show()},this.clearSubscription=function(){d.subscription=null,$("#"+d.divElement.id+"-subscribersMarker").hide()},this.setupOptionsPanel=function(){optionsHtml='<form role="form" id="'+d.divElement.id+'-options-form">',optionsHtml+='<div class="form-group">',optionsHtml+='<div class="checkbox">',optionsHtml+="<label>",optionsHtml=0==d.options.displaySynonyms?optionsHtml+'<input type="checkbox" id="'+d.divElement.id+'-displaySynonymsOption"> <span class="i18n" data-i18n-id="i18n_display_synonyms2">Display Synonyms along with FSN and preferred terms</span>':optionsHtml+'<input type="checkbox" id="'+d.divElement.id+'-displaySynonymsOption" checked> <span class="i18n" data-i18n-id="i18n_display_synonyms2">Display Synonyms along with FSN and preferred terms</span>',optionsHtml+="</label>",optionsHtml+="</div>",optionsHtml+='<div class="checkbox">',optionsHtml+="<label>",optionsHtml=0==d.options.showIds?optionsHtml+'<input type="checkbox" id="'+d.divElement.id+'-displayIdsOption"> <span class="i18n" data-i18n-id="i18n_display_ids">Display Ids</span>':optionsHtml+'<input type="checkbox" id="'+d.divElement.id+'-displayIdsOption" checked> <span class="i18n" data-i18n-id="i18n_display_ids">Display Ids</span>',optionsHtml+="</label>",optionsHtml+="</div>",optionsHtml+='<div class="checkbox">',optionsHtml+="<label>",optionsHtml=0==d.options.displayInactiveDescriptions?optionsHtml+'<input type="checkbox" id="'+d.divElement.id+'-displayInactiveDescriptionsOption"> <span class="i18n" data-i18n-id="i18n_display_inactive_descriptions">Display inactive descriptions</span>':optionsHtml+'<input type="checkbox" id="'+d.divElement.id+'-displayInactiveDescriptionsOption" checked> <span class="i18n" data-i18n-id="i18n_display_inactive_descriptions">Display inactive descriptions</span>',optionsHtml+="</label>",optionsHtml+="</div>",optionsHtml+='<div class="checkbox">',optionsHtml+="<label>",optionsHtml=0==d.options.hideNotAcceptable?optionsHtml+'<input type="checkbox" id="'+d.divElement.id+'-hideNotAcceptableOption"> <span class="i18n" data-i18n-id="i18n_hide_not_acceptable">Hide descriptions with no acceptability</span>':optionsHtml+'<input type="checkbox" id="'+d.divElement.id+'-hideNotAcceptableOption" checked> <span class="i18n" data-i18n-id="i18n_hide_not_acceptable">Hide descriptions with no acceptability</span>',optionsHtml+="</label>",optionsHtml+="</div>",optionsHtml+='<div class="checkbox">',optionsHtml+="<label>",optionsHtml=0==d.options.diagrammingMarkupEnabled?optionsHtml+'<input type="checkbox" id="'+d.divElement.id+'-diagrammingMarkupEnabledOption"> <span class="i18n" data-i18n-id="i18n_diagramming_markup_enabled">Diagramming Guideline colors enabled</span>':optionsHtml+'<input type="checkbox" id="'+d.divElement.id+'-diagrammingMarkupEnabledOption" checked> <span class="i18n" data-i18n-id="i18n_diagramming_markup_enabled">Diagramming Guideline colors enabled</span>',optionsHtml+="</label>",optionsHtml+="</div>",optionsHtml+="</div>",optionsHtml+='<div class="form-group">',optionsHtml+='<label for="selectedRelsView"><span class="i18n" data-i18n-id="i18n_rels_view">Relationships View</span></label>',optionsHtml=optionsHtml+'<select class="form-control" id="'+d.divElement.id+'-relsViewOption">',"undefined"==typeof i18n_inferred&&(i18n_inferred="Inferred"),"undefined"==typeof i18n_stated&&(i18n_stated="Stated"),"undefined"==typeof i18n_all&&(i18n_all="All"),optionsHtml="stated"==d.options.selectedView?optionsHtml+'<option value="stated" selected>'+i18n_stated+"</option>":optionsHtml+'<option value="stated">'+i18n_stated+"</option>",optionsHtml="inferred"==d.options.selectedView?optionsHtml+'<option value="inferred" selected>'+i18n_inferred+"</option>":optionsHtml+'<option value="inferred">'+i18n_inferred+"</option>",optionsHtml="all"==d.options.selectedView?optionsHtml+'<option value="all" selected>'+i18n_all+"</option>":optionsHtml+'<option value="all">'+i18n_all+"</option>",optionsHtml+="</select>",optionsHtml+="</div>",optionsHtml+='<div class="form-group">',optionsHtml=optionsHtml+'<label for="'+d.divElement.id+'-langRefsetOption"><span class="i18n" data-i18n-id="i18n_language_refset">Language Refset</span></label>',optionsHtml=optionsHtml+'<select class="form-control" id="'+d.divElement.id+'-langRefsetOption">',optionsHtml+="900000000000508004"==d.options.langRefset?'<option value="900000000000508004" selected>GB Language Refset</option>':'<option value="900000000000508004">GB Language Refset</option>',optionsHtml+="900000000000509007"==d.options.langRefset?'<option value="900000000000509007" selected>US Language Refset</option>':'<option value="900000000000509007">US Language Refset</option>',optionsHtml+="450828004"==d.options.langRefset?'<option value="450828004" selected>ES Language Refset</option>':'<option value="450828004">ES Language Refset</option>',optionsHtml+="554461000005103"==d.options.langRefset?'<option value="554461000005103" selected>DA Language Refset</option>':'<option value="554461000005103">DA Language Refset</option>',optionsHtml+="46011000052107"==d.options.langRefset?'<option value="46011000052107" selected>SV Language Refset</option>':'<option value="46011000052107">SV Language Refset</option>',optionsHtml+="</select>",optionsHtml+="</div>",optionsHtml+="</form>",$("#"+d.divElement.id+"-modal-body").html(optionsHtml)},this.readOptionsPanel=function(){d.options.displaySynonyms=$("#"+d.divElement.id+"-displaySynonymsOption").is(":checked"),d.options.showIds=$("#"+d.divElement.id+"-displayIdsOption").is(":checked"),d.options.displayChildren=$("#"+d.divElement.id+"-childrenOption").is(":checked"),d.options.hideNotAcceptable=$("#"+d.divElement.id+"-hideNotAcceptableOption").is(":checked"),d.options.displayInactiveDescriptions=$("#"+d.divElement.id+"-displayInactiveDescriptionsOption").is(":checked"),d.options.diagrammingMarkupEnabled=$("#"+d.divElement.id+"-diagrammingMarkupEnabledOption").is(":checked"),d.options.selectedView=$("#"+d.divElement.id+"-relsViewOption").val(),d.options.langRefset=$("#"+d.divElement.id+"-langRefsetOption").val()},this.removeSemtag=function(a){return a.lastIndexOf("(")>0?a.substr(0,a.lastIndexOf("(")-1):a}}function updateCD(a,b){$.each(componentsRegistry,function(c,d){d.divElement.id==a&&(d.conceptId=b,d.updateCanvas())}),$(".history-button").popover("hide")}function cancelSubscription(a,b){var c,d;$.each(componentsRegistry,function(e,f){f.divElement.id==a?c=f:f.divElement.id==b&&(d=f)}),c.unsubscribe(d),$(d.divElement).find(".linker-button").popover("toggle")}function getRandomColor(){for(var a="0123456789ABCDEF".split(""),b="#",c=0;6>c;c++)b+=a[Math.round(15*Math.random())];return b}function drawConceptDiagram(a,b,c){var d=[],e=[];"stated"==c.selectedView?$.each(a.statedRelationships,function(a,b){1==b.active&&(116680003==b.type.conceptId?d.push(b):e.push(b))}):$.each(a.relationships,function(a,b){1==b.active&&(116680003==b.type.conceptId?d.push(b):e.push(b))});var f=b;f.svg("destroy"),f.svg({settings:{width:"1000px",height:"2000px"}});var g=f.svg("get");loadDefs(g);var h=10,i=10,j="";j="Primitive"==a.definitionStatus?"sct-primitive-concept":"sct-defined-concept";var k=drawSctBox(g,h,i,a.defaultTerm,a.conceptId,j);h+=90,i=i+k.getBBox().height+40;var l;l="Primitive"==a.definitionStatus?drawSubsumedByNode(g,h,i):drawEquivalentNode(g,h,i),connectElements(g,k,l,"bottom-50","left"),h+=55;var m=drawConjunctionNode(g,h,i);connectElements(g,l,m,"right","left","LineMarker"),h+=40,i-=18,j="sct-defined-concept",$.each(d,function(a,b){j="Primitive"==b.target.definitionStatus?"sct-primitive-concept":"sct-defined-concept";var c=drawSctBox(g,h,i,b.target.defaultTerm,b.target.conceptId,j);connectElements(g,m,c,"center","left","ClearTriangle"),i=i+c.getBBox().height+25});var n=0;$.each(e,function(a,b){if(j="Primitive"==b.target.definitionStatus?"sct-primitive-concept":"sct-defined-concept",0==b.groupId){var c=drawSctBox(g,h,i,b.type.defaultTerm,b.type.conceptId,"sct-attribute");connectElements(g,m,c,"center","left");var d=drawSctBox(g,h+c.getBBox().width+50,i,b.target.defaultTerm,b.target.conceptId,j);connectElements(g,c,d,"right","left"),i=i+d.getBBox().height+25}else b.groupId>n&&(n=b.groupId)}),i+=15;for(var o=1;n>=o;o++){var p=drawAttributeGroupNode(g,h,i);connectElements(g,m,p,"center","left");var q=drawConjunctionNode(g,h+55,i);connectElements(g,p,q,"right","left"),$.each(e,function(a,b){if(b.groupId==o){j="Primitive"==b.target.definitionStatus?"sct-primitive-concept":"sct-defined-concept";var c=drawSctBox(g,h+85,i-18,b.type.defaultTerm,b.type.conceptId,"sct-attribute");connectElements(g,q,c,"center","left");var d=drawSctBox(g,h+85+c.getBBox().width+30,i-18,b.target.defaultTerm,b.target.conceptId,j);connectElements(g,c,d,"right","left"),i=i+d.getBBox().height+25}})}var r='<?xml version="1.0" encoding="UTF-8" standalone="no"?>'+f.html();r=r.substr(0,r.indexOf("svg")+4)+' xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://web.resource.org/cc/" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" '+r.substr(r.indexOf("svg")+5);var s=Base64.encode(r);$(b).prepend($("<a href-lang='image/svg+xml' href='data:image/svg+xml;base64,\n"+s+"' download='diagram.svg'>Download</a>"))}function saveAsPng(a){var b=document.createElement("canvas");b.id="canvas",document.body.appendChild(b),canvg(document.getElementById("canvas"),a),Canvas2Image.saveAsPNG(b),b.width=b.width}function searchPanel(a,b){var c=null,d=this;this.subscribers=[];var e="",f=null;"undefined"==typeof componentsRegistry&&(componentsRegistry=[]),this.markerColor="black",this.type="search",this.divElement=a,this.options=jQuery.extend(!0,{},b);var g=!1;$.each(componentsRegistry,function(a,b){b.divElement.id==d.divElement.id&&(g=!0)}),0==g&&componentsRegistry.push(d),this.history=[],this.setupCanvas=function(){var f={divElementId:d.divElement.id};$.get("views/searchPlugin/main.hbs").then(function(g){Handlebars.registerHelper("if_eq",function(a,b,c){return"undefined"!=c?a==b?c.fn(this):c.inverse(this):void 0}),Handlebars.registerHelper("console",function(a){console.log(a)});var h=Handlebars.compile(g);$(a).html(h(f)),$("#"+d.divElement.id+"-searchBox").keyup(function(){clearTimeout(c);var a=$(this);c=setTimeout(function(){d.search(a.val(),0,100,!1)},500)}),$("#"+d.divElement.id+"-linkerButton").disableTextSelect(),$("#"+d.divElement.id+"-subscribersMarker").disableTextSelect(),$("#"+d.divElement.id+"-configButton").disableTextSelect(),$("#"+d.divElement.id+"-historyButton").disableTextSelect(),$("#"+d.divElement.id+"-collapseButton").disableTextSelect(),$("#"+d.divElement.id+"-expandButton").disableTextSelect(),$("#"+d.divElement.id+"-closeButton").disableTextSelect(),$("#"+d.divElement.id+"-clearButton").disableTextSelect(),$("#"+d.divElement.id+"-expandButton").hide(),$("#"+d.divElement.id+"-subscribersMarker").hide(),$("#"+d.divElement.id).find(".semtag-button").click(function(){console.log("Semtag click: "+$(this).html())}),"fullText"!=b.searchMode&&$("#"+d.divElement.id+"-navLanguageLabel").closest("a").hide(),$("#"+d.divElement.id+"-configButton").click(function(){$("#"+d.divElement.id+"-searchConfigBar").slideToggle("slow")}),"undefined"!=typeof d.options.closeButton&&0==d.options.closeButton&&$("#"+d.divElement.id+"-closeButton").hide(),"undefined"!=typeof d.options.linkerButton&&0==d.options.linkerButton&&$("#"+d.divElement.id+"-linkerButton").hide(),"undefined"!=typeof d.options.subscribersMarker&&0==d.options.subscribersMarker&&$("#"+d.divElement.id+"-subscribersMarker").remove(),"undefined"!=typeof d.options.collapseButton&&0==d.options.collapseButton&&($("#"+d.divElement.id+"-expandButton").hide(),$("#"+d.divElement.id+"-collapseButton").hide()),$("#"+d.divElement.id+"-expandButton").click(function(){$("#"+d.divElement.id+"-panelBody").slideDown("fast"),$("#"+d.divElement.id+"-expandButton").hide(),$("#"+d.divElement.id+"-collapseButton").show()}),$("#"+d.divElement.id+"-collapseButton").click(function(){$("#"+d.divElement.id+"-panelBody").slideUp("fast"),$("#"+d.divElement.id+"-expandButton").show(),$("#"+d.divElement.id+"-collapseButton").hide()}),"undefined"==typeof i18n_panel_options&&(i18n_panel_options="Panel options"),$("#"+d.divElement.id+"-configButton").tooltip({placement:"left",trigger:"hover",title:i18n_panel_options,animation:!0,delay:1e3}),"undefined"==typeof i18n_history&&(i18n_history="History"),$("#"+d.divElement.id+"-historyButton").tooltip({placement:"left",trigger:"hover",title:i18n_history,animation:!0,delay:1e3}),"undefined"==typeof i18n_panel_links&&(i18n_panel_links="Panel links"),$("#"+d.divElement.id+"-linkerButton").tooltip({placement:"left",trigger:"hover",title:i18n_panel_links,animation:!0,delay:1e3}),$("#"+d.divElement.id+"-linkerButton").draggable({cancel:!1,appendTo:"body",helper:"clone",delay:500}),$("#"+d.divElement.id+"-linkerButton").droppable({drop:d.handlePanelDropEvent,hoverClass:"bg-info"}),$("#"+d.divElement.id+"-apply-button").click(function(){d.readOptionsPanel();var a=$("#"+d.divElement.id+"-searchBox").val();console.log("searchTerm: "+a),a.length>0&&d.search(a+" ",0,100,!1)}),$("#"+d.divElement.id+"-clearButton").click(function(){d.options.semTagFilter="none",d.options.langFilter="none",$("#"+d.divElement.id+"-searchBox").val(""),$("#"+d.divElement.id+"-searchFilters").html(""),$("#"+d.divElement.id+"-resultsTable").html(""),$("#"+d.divElement.id+"-searchBar").html(""),$("#"+d.divElement.id+"-typeIcon").removeClass("glyphicon-ok"),$("#"+d.divElement.id+"-typeIcon").removeClass("text-success"),$("#"+d.divElement.id+"-typeIcon").addClass("glyphicon-remove"),$("#"+d.divElement.id+"-typeIcon").addClass("text-danger"),e=""
}),$("#"+d.divElement.id+"-historyButton").click(function(){$("#"+d.divElement.id+"-historyButton").popover({trigger:"manual",placement:"bottomRight",html:!0,content:function(){historyHtml='<div style="height:100px;overflow:auto;">',0==d.history.length&&(historyHtml=historyHtml+'<div class="text-center text-muted" style="width:100%"><em>'+i18n_no_search_terms+"</span>...</em></div>"),historyHtml+="<table>";var a=d.history.slice(0);return a.reverse(),$.each(a,function(a,b){var c=new Date,e=c.getTime(),f=e-b.time,g="";6e4>f?g=1==Math.round(f/1e3)?Math.round(f/1e3)+" second ago":Math.round(f/1e3)+" seconds ago":36e5>f?g=1==Math.round(f/1e3/60)?Math.round(f/1e3/60)+" minute ago":Math.round(f/1e3/60)+" minutes ago":216e6>f&&(g=1==Math.round(f/1e3/60/60)?Math.round(f/1e3/60/60)+" hour ago":Math.round(f/1e3/60/60)+" hours ago"),historyHtml=historyHtml+'<tr><td><a href="javascript:void(0);" onclick="searchInPanel(\''+d.divElement.id+"','"+b.searchTerm+"');\">"+b.searchTerm+"</a>",historyHtml=historyHtml+' <span class="text-muted" style="font-size: 80%"><em>'+g+"<em></span>",historyHtml+="</td></tr>"}),historyHtml+="</table>",historyHtml+="</div>"}}),$("#"+d.divElement.id+"-historyButton").popover("toggle")}),$("#"+d.divElement.id+"-linkerButton").click(function(){$("#"+d.divElement.id+"-linkerButton").popover({trigger:"manual",placement:"bottomRight",html:!0,content:function(){var a='<div class="text-center text-muted"><em><span class="i18n" data-i18n-id="i18n_drag_to_link">Drag to link with other panels</span><br>';return a=1==d.subscribers.length?a+d.subscribers.length+" link established</em></div>":a+d.subscribers.length+" links established</em></div>",a=a+'<div class="text-center"><a href="javascript:void(0);" onclick="clearSearchPanelSubscriptions(\''+d.divElement.id+'\');"><span class="i18n" data-i18n-id="i18n_clear_links">Clear links</span></a></div>'}}),$("#"+d.divElement.id+"-linkerButton").popover("toggle")}),$("#"+d.divElement.id+"-fullTextButton").click(function(){d.options.searchMode="fullText",d.updateSearchLabel();var a=$("#"+d.divElement.id+"-searchBox").val();$("#"+d.divElement.id+"-navLanguageLabel").closest("a").show(),"^"==a.charAt(0)&&$("#"+d.divElement.id+"-searchBox").val(a.slice(1)),a.length>0&&d.search(a,0,100,!0)}),$("#"+d.divElement.id+"-partialMatchingButton").click(function(){d.options.searchMode="partialMatching",d.updateSearchLabel();var a=$("#"+d.divElement.id+"-searchBox").val();$("#"+d.divElement.id+"-navLanguageLabel").closest("a").hide(),"^"==a.charAt(0)&&$("#"+d.divElement.id+"-searchBox").val(a.slice(1)),a.length>0&&d.search(a,0,100,!0)}),$("#"+d.divElement.id+"-regexButton").click(function(){d.options.searchMode="regex",d.updateSearchLabel();var a=$("#"+d.divElement.id+"-searchBox").val();$("#"+d.divElement.id+"-navLanguageLabel").closest("a").hide(),"^"!=a.charAt(0)&&$("#"+d.divElement.id+"-searchBox").val("^"+a),a.length>0&&d.search(a,0,100,!0)}),$("#"+d.divElement.id+"-danishLangButton").click(function(){d.options.searchLang="danish",$("#"+d.divElement.id+"-navLanguageLabel").html(i18n_danish_stemmer);var a=$("#"+d.divElement.id+"-searchBox").val();a.length>0&&d.search(a,0,100,!0)}),$("#"+d.divElement.id+"-englishLangButton").click(function(){d.options.searchLang="english",$("#"+d.divElement.id+"-navLanguageLabel").html(i18n_english_stemmer);var a=$("#"+d.divElement.id+"-searchBox").val();a.length>0&&d.search(a,0,100,!0)}),$("#"+d.divElement.id+"-spanishLangButton").click(function(){d.options.searchLang="spanish",$("#"+d.divElement.id+"-navLanguageLabel").html(i18n_spanish_stemmer);var a=$("#"+d.divElement.id+"-searchBox").val();a.length>0&&d.search(a,0,100,!0)}),$("#"+d.divElement.id+"-swedishLangButton").click(function(){d.options.searchLang="swedish",$("#"+d.divElement.id+"-navLanguageLabel").html(i18n_swedish_stemmer);var a=$("#"+d.divElement.id+"-searchBox").val();a.length>0&&d.search(a,0,100,!0)}),d.updateStatusFilterLabel(),$("#"+d.divElement.id+"-activeOnlyButton").click(function(){d.options.statusSearchFilter="activeOnly",d.updateStatusFilterLabel()}),$("#"+d.divElement.id+"-activeInactiveButton").click(function(){d.options.statusSearchFilter="activeAndInactive",d.updateStatusFilterLabel()}),$("#"+d.divElement.id+"-inactiveOnlyButton").click(function(){d.options.statusSearchFilter="inactiveOnly",d.updateStatusFilterLabel()}),$("#"+d.divElement.id+"-partialMatchingButton").click()})},this.updateStatusFilterLabel=function(){"undefined"==typeof i18n_active_and_inactive&&(i18n_active_and_inactive="Active and Inactive"),"undefined"==typeof i18n_inactive_only&&(i18n_inactive_only="Inactive Only"),"undefined"==typeof i18n_active_only&&(i18n_active_only="Active Only"),"activeAndInactive"==d.options.statusSearchFilter?$("#"+d.divElement.id+"-navStatusFilterLabel").html(i18n_active_and_inactive):"inactiveOnly"==d.options.statusSearchFilter?$("#"+d.divElement.id+"-navStatusFilterLabel").html(i18n_inactive_only):(d.options.statusSearchFilter="activeOnly",$("#"+d.divElement.id+"-navStatusFilterLabel").html(i18n_active_only));var a=$("#"+d.divElement.id+"-searchBox").val();a.length>0&&d.search(a,0,100,!0)},this.handlePanelDropEvent=function(a,b){var c=b.draggable;c.attr("data-panel")&&$.each(componentsRegistry,function(a,b){b.divElement.id==c.attr("data-panel")&&"concept-details"==b.type&&d.subscribe(b)})},this.search=function(a,c,g,h){if("undefined"==typeof d.options.searchMode&&(d.options.searchMode="partialMatching"),"undefined"==typeof d.options.semTagFilter&&(d.options.semTagFilter="none"),"undefined"==typeof d.options.langFilter&&(d.options.langFilter="none"),"undefined"==typeof h&&(h=!1),""!=a&&(a!=e||h))if(a.length<3)$("#"+d.divElement.id+"-typeIcon").removeClass("glyphicon-ok"),$("#"+d.divElement.id+"-typeIcon").removeClass("text-success"),$("#"+d.divElement.id+"-typeIcon").addClass("glyphicon-remove"),$("#"+d.divElement.id+"-typeIcon").addClass("text-danger");else{$("#"+d.divElement.id+"-typeIcon").removeClass("glyphicon-remove"),$("#"+d.divElement.id+"-typeIcon").removeClass("text-danger"),$("#"+d.divElement.id+"-typeIcon").addClass("glyphicon-ok"),$("#"+d.divElement.id+"-typeIcon").addClass("text-success"),a!=e&&(d.options.semTagFilter="none",d.options.langFilter="none"),e=a;var i=new Date,j=i.getTime();d.history.push({searchTerm:a,time:j}),$("#"+d.divElement.id+"-searchFilters").html(""),0==c?$("#"+d.divElement.id+"-resultsTable").html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"):$("#"+d.divElement.id+"-resultsTable").find(".more-row").html("<td colspan='2' class='text-center'><i class='glyphicon glyphicon-refresh icon-spin'></i>&nbsp;&nbsp;</td>");var k="";if(null!=f&&(f.abort(),console.log("aborting call...")),$("#"+d.divElement.id+"-searchBar").html("<span class='text-muted'>Searching..</span>"),a=a.trim(),isNumber(a))"0"==a.substr(-2,1)?f=$.getJSON(b.serverUrl+"/"+b.edition+"/"+b.release+"/concepts/"+a,function(){}).done(function(a){$.get("views/searchPlugin/body/0.hbs").then(function(b){var c={result:a},e=Handlebars.compile(b);$("#"+d.divElement.id+"-resultsTable").html(e(c)),$("#"+d.divElement.id+"-searchBar").html("<span class='text-muted'></span>"),$("#"+d.divElement.id+"-resultsTable").find(".jqui-draggable").draggable({appendTo:"body",helper:"clone",delay:500}),$("#"+d.divElement.id+"-resultsTable").find(".result-item").click(function(a){$.each(d.subscribers,function(b,c){c.conceptId=$(a.target).attr("data-concept-id"),c.updateCanvas()})})})}):"1"==a.substr(-2,1)?f=$.getJSON(b.serverUrl+"/"+b.edition+"/"+b.release+"/descriptions/"+a,function(){}).done(function(a){$.get("views/searchPlugin/body/0.hbs").then(function(b){var c={result:a},e=Handlebars.compile(b);$("#"+d.divElement.id+"-resultsTable").html(e(c)),$("#"+d.divElement.id+"-searchBar").html("<span class='text-muted'></span>"),$("#"+d.divElement.id+"-resultsTable").find(".jqui-draggable").draggable({appendTo:"body",helper:"clone",delay:500}),$("#"+d.divElement.id+"-resultsTable").find(".result-item").click(function(a){$.each(d.subscribers,function(b,c){c.conceptId=$(a.target).attr("data-concept-id"),c.updateCanvas()})})})}):(k+="<tr><td class='text-muted'>No results</td></tr>",$("#"+d.divElement.id+"-resultsTable").html(k),$("#"+d.divElement.id+"-searchBar").html("<span class='text-muted'></span>"));else{"partialMatching"==d.options.searchMode&&(a=a.toLowerCase());var l=Date.now(),m=b.serverUrl+"/"+b.edition+"/"+b.release+"/descriptions?query="+a+"&limit=50&searchMode="+d.options.searchMode+"&lang="+d.options.searchLang+"&statusFilter="+d.options.statusSearchFilter+"&skipTo="+c+"&returnLimit="+g;"none"!=d.options.semTagFilter&&(m=m+"&semanticFilter="+d.options.semTagFilter),"none"!=d.options.langFilter&&(m=m+"&langFilter="+d.options.langFilter),f=$.getJSON(m,function(){}).done(function(b){$("#"+d.divElement.id+"-resultsTable").find(".more-row").remove();var e=Date.now(),h=(e-l)/1e3;if($.get("views/searchPlugin/body/bar.hbs").then(function(c){var e={result:b,elapsed:h,divElementId:d.divElement.id,options:d.options},f=Handlebars.compile(c);$("#"+d.divElement.id+"-searchBar").html(f(e)),$("#"+d.divElement.id+"-searchBar").find(".semtag-link").click(function(b){d.options.semTagFilter=$(b.target).attr("data-semtag"),d.search(a,0,g,!0)}),$("#"+d.divElement.id+"-searchBar").find(".lang-link").click(function(b){d.options.langFilter=$(b.target).attr("data-lang"),d.search(a,0,g,!0)}),$("#"+d.divElement.id+"-searchBar").find(".remove-semtag").click(function(){d.options.semTagFilter="none",d.search(a,0,g,!0)}),$("#"+d.divElement.id+"-searchBar").find(".remove-lang").click(function(){d.options.langFilter="none",d.search(a,0,g,!0)})}),b.details)var i="<span class='text-muted'>"+b.details.total+" matches found in "+h+" seconds.</span>";$("#"+d.divElement.id+"-searchBar").html(i),f=null;var j=b.matches,m=b.details.total-(c+g);!j||j.length<=0?(k+="<tr><td class='text-muted'>No results</td></tr>",$("#"+d.divElement.id+"-resultsTable").html(k)):("regex"==d.options.searchMode&&b.matches.sort(function(a,b){return a.term.length<b.term.length?-1:a.term.length>b.term.length?1:0}),$.each(j,function(a,b){k+="<tr class='resultRow selectable-row",(0==b.active||0==b.conceptActive)&&(k+=" danger"),k=k+"'><td class='col-md-6'><div draggable='true' ondragstart='drag(event)' class='result-item' data-concept-id='"+b.conceptId+"' data-term='"+b.term+"'><a href='javascript:void(0);' style='color: inherit;text-decoration: inherit;'  data-concept-id='"+b.conceptId+"' data-term='"+b.term+"'>"+b.term+"</a></div></td><td class='text-muted small-text col-md-6 result-item'  data-concept-id='"+b.conceptId+"' data-term='"+b.term+"'>"+b.fsn+"</td></tr>"}),k=m>0?k+"<tr class='more-row'><td colspan='2' class='text-center'><button class='btn btn-link' id='"+d.divElement.id+"-more'>Load "+g+" more ("+m+" remaining on server)</button></td></tr>":k+"<tr class='more-row'><td colspan='2' class='text-center text-muted'>All "+b.details.total+" results are displayed</td></tr>"),$.get("views/searchPlugin/body/default.hbs").then(function(e){Handlebars.registerHelper("if_gr",function(a,b,c){return a?a>parseInt(b)?c.fn(this):c.inverse(this):void 0}),Handlebars.registerHelper("if_gre",function(a,b,c){return a?parseInt(a)>=b?c.fn(this):c.inverse(this):void 0});var f={result:b,divElementId:d.divElement.id,remaining:m,returnLimit:g},h=Handlebars.compile(e);$("#"+d.divElement.id+"-more").click(function(){d.search(a,parseInt(c)+parseInt(g),g,!0)}),0==c?$("#"+d.divElement.id+"-resultsTable").html(h(f)):$("#"+d.divElement.id+"-resultsTable").append(h(f)),$("#"+d.divElement.id+"-resultsTable").find(".jqui-draggable").draggable({appendTo:"body",helper:"clone",delay:500}),$("#"+d.divElement.id+"-resultsTable").find(".result-item").click(function(a){$.each(d.subscribers,function(b,c){c.conceptId=$(a.target).attr("data-concept-id"),c.updateCanvas(),lastClickedSctid=$(a.target).attr("data-concept-id"),lastClickTime=Date.now()})})})}).fail(function(){k+="<tr><td class='text-muted'>No results</td></tr>",$("#"+d.divElement.id+"-resultsTable").html(k)})}}},this.subscribe=function(a){var b=!1;$.each(d.subscribers,function(c,d){a.divElement.id==d.divElement.id&&(b=!0)}),b||(0==d.subscribers.length&&("undefined"==typeof globalMarkerColor&&(globalMarkerColor="black"),d.markerColor=d.getNextMarkerColor(globalMarkerColor),$("#"+d.divElement.id+"-subscribersMarker").css("color",d.markerColor),$("#"+d.divElement.id+"-subscribersMarker").show()),d.subscribers.push(a),a.setSubscription(d))},this.unsubscribe=function(a){var b=-1;$.each(d.subscribers,function(c,d){a.divElement.id==d.divElement.id&&(b=c),c+=1}),b>-1&&d.subscribers.splice(b,1),0==d.subscribers.length&&$("#"+d.divElement.id+"-subscribersMarker").hide(),a.clearSubscription()},this.unsubscribeAll=function(){var a=d.subscribers.slice(0);$.each(a,function(a,b){d.unsubscribe(b)})},this.getNextMarkerColor=function(a){var b="black";return"black"==a?b="green":"green"==a?b="purple":"purple"==a?b="red":"red"==a?b="blue":"blue"==a&&(b="green"),globalMarkerColor=b,b},this.updateSearchLabel=function(){"undefined"==typeof d.options.searchMode&&(d.options.searchMode="partialMatching"),"undefined"==typeof i18n_search_examp_1&&(i18n_search_examp_1="Example 1"),"undefined"==typeof i18n_search_examp_2&&(i18n_search_examp_2="Example 2"),"undefined"==typeof i18n_search_examp_3&&(i18n_search_examp_3="Example 3"),"undefined"==typeof i18n_regex_search_mode&&(i18n_regex_search_mode="Regex"),"undefined"==typeof i18n_partial_match_search_mode&&(i18n_partial_match_search_mode="Partial"),"undefined"==typeof i18n_full_text_search_mode&&(i18n_full_text_search_mode="Full"),"regex"==d.options.searchMode?($("#"+d.divElement.id+"-searchExample").html("<span class='i18n text-muted' data-i18n-id='i18n_search_examp_1'>"+i18n_search_examp_1+"</span> "),$("#"+d.divElement.id+"-navSearchModeLabel").html("<span class='i18n' data-i18n-id='i18n_regex_search_mode'>"+i18n_regex_search_mode+"</span>")):"fullText"==d.options.searchMode?($("#"+d.divElement.id+"-searchExample").html("<span class='i18n text-muted' data-i18n-id='i18n_search_examp_2'>"+i18n_search_examp_2+"</em></span> "),$("#"+d.divElement.id+"-navSearchModeLabel").html("<span class='i18n' data-i18n-id='i18n_full_text_search_mode'>"+i18n_full_text_search_mode+"</span>")):"partialMatching"==d.options.searchMode&&($("#"+d.divElement.id+"-searchExample").html("<span class='i18n text-muted' data-i18n-id='i18n_search_examp_3'>"+i18n_search_examp_3+"</span> "),$("#"+d.divElement.id+"-navSearchModeLabel").html("<span class='i18n' data-i18n-id='i18n_partial_match_search_mode'>"+i18n_partial_match_search_mode+"</span>")),"undefined"==typeof d.options.searchLang&&(d.options.searchLang="english"),"undefined"==typeof i18n_danish_stemmer&&(i18n_danish_stemmer="Danish Stemmer"),"undefined"==typeof i18n_english_stemmer&&(i18n_english_stemmer="English Stemmer"),"undefined"==typeof i18n_spanish_stemmer&&(i18n_spanish_stemmer="Spanish Stemmer"),"danish"==d.options.searchLang?$("#"+d.divElement.id+"-navLanguageLabel").html("<span class='i18n' data-i18n-id='i18n_danish_stemmer'>"+i18n_danish_stemmer+"</span>"):"english"==d.options.searchLang?$("#"+d.divElement.id+"-navLanguageLabel").html("<span class='i18n' data-i18n-id='i18n_english_stemmer'>"+i18n_english_stemmer+"</span>"):"spanish"==d.options.searchLang&&$("#"+d.divElement.id+"-navLanguageLabel").html("<span class='i18n' data-i18n-id='i18n_spanish_stemmer'>"+i18n_spanish_stemmer+"</span>")},this.setupCanvas(),this.updateSearchLabel()}function isNumber(a){return!isNaN(parseFloat(a))&&isFinite(a)}function clearSearchPanelSubscriptions(a){var b;$.each(componentsRegistry,function(c,d){d.divElement.id==a&&(b=d)}),b.unsubscribeAll(),$("#"+a).find(".linker-button").popover("toggle")}function searchInPanel(a,b){$.each(componentsRegistry,function(c,d){d.divElement.id==a&&($("#"+a+"-searchBox").val(b),d.search(b,0,100,!1))}),$(".history-button").popover("hide")}function drawSctBox(a,b,c,d,e,f){var g="Test";d&&e?g=d.length>e.toString().length?d:e.toString():d?g=d:e&&(g=e.toString());var h=a.text(b,c,g,{fontFamily:'"Helvetica Neue",Helvetica,Arial,sans-serif',fontSize:"12",fill:"black"}),i=h.getBBox().height,j=h.getBBox().width;a.remove(h);var k=null,l=20,m=25;if(e&&d||(m=15),"sct-primitive-concept"==f)k=a.rect(b,c,j+l,i+m,{id:"rect"+idSequence,fill:"#99ccff",stroke:"#333",strokeWidth:2});else if("sct-defined-concept"==f){k=a.rect(b-2,c-2,j+l+4,i+m+4,{fill:"white",stroke:"#333",strokeWidth:1});{a.rect(b,c,j+l,i+m,{id:"rect"+idSequence,fill:"#ccccff",stroke:"#333",strokeWidth:1})}}else if("sct-attribute"==f){k=a.rect(b-2,c-2,j+l+4,i+m+4,18,18,{fill:"white",stroke:"#333",strokeWidth:1});{a.rect(b,c,j+l,i+m,18,18,{id:"rect"+idSequence,fill:"#ffffcc",stroke:"#333",strokeWidth:1})}}else k="sct-slot"==f?a.rect(b,c,j+l,i+m,{id:"rect"+idSequence,fill:"#99ccff",stroke:"#333",strokeWidth:2}):a.rect(b,c,j+l,i+m,{id:"rect"+idSequence,fill:"white",stroke:"black",strokeWidth:1});return e&&d?(a.text(b+10,c+16,e.toString(),{fontFamily:'"Helvetica Neue",Helvetica,Arial,sans-serif',fontSize:"10",fill:"black"}),a.text(b+10,c+31,d,{fontFamily:'"Helvetica Neue",Helvetica,Arial,sans-serif',fontSize:"12",fill:"black"})):d?a.text(b+10,c+18,d,{fontFamily:'"Helvetica Neue",Helvetica,Arial,sans-serif',fontSize:"12",fill:"black"}):e&&a.text(b+10,c+18,e.toString(),{fontFamily:'"Helvetica Neue",Helvetica,Arial,sans-serif',fontSize:"12",fill:"black"}),idSequence++,$("rect").click(function(a){console.log(a.target)}),k}function connectElements(a,b,c,d,e,f){var g=b.getBBox().x,h=b.getBBox().y,i=b.getBBox().width,j=b.getBBox().height,k=c.getBBox().x,l=c.getBBox().y,m=c.getBBox().width,n=c.getBBox().height,o=15,p=15;switch(d){case"top":originY=h,originX=g+i/2;break;case"bottom":originY=h+j,originX=g+i/2;break;case"left":originX=g-o,originY=h+j/2;break;case"right":originX=g+i,originY=h+j/2;break;case"bottom-50":originY=h+j,originX=g+40;break;default:originX=g+i/2,originY=h+j/2}switch(e){case"top":destinationY=l,destinationX=k+m/2;break;case"bottom":destinationY=l+n,destinationX=k+m/2;break;case"left":destinationX=k-p,destinationY=l+n/2;break;case"right":destinationX=k+m,destinationY=l+n/2;break;case"bottom-50":destinationY=l+n,destinationX=k+50;break;default:destinationX=k+m/2,destinationY=l+n/2}null==f&&(f="BlackTriangle"),polyline1=a.polyline([[originX,originY],[originX,destinationY],[destinationX,destinationY]],{id:"poly1",fill:"none",stroke:"black",strokeWidth:2,"marker-end":"url(#"+f+")"})}function loadDefs(a){var b=a.defs("SctDiagramsDefs");blackTriangle=a.marker(b,"BlackTriangle",0,0,20,20,{viewBox:"0 0 22 20",refX:"0",refY:"10",markerUnits:"strokeWidth",markerWidth:"8",markerHeight:"6",fill:"black",stroke:"black",strokeWidth:2}),a.path(blackTriangle,"M 0 0 L 20 10 L 0 20 z"),clearTriangle=a.marker(b,"ClearTriangle",0,0,20,20,{viewBox:"0 0 22 20",refX:"0",refY:"10",markerUnits:"strokeWidth",markerWidth:"8",markerHeight:"8",fill:"white",stroke:"black",strokeWidth:2}),a.path(clearTriangle,"M 0 0 L 20 10 L 0 20 z"),lineMarker=a.marker(b,"LineMarker",0,0,20,20,{viewBox:"0 0 22 20",refX:"0",refY:"10",markerUnits:"strokeWidth",markerWidth:"8",markerHeight:"8",fill:"white",stroke:"black",strokeWidth:2}),a.path(lineMarker,"M 0 10 L 20 10")}function drawAttributeGroupNode(a,b,c){return circle=a.circle(b,c,20,{fill:"white",stroke:"black",strokeWidth:2})}function drawConjunctionNode(a,b,c){return circle=a.circle(b,c,10,{fill:"black",stroke:"black",strokeWidth:2})}function drawEquivalentNode(a,b,c){return g=a.group(),a.circle(g,b,c,20,{fill:"white",stroke:"black",strokeWidth:2}),a.line(g,b-7,c-5,b+7,c-5,{stroke:"black",strokeWidth:2}),a.line(g,b-7,c,b+7,c,{stroke:"black",strokeWidth:2}),a.line(g,b-7,c+5,b+7,c+5,{stroke:"black",strokeWidth:2}),g}function drawSubsumedByNode(a,b,c){return g=a.group(),a.circle(g,b,c,20,{fill:"white",stroke:"black",strokeWidth:2}),a.line(g,b-7,c-8,b+7,c-8,{stroke:"black",strokeWidth:2}),a.line(g,b-7,c+3,b+7,c+3,{stroke:"black",strokeWidth:2}),a.line(g,b-6,c-8,b-6,c+3,{stroke:"black",strokeWidth:2}),a.line(g,b-7,c+7,b+7,c+7,{stroke:"black",strokeWidth:2}),g}function drawSubsumesNode(a,b,c){return g=a.group(),a.circle(g,b,c,20,{fill:"white",stroke:"black",strokeWidth:2}),a.line(g,b-7,c-8,b+7,c-8,{stroke:"black",strokeWidth:2}),a.line(g,b-7,c+3,b+7,c+3,{stroke:"black",strokeWidth:2}),a.line(g,b+6,c-8,b+6,c+3,{stroke:"black",strokeWidth:2}),a.line(g,b-7,c+7,b+7,c+7,{stroke:"black",strokeWidth:2}),g}function dropT(a,b){var c=b.draggable;if(c.attr("data-concept-id")){var d=c.attr("data-concept-id"),e=c.attr("data-term"),f=c.attr("data-def-status");"undefined"==panel.options.selectedView&&(panel.options.selectedView="inferred"),"undefined"!=typeof d&&panel.setToConcept(d,e,f),$(b.helper).remove()}else;c.attr("data-panel")&&$.each(componentsRegistry,function(a,b){b.divElement.id==c.attr("data-panel")&&"concept-details"==b.type&&panel.subscribe(b)})}function taxonomyPanel(a,b,c){var d=this;this.subscribers=[];var e=null;"undefined"==typeof componentsRegistry&&(componentsRegistry=[]),this.markerColor="black",this.type="taxonomy",this.divElement=a,this.options=jQuery.extend(!0,{},c);var f=!1;$.each(componentsRegistry,function(a,b){b.divElement.id==d.divElement.id&&(f=!0)}),0==f&&componentsRegistry.push(d),this.history=[],this.setupCanvas=function(){var b={divElementId:d.divElement.id};$.get("views/taxonomyPlugin/main.hbs").then(function(c){Handlebars.registerHelper("console",function(a){console.log(a)}),Handlebars.registerHelper("if_eq",function(a,b,c){return"undefined"!=c?a==b?c.fn(this):c.inverse(this):void 0}),Handlebars.registerHelper("if_gr",function(a,b,c){return a>b?c.fn(this):c.inverse(this)});var e=Handlebars.compile(c);$(a).html(e(b)),$("#"+d.divElement.id+"-resetButton").disableTextSelect(),$("#"+d.divElement.id+"-linkerButton").disableTextSelect(),$("#"+d.divElement.id+"-subscribersMarker").disableTextSelect(),$("#"+d.divElement.id+"-configButton").disableTextSelect(),$("#"+d.divElement.id+"-collapseButton").disableTextSelect(),$("#"+d.divElement.id+"-expandButton").disableTextSelect(),$("#"+d.divElement.id+"-closeButton").disableTextSelect(),$("#"+d.divElement.id+"-expandButton").hide(),$("#"+d.divElement.id+"-subscribersMarker").hide(),$("#"+d.divElement.id+"-closeButton").click(function(){$(a).remove()}),$("#"+d.divElement.id+"-configButton").click(function(){$("#"+d.divElement.id+"-taxonomyConfigBar").slideToggle("slow")}),"undefined"!=typeof d.options.closeButton&&0==d.options.closeButton&&$("#"+d.divElement.id+"-closeButton").hide(),"undefined"!=typeof d.options.linkerButton&&0==d.options.linkerButton&&$("#"+d.divElement.id+"-linkerButton").hide(),"undefined"!=typeof d.options.subscribersMarker&&0==d.options.subscribersMarker&&$("#"+d.divElement.id+"-subscribersMarker").remove(),"undefined"!=typeof d.options.collapseButton&&0==d.options.collapseButton&&($("#"+d.divElement.id+"-expandButton").hide(),$("#"+d.divElement.id+"-collapseButton").hide()),$("#"+d.divElement.id+"-expandButton").click(function(){$("#"+d.divElement.id+"-panelBody").slideDown("fast"),$("#"+d.divElement.id+"-expandButton").hide(),$("#"+d.divElement.id+"-collapseButton").show()}),$("#"+d.divElement.id+"-collapseButton").click(function(){$("#"+d.divElement.id+"-panelBody").slideUp("fast"),$("#"+d.divElement.id+"-expandButton").show(),$("#"+d.divElement.id+"-collapseButton").hide()}),"undefined"==typeof i18n_panel_options&&(i18n_panel_options="Options"),$("#"+d.divElement.id+"-configButton").tooltip({placement:"left",trigger:"hover",title:i18n_panel_options,animation:!0,delay:1e3}),"undefined"==typeof i18n_reset&&(i18n_reset="Reset"),$("#"+d.divElement.id+"-resetButton").tooltip({placement:"left",trigger:"hover",title:i18n_reset,animation:!0,delay:1e3}),"undefined"==typeof i18n_panel_links&&(i18n_panel_links="Panel links"),$("#"+d.divElement.id+"-linkerButton").tooltip({placement:"left",trigger:"hover",title:i18n_panel_links,animation:!0,delay:1e3}),$("#"+d.divElement.id+"-linkerButton").draggable({cancel:!1,appendTo:"body",helper:"clone",delay:500,revert:!1}),$("#"+d.divElement.id+"-panelBody").droppable({drop:d.handleDropEvent,hoverClass:"bg-info"}),$("#"+d.divElement.id+"-panelHeading").droppable({drop:d.handleDropEvent,hoverClass:"bg-info"}),$("#"+d.divElement.id+"-resetButton").click(function(){d.setupParents([],{conceptId:138875005,defaultTerm:"SNOMED CT Concept",definitionStatus:"Primitive"})}),$("#"+d.divElement.id+"-apply-button").click(function(){d.readOptionsPanel(),d.setupParents([],{conceptId:138875005,defaultTerm:"SNOMED CT Concept",definitionStatus:"Primitive"})}),$("#"+d.divElement.id+"-linkerButton").click(function(){$("#"+d.divElement.id+"-linkerButton").popover({trigger:"manual",placement:"bottomRight",html:!0,content:function(){return linkerHtml='<div class="text-center text-muted"><em>Drag to link with other panels<br>',linkerHtml=1==d.subscribers.length?linkerHtml+d.subscribers.length+" link established</em></div>":linkerHtml+d.subscribers.length+" links established</em></div>",linkerHtml=linkerHtml+'<div class="text-center"><a href="javascript:void(0);" onclick="clearTaxonomyPanelSubscriptions(\''+d.divElement.id+"');\">Clear links</a></div>"}}),$("#"+d.divElement.id+"-linkerButton").popover("toggle")}),$("#"+d.divElement.id+"-inferredViewButton").click(function(){d.options.selectedView="inferred",$("#"+d.divElement.id+"-txViewLabel").html("<span class='i18n' data-i18n-id='i18n_inferred_view'>Inferred view</span>"),d.setupParents([],{conceptId:138875005,defaultTerm:"SNOMED CT Concept",definitionStatus:"Primitive"})}),$("#"+d.divElement.id+"-statedViewButton").click(function(){d.options.selectedView="stated",$("#"+d.divElement.id+"-txViewLabel").html("<span class='i18n' data-i18n-id='i18n_stated_view'>Stated view</span>"),d.setupParents([],{conceptId:138875005,defaultTerm:"SNOMED CT Concept",definitionStatus:"Primitive"})}),$("#"+d.divElement.id+"-inferredViewButton").click()})},this.setupParents=function(a,b){var e;$.each(a,function(a,b){e=b}),$.get("views/taxonomyPlugin/body/parents.hbs").then(function(e){var f={parents:a,focusConcept:b,divElementId:d.divElement.id};Handlebars.registerHelper("slice",function(a,b){$("#"+d.divElement.id+"-panelBody").html($("#"+d.divElement.id+"-panelBody").html().slice(a,b))});var g=Handlebars.compile(e);$("#"+d.divElement.id+"-panelBody").html(g(f)),$(".treeButton").disableTextSelect(),$(".jqui-draggable").draggable({appendTo:"body",helper:"clone",delay:500}),$("#"+d.divElement.id+"-panelBody").unbind("dblclick"),$("#"+d.divElement.id+"-panelBody").dblclick(function(a){if($(a.target).hasClass("treeLabel")){var b=$(a.target).attr("data-concept-id"),e=$(a.target).attr("data-term");"undefined"!=typeof b&&(console.log(d.options.selectedView),$.getJSON(c.serverUrl+"/"+c.edition+"/"+c.release+"/concepts/"+b+"/parents?form="+d.options.selectedView,function(){}).done(function(a){d.setupParents(a,{conceptId:b,defaultTerm:e,definitionStatus:"Primitive"})}).fail(function(){}))}}),$("#"+d.divElement.id+"-panelBody").unbind("click"),$("#"+d.divElement.id+"-panelBody").click(function(a){if($(a.target).hasClass("treeButton")){var b=$(a.target).closest("li").attr("data-concept-id"),c=d.divElement.id+"-treeicon-"+b;a.preventDefault(),$("#"+c).hasClass("glyphicon-chevron-down")?($(a.target).closest("li").find("ul").remove(),$("#"+c).removeClass("glyphicon-chevron-down"),$("#"+c).addClass("glyphicon-chevron-right")):$("#"+c).hasClass("glyphicon-chevron-right")?($("#"+c).removeClass("glyphicon-chevron-right"),$("#"+c).addClass("glyphicon-refresh"),$("#"+c).addClass("icon-spin"),d.getChildren($(a.target).closest("li").attr("data-concept-id"))):$("#"+c).hasClass("glyphicon-chevron-up")?($("#"+c).removeClass("glyphicon-chevron-up"),$("#"+c).addClass("glyphicon-refresh"),$("#"+c).addClass("icon-spin"),d.wrapInParents($(a.target).closest("li").attr("data-concept-id"),$(a.target).closest("li"))):$("#"+c).hasClass("glyphicon-minus")&&($("#"+c).removeClass("glyphicon-minus"),$("#"+c).addClass("glyphicon-chevron-right"))}else if($(a.target).hasClass("treeLabel")){var e=$(a.target).attr("data-concept-id");"undefined"!=typeof e&&$.each(d.subscribers,function(a,b){b.conceptId!=e&&(b.conceptId=e,b.updateCanvas())})}});var h=d.divElement.id+"-treeicon-"+b.conceptId;$("#"+h).removeClass("glyphicon-chevron-right"),$("#"+h).addClass("glyphicon-refresh"),$("#"+h).addClass("icon-spin"),d.getChildren(b.conceptId)})},this.getChildren=function(a){"undefined"==typeof d.options.selectedView&&(d.options.selectedView="inferred"),$.getJSON(c.serverUrl+"/"+c.edition+"/"+c.release+"/concepts/"+a+"/children?form="+d.options.selectedView,function(){}).done(function(b){var c="<ul style='list-style-type: none; padding-left: 15px;'>";b.sort(function(a,b){return a.defaultTerm.toLowerCase()<b.defaultTerm.toLowerCase()?-1:a.defaultTerm.toLowerCase()>b.defaultTerm.toLowerCase()?1:0});var e=[];$.each(b,function(a,b){1==b.active&&(c=c+"<li data-concept-id='"+b.conceptId+"' data-term='"+b.defaultTerm+"' class='treeLabel'>",c=c+"<button class='btn btn-link btn-xs treeButton' style='padding:2px'><i class='glyphicon glyphicon-chevron-right treeButton' id='"+d.divElement.id+"-treeicon-"+b.conceptId+"'></i></button>",c+="Primitive"==b.definitionStatus?'<span class="badge alert-warning">&nbsp;</span>&nbsp;&nbsp;':'<span class="badge alert-warning">&equiv;</span>&nbsp;&nbsp;',c=c+'<a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;"><span draggable="true" ondragstart="drag(event)" class="treeLabel selectable-row" data-concept-id="'+b.conceptId+'" data-term="'+b.defaultTerm+'" id="'+d.divElement.id+"-treenode-"+b.conceptId+'">'+b.defaultTerm+"</span></a>",e.push(b.conceptId))}),c+="</li>",c+="</ul>",$("#"+d.divElement.id+"-treeicon-"+a).removeClass("glyphicon-refresh"),$("#"+d.divElement.id+"-treeicon-"+a).removeClass("icon-spin"),$("#"+d.divElement.id+"-treeicon-"+a).addClass(b.length>0?"glyphicon-chevron-down":"glyphicon-minus"),$("#"+d.divElement.id+"-treenode-"+a).after(c),$(".treeButton").disableTextSelect(),$.each(e,function(a,b){$("#"+d.divElement.id+"-treenode-"+b).draggable({appendTo:"body",helper:"clone",delay:500,revert:!1})})}).fail(function(){$("#"+d.divElement.id+"-treeicon-"+a).removeClass("icon-spin"),$("#"+d.divElement.id+"-treeicon-"+a).removeClass("glyphicon-refresh"),$("#"+d.divElement.id+"-treeicon-"+a).addClass("glyphicon-minus")})},this.wrapInParents=function(a){var b=$("#"+d.divElement.id+"-panelBody").find("ul:first");$.getJSON(c.serverUrl+"/"+c.edition+"/"+c.release+"/concepts/"+a+"/parents?form="+d.options.selectedView,function(){}).done(function(c){if(c.length>0){var e="empty",f=[];$.each(c,function(a,b){var c="<li data-concept-id='"+b.conceptId+"' data-term='"+b.defaultTerm+"' class='treeLabel'>";c=c+"<button class='btn btn-link btn-xs treeButton' style='padding:2px'><i class='glyphicon glyphicon-chevron-up treeButton'  id='"+d.divElement.id+"-treeicon-"+b.conceptId+"'></i></button>",c+="Primitive"==b.definitionStatus?'<span class="badge alert-warning">&nbsp;</span>&nbsp;&nbsp;':'<span class="badge alert-warning">&equiv;</span>&nbsp;&nbsp;',c=c+'<a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;"><span data-concept-id="'+b.conceptId+'" data-term="'+b.defaultTerm+'" draggable="true" ondragstart="drag(event)" class="treeLabel selectable-row" id="'+d.divElement.id+"-treenode-"+b.conceptId+'">'+b.defaultTerm+"</span></a>",c+="</li>",f.push(c),"empty"==e&&(e=b.conceptId)});var g=b.children().slice(0);b.append(f[0]),$("#"+d.divElement.id+"-treenode-"+e).closest("li").append("<ul id='parent-ul-id-"+e+"' style='list-style-type: none; padding-left: 15px;'></ul>");var h;$.each(g,function(b,c){if($(c).attr("data-concept-id")==a){h=$(c);var f=$("#"+d.divElement.id+"-treenode-"+e).closest("li").find("ul:first");f.append($(c)),$(c).find("i:first").removeClass("glyphicon-chevron-up"),$(c).find("i:first").addClass("glyphicon-chevron-down")}}),$.each(g,function(b,c){$(c).attr("data-concept-id")!=a&&($.each($(c).children(),function(a,b){$(b).is("ul")&&h.append(b)
}),$("#"+d.divElement.id+"-treenode-"+$(c).attr("data-concept-id")).closest("li").remove())}),$.each(f,function(a,c){c!=f[0]&&b.prepend(c)}),$("#"+d.divElement.id+"-treeicon-"+a).removeClass("glyphicon-refresh"),$("#"+d.divElement.id+"-treeicon-"+a).removeClass("icon-spin"),$("#"+d.divElement.id+"-treeicon-"+a).addClass("glyphicon-chevron-down")}else $("#"+d.divElement.id+"-treeicon-"+a).removeClass("glyphicon-refresh"),$("#"+d.divElement.id+"-treeicon-"+a).removeClass("icon-spin"),$("#"+d.divElement.id+"-treeicon-"+a).addClass("glyphicon-chevron-up")}).fail(function(){})},this.setToConcept=function(a,b,e){$("#"+d.divElement.id+"-panelBody").html("<i class='glyphicon glyphicon-refresh icon-spin'></i>"),console.log(d.options.selectedView),$.getJSON(c.serverUrl+"/"+c.edition+"/"+c.release+"/concepts/"+a+"/parents?form="+d.options.selectedView,function(){}).done(function(c){"Primitive"!=e&&"Fully defined"!=e&&(e="Primitive"),d.setupParents(c,{conceptId:a,defaultTerm:b,definitionStatus:e})}).fail(function(){})},this.handleDropEvent=function(a,b){var c=b.draggable;if(c.attr("data-concept-id")){var e=c.attr("data-concept-id"),f=c.attr("data-term"),g=c.attr("data-def-status");"undefined"==d.options.selectedView&&(d.options.selectedView="inferred"),"undefined"!=typeof e&&d.setToConcept(e,f,g),$(b.helper).remove()}else;c.attr("data-panel")&&$.each(componentsRegistry,function(a,b){b.divElement.id==c.attr("data-panel")&&"concept-details"==b.type&&d.subscribe(b)})},this.subscribe=function(a){var b=!1;$.each(d.subscribers,function(c,d){a.divElement.id==d.divElement.id&&(b=!0)}),b||(0==d.subscribers.length&&("undefined"==typeof globalMarkerColor&&(globalMarkerColor="black"),d.markerColor=d.getNextMarkerColor(globalMarkerColor),$("#"+d.divElement.id+"-subscribersMarker").css("color",d.markerColor),$("#"+d.divElement.id+"-subscribersMarker").show()),d.subscribers.push(a),a.setSubscription(d))},this.unsubscribe=function(a){var b=-1;$.each(d.subscribers,function(c,d){a.divElement.id==d.divElement.id&&(b=c),c+=1}),b>-1&&d.subscribers.splice(b,1),0==d.subscribers.length&&$("#"+d.divElement.id+"-subscribersMarker").hide(),a.clearSubscription()},this.unsubscribeAll=function(){var a=d.subscribers.slice(0);$.each(a,function(a,b){d.unsubscribe(b)})},this.getNextMarkerColor=function(a){var b="black";return"black"==a?b="green":"green"==a?b="purple":"purple"==a?b="red":"red"==a?b="blue":"blue"==a&&(b="green"),globalMarkerColor=b,b},this.setupCanvas(),b&&138875005!=b?(null!=e&&(e.abort(),console.log("aborting call...")),e=$.getJSON(c.serverUrl+"/"+c.edition+"/"+c.release+"/concepts/"+b,function(){}).done(function(a){d.setToConcept(b,a.defaultTerm)}).fail(function(){console.log("Error")})):this.setupParents([],{conceptId:138875005,defaultTerm:"SNOMED CT Concept",definitionStatus:"Primitive"})}function clearTaxonomyPanelSubscriptions(a){var b;$.each(componentsRegistry,function(c,d){d.divElement.id==a&&(b=d)}),b.unsubscribeAll(),$("#"+a).find(".linker-button").popover("toggle")}$(function(){$.extend($.fn.disableTextSelect=function(){return this.each(function(){$(this).mousedown(function(){return!1})})}),$(".noSelect").disableTextSelect()}),function(a){a.fn.addConceptDetails=function(a,b){this.filter("div").each(function(){var c=new conceptDetails(this,a,b);c.setupCanvas()})}}(jQuery),$(document).keypress(function(a){"13"==a.which&&a.preventDefault()}),$(document).keypress(function(a){"13"==a.which&&a.preventDefault()}),function(a){a.fn.addSearch=function(a){this.filter("div").each(function(){new conceptDetails(this,a)})}}(jQuery);var idSequence=0;!function(a){a.fn.addTaxonomy=function(a){this.filter("div").each(function(){new conceptDetails(this,a)})}}(jQuery),this.JST=this.JST||{},this.JST["views/conceptDetailsPlugin/main.hbs"]=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+="<div style='margin: 5px; height:98%; overflow:auto;' class='panel panel-default'>\n    <div class='panel-heading' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-panelHeading'>\n        <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-subscribersMarker' class='btn btn-link btn-lg' style='padding:2px;position: absolute;top: 1px;left: 0px;'><i class='glyphicon glyphicon-bookmark'></i></button>\n        <div class='row'>\n            <div class='col-md-8' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-panelTitle'>&nbsp&nbsp&nbsp<strong><span class='i18n' data-i18n-id='i18n_concept_details'>Concept Details</span></strong></div>\n            <div class='col-md-4 text-right'>\n                <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-linkerButton' draggable = \"true\" ondragstart = \"drag(event)\" class='btn btn-link linker-button' data-panel='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"' style='padding:2px'><i class='glyphicon glyphicon-link'></i></button>\n                <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-historyButton' class='btn btn-link history-button' style='padding:2px'><i class='glyphicon glyphicon-time'></i></button>\n                <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-configButton' class='btn btn-link' data-toggle='modal' style='padding:2px' data-target='#",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-configModal'><i class='glyphicon glyphicon-cog'></i></button>\n                <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-collapseButton' class='btn btn-link' style='padding:2px'><i class='glyphicon glyphicon-resize-small'></i></button>\n                <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-expandButton' class='btn btn-link' style='padding:2px'><i class='glyphicon glyphicon-resize-full'></i></button>\n                <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-closeButton' class='btn btn-link' style='padding:2px'><i class='glyphicon glyphicon-remove'></i></button>\n            </div>\n        </div>\n    </div>\n    <div class='panel-body' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'-panelBody\'>\n        <!-- Nav tabs -->\n        <ul class="nav nav-tabs" id="details-tabs-',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'">\n            <li class="active"><a href="#home-',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" data-toggle="tab" style="padding-top: 3px; padding-bottom:3px;"><span class="i18n" data-i18n-id="i18n_summary">Summary</span></a></li>\n            <li><a href="#details-',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" data-toggle="tab" style="padding-top: 3px; padding-bottom:3px;"><span class="i18n" data-i18n-id="i18n_details">Details</span></a></li>\n            <li id="diagram-tab"><a href="#diagram-',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" data-toggle="tab" style="padding-top: 3px; padding-bottom:3px;" id="diagram-tab-link-',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'"><span class="i18n" data-i18n-id="i18n_diagram">Diagram</span></a></li>\n            <li><a href="#refsets-',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" data-toggle="tab" style="padding-top: 3px; padding-bottom:3px;"><span class="i18n" data-i18n-id="i18n_refsets">Refsets</span></a></li>\n        </ul>\n        <!-- Tab panes -->\n        <div class="tab-content" id="details-tab-content-',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'">\n            <div class="tab-pane fade in active" id="home-',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" style="padding: 5px;">\n                <div class="row" style="margin-right: 20px"><span class="pull-right text-muted" id="home-',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'-viewLabel"></span></div>\n                <div style="margin-left: 0%; margin-bottom: 10px; margin-top: 10px; width: 80%;border: 2px solid forestgreen; border-radius: 4px; padding: 5px;" id="home-parents-',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'">No parents</div>\n                <div style="margin-left: 10%; margin-bottom: 10px; margin-top: 10px; width: 80%;border: 2px solid saddlebrown; border-radius: 4px; padding: 5px;" id="home-attributes-',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'">Attributes</div>\n                <div style="margin-left: 20%; margin-bottom: 10px; margin-top: 10px; width: 80%;border: 2px solid darkslateblue; border-radius: 4px; padding: 5px;" id="home-roles-',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'">Relationships</div>\n                <div><span class="text-muted pull-right" id="footer-',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'"></span></div>\n            </div>\n            <div class="tab-pane fade" id="details-',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"\">\n                <div id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-attributes-panel' class='panel panel-default'>\n                </div>\n                <div id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-descriptions-panel' class='panel panel-default'>\n                </div>\n                <div id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-rels-panel' class='panel panel-default'>\n                </div>\n                <div id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-children-panel' class='panel panel-default' style='height:100px;overflow:auto;margin-bottom: 15px;'>\n                </div>\n            </div>\n            <div class=\"tab-pane fade\" id=\"diagram-",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'">\n                <div class="row" style="margin-right: 20px"><span class="pull-right text-muted" id="home-',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'-diagram-viewLabel"></span></div>\n                <div id="diagram-canvas-',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" style="position: relative; width: 1000px;"></div>\n            </div>\n            <div class="tab-pane fade" id="refsets-',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"\">\n            </div>\n        </div>\n    </div>\n</div>\n<div class='modal fade' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-configModal'>\n    <div class='modal-dialog'>\n        <div class='modal-content'>\n            <div class='modal-header'>\n                <button type='button' class='close' data-dismiss='modal' aria-hidden='true'>&times;</button>\n                <h4 class='modal-title'><span class='i18n' data-i18n-id='i18n_options'>Options</span> (",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+")</h4>\n            </div>\n            <div class='modal-body' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-modal-body'>\n                <p></p>\n            </div>\n            <div class='modal-footer'>\n                <button type='button' class='btn btn-danger' data-dismiss='modal'><span class='i18n' data-i18n-id='i18n_cancel'>Cancel</span></button>\n                <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-apply-button' type='button' class='btn btn-success' data-dismiss='modal'><span class='i18n' data-i18n-id='i18n_apply_changes'>Apply changes</span></button>\n            </div>\n        </div><!-- /.modal-content -->\n    </div><!-- /.modal-dialog -->\n</div><!-- /.modal -->\n        "}),this.JST["views/conceptDetailsPlugin/tabs/details/attributes-panel.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(){return"\n        class = 'highlightEffectiveTime'\n        "}function g(a,b){var d,e,f="";return f+='\n                    <a href="javascript:void(0);" draggable = "true" ondragstart="drag(event, ',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===q?e.call(a,{hash:{},data:b}):e),f+=r(d)+')" style="color: inherit;text-decoration: inherit;"><span class="badge alert-warning"  data-concept-id="'+r((d=a&&a.firstMatch,d=null==d||d===!1?d:d.conceptId,typeof d===q?d.apply(a):d))+'" data-term="'+r((d=a&&a.firstMatch,d=null==d||d===!1?d:d.defaultTerm,typeof d===q?d.apply(a):d))+'" data-def-status="'+r((d=a&&a.firstMatch,d=null==d||d===!1?d:d.definitionStatus,typeof d===q?d.apply(a):d))+'">&nbsp;</span></a>&nbsp;&nbsp;\n                '}function h(a,b){var d,e,f="";return f+='\n                    <a href="javascript:void(0);" draggable = "true" ondragstart="drag(event, ',(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===q?e.call(a,{hash:{},data:b}):e),f+=r(d)+')" style="color: inherit;text-decoration: inherit;"><span class="badge alert-warning"  data-concept-id="'+r((d=a&&a.firstMatch,d=null==d||d===!1?d:d.conceptId,typeof d===q?d.apply(a):d))+'" data-term="'+r((d=a&&a.firstMatch,d=null==d||d===!1?d:d.defaultTerm,typeof d===q?d.apply(a):d))+'" data-def-status="'+r((d=a&&a.firstMatch,d=null==d||d===!1?d:d.definitionStatus,typeof d===q?d.apply(a):d))+'">&equiv;</span></a>&nbsp;&nbsp;\n                '}function i(){return"\n                , <span class='i18n' data-i18n-id='i18n_primitive'>Primitive</span>\n            "}function j(){return"\n                , <span class='i18n' data-i18n-id='i18n_fully_defined'>Fully defined</span>\n            "}function k(){return"\n                , <span class='i18n' data-i18n-id='i18n_active'>Active</span>\n            "}function l(){return"\n                , <span class='i18n' data-i18n-id='i18n_inactive'>Inactive</span>\n            "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var m,n,o,p="",q="function",r=this.escapeExpression,s=this,t=c.helperMissing;return p+="<table class='table table-default' >\n    <tr\n        ",n=c.if_eq||b&&b.if_eq,o={hash:{},inverse:s.noop,fn:s.program(1,f,e),data:e},m=n?n.call(b,(m=b&&b.firstMatch,null==m||m===!1?m:m.effectiveTime),(m=b&&b.options,null==m||m===!1?m:m.highlightByEffectiveTime),o):t.call(b,"if_eq",(m=b&&b.firstMatch,null==m||m===!1?m:m.effectiveTime),(m=b&&b.options,null==m||m===!1?m:m.highlightByEffectiveTime),o),(m||0===m)&&(p+=m),p+="\n            >\n        <td>\n            <h4>\n                ",n=c.if_eq||b&&b.if_eq,o={hash:{},inverse:s.program(5,h,e),fn:s.program(3,g,e),data:e},m=n?n.call(b,(m=b&&b.firstMatch,null==m||m===!1?m:m.definitionStatus),"Primitive",o):t.call(b,"if_eq",(m=b&&b.firstMatch,null==m||m===!1?m:m.definitionStatus),"Primitive",o),(m||0===m)&&(p+=m),p+='\n\n                <span ondrop="dropC(event)" ondragover="allowDrop(event)">'+r((m=b&&b.firstMatch,m=null==m||m===!1?m:m.defaultTerm,typeof m===q?m.apply(b):m))+"</span>\n            </h4>\n            <br>SCTID: "+r((m=b&&b.firstMatch,m=null==m||m===!1?m:m.conceptId,typeof m===q?m.apply(b):m))+"\n\n            ",n=c.if_eq||b&&b.if_eq,o={hash:{},inverse:s.program(9,j,e),fn:s.program(7,i,e),data:e},m=n?n.call(b,(m=b&&b.firstMatch,null==m||m===!1?m:m.definitionStatus),"Primitive",o):t.call(b,"if_eq",(m=b&&b.firstMatch,null==m||m===!1?m:m.definitionStatus),"Primitive",o),(m||0===m)&&(p+=m),p+="\n\n            ",n=c.if_eq||b&&b.if_eq,o={hash:{},inverse:s.program(13,l,e),fn:s.program(11,k,e),data:e},m=n?n.call(b,(m=b&&b.firstMatch,null==m||m===!1?m:m.active),!0,o):t.call(b,"if_eq",(m=b&&b.firstMatch,null==m||m===!1?m:m.active),!0,o),(m||0===m)&&(p+=m),p+='\n        </td>\n        <td><button type="button" class="btn btn-link unobtrusive-icon more-fields-button pull-right" data-container="body" data-toggle="popover" data-placement="left" data-content="\n                <table border=\'1\'><tr><th style=\'padding: 3px;\'>Effective Time</th><th style=\'padding: 3px;\'>ModuleId</th></tr><tr><td style=\'padding: 3px;\'>'+r((m=b&&b.firstMatch,m=null==m||m===!1?m:m.effectiveTime,typeof m===q?m.apply(b):m))+"</td><td style='padding: 3px;'>"+r((m=b&&b.firstMatch,m=null==m||m===!1?m:m.module,typeof m===q?m.apply(b):m))+'</td></tr></table>\n                " data-html="true"><i class="glyphicon glyphicon-info-sign"></i></button>\n            &nbsp;<button type="button" id="share-link-',(n=c.divElementId)?m=n.call(b,{hash:{},data:e}):(n=b&&b.divElementId,m=typeof n===q?n.call(b,{hash:{},data:e}):n),p+=r(m)+'" class="btn btn-link more-fields-button pull-right" data-container="body" data-toggle="popover" data-placement="left" data-content="\n                    <form><input class=\'form-control\' id=\'share-field-',(n=c.divElementId)?m=n.call(b,{hash:{},data:e}):(n=b&&b.divElementId,m=typeof n===q?n.call(b,{hash:{},data:e}):n),p+=r(m)+"' value='",(n=c.dataContentValue)?m=n.call(b,{hash:{},data:e}):(n=b&&b.dataContentValue,m=typeof n===q?n.call(b,{hash:{},data:e}):n),p+=r(m)+"?perspective=full&conceptId1=",(n=c.conceptId)?m=n.call(b,{hash:{},data:e}):(n=b&&b.conceptId,m=typeof n===q?n.call(b,{hash:{},data:e}):n),p+=r(m)+'\'></form><br>Copy the concept link (e.g. CTRL-C) to save and share a reference to this concept.\n                    " data-html="true"><i class="glyphicon glyphicon-share-alt"></i></button></td>\n\n    </tr>\n</table>'}),this.JST["views/conceptDetailsPlugin/tabs/details/children-panel.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e="";return e+="\n    ",d=c["if"].call(a,a&&a.active,{hash:{},inverse:l.noop,fn:l.program(2,g,b),data:b}),(d||0===d)&&(e+=d),e+="\n"}function g(a,b){var d,e,f="";return f+='\n        <tr><td draggable="true" ondragstart="drag(event)" data-concept-id=\'',(e=c.conceptId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.conceptId,d=typeof e===j?e.call(a,{hash:{},data:b}):e),f+=k(d)+"' data-term='",(e=c.defaultTerm)?d=e.call(a,{hash:{},data:b}):(e=a&&a.defaultTerm,d=typeof e===j?e.call(a,{hash:{},data:b}):e),f+=k(d)+"'>",(e=c.defaultTerm)?d=e.call(a,{hash:{},data:b}):(e=a&&a.defaultTerm,d=typeof e===j?e.call(a,{hash:{},data:b}):e),f+=k(d)+"</td></tr>\n    "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h,i="",j="function",k=this.escapeExpression,l=this;return i+="<div>\n    <table class='table table-bordered'>\n        <thead>\n        <tr>\n            <th>\n                <span class='i18n' data-i18n-id='i18n_children'>Children</span>\n            </th>\n        </tr>\n        </thead>\n        <tbody>\n</div>\n",h=c.each.call(b,b&&b.childrenResult,{hash:{},inverse:l.noop,fn:l.program(1,f,e),data:e}),(h||0===h)&&(i+=h),i+="\n</tbody>\n</table>"}),this.JST["views/conceptDetailsPlugin/tabs/details/descriptions-panel.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(){return"\n            <th>SCTID</th>\n        "}function g(a,b,d){var e,f,g,i="";return i+="\n            "+uc((f=c.included||a&&a.included,g={hash:{},data:b},f?f.call(a,!1,g):tc.call(a,"included",!1,g)))+"\n            ",e=c.each.call(a,a&&a.langMemberships,{hash:{},inverse:vc.noop,fn:vc.programWithDepth(4,h,b,d),data:b}),(e||0===e)&&(i+=e),i+="\n            ",f=c.included||a&&a.included,g={hash:{},inverse:vc.programWithDepth(57,O,b,a,d),fn:vc.programWithDepth(7,j,b,d),data:b},e=f?f.call(a,"get",g):tc.call(a,"included","get",g),(e||0===e)&&(i+=e),i+="\n        "}function h(a,b,d){var e,f,g,h="";return h+="\n                ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.noop,fn:vc.program(5,i,b),data:b},e=f?f.call(a,(e=a&&a.refset,null==e||e===!1?e:e.conceptId),(e=d&&d.options,null==e||e===!1?e:e.langRefset),g):tc.call(a,"if_eq",(e=a&&a.refset,null==e||e===!1?e:e.conceptId),(e=d&&d.options,null==e||e===!1?e:e.langRefset),g),(e||0===e)&&(h+=e),h+="\n            "}function i(a,b){var d,e,f="";return f+="\n                    "+uc((d=c.included||a&&a.included,e={hash:{},data:b},d?d.call(a,!0,e):tc.call(a,"included",!0,e)))+"\n                "}function j(a,b,d){var e,f,g,h="";return h+="\n                <tr class='",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.program(10,l,b),fn:vc.program(8,k,b),data:b},e=f?f.call(a,(e=a&&a.type,null==e||e===!1?e:e.conceptId),"900000000000003001",g):tc.call(a,"if_eq",(e=a&&a.type,null==e||e===!1?e:e.conceptId),"900000000000003001",g),(e||0===e)&&(h+=e),e=c["if"].call(a,a&&a.active,{hash:{},inverse:vc.program(14,n,b),fn:vc.program(12,m,b),data:b}),(e||0===e)&&(h+=e),f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.noop,fn:vc.program(16,o,b),data:b},e=f?f.call(a,a&&a.effectiveTime,(e=d&&d.options,null==e||e===!1?e:e.highlightByEffectiveTime),g):tc.call(a,"if_eq",a&&a.effectiveTime,(e=d&&d.options,null==e||e===!1?e:e.highlightByEffectiveTime),g),(e||0===e)&&(h+=e),h+="'>\n                    <td>\n                        ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.program(20,q,b),fn:vc.program(18,p,b),data:b},e=f?f.call(a,(e=a&&a.type,null==e||e===!1?e:e.conceptId),"900000000000003001",g):tc.call(a,"if_eq",(e=a&&a.type,null==e||e===!1?e:e.conceptId),"900000000000003001",g),(e||0===e)&&(h+=e),h+="\n\n                        ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.programWithDepth(28,v,b,d),fn:vc.program(26,u,b),data:b},e=f?f.call(a,a&&a.langMemberships,"undefined",g):tc.call(a,"if_eq",a&&a.langMemberships,"undefined",g),(e||0===e)&&(h+=e),h+="\n                        ",f=c.preferred||a&&a.preferred,g={hash:{},inverse:vc.program(41,E,b),fn:vc.program(36,B,b),data:b},e=f?f.call(a,"get",g):tc.call(a,"preferred","get",g),(e||0===e)&&(h+=e),h+="\n\n                        &nbsp;&nbsp;&nbsp;",(f=c.term)?e=f.call(a,{hash:{},data:b}):(f=a&&a.term,e=typeof f===wc?f.call(a,{hash:{},data:b}):f),h+=uc(e)+"</td>\n                    ",e=c["if"].call(a,(e=d&&d.options,null==e||e===!1?e:e.showIds),{hash:{},inverse:vc.noop,fn:vc.program(46,H,b),data:b}),(e||0===e)&&(h+=e),h+="\n\n                    <td>\n                        "+uc((f=c.included||d&&d.included,g={hash:{},data:b},f?f.call(a,!1,g):tc.call(a,"included",!1,g)))+"\n                        ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.programWithDepth(48,I,b,d),fn:vc.program(26,u,b),data:b},e=f?f.call(a,a&&a.langMemberships,"undefined",g):tc.call(a,"if_eq",a&&a.langMemberships,"undefined",g),(e||0===e)&&(h+=e),h+="\n\n                        ",f=c.included||a&&a.included,g={hash:{},inverse:vc.program(55,N,b),fn:vc.program(26,u,b),data:b},e=f?f.call(a,"get",g):tc.call(a,"included","get",g),(e||0===e)&&(h+=e),h+="\n                        <button type=\"button\" class=\"btn btn-link unobtrusive-icon more-fields-button pull-right\" data-container=\"body\" data-toggle=\"popover\" data-placement=\"left\" data-content=\"\n                        <table border='1'><tr><th style='padding: 3px;'>DescriptionId</th><th style='padding: 3px;'>Type</th><th style='padding: 3px;'>Language</th><th style='padding: 3px;'>Case Significance</th><th style='padding: 3px;'>Effective Time</th><th style='padding: 3px;'>ModuleId</th></tr>\n                                <tr><td style='padding: 3px;'>",(f=c.descriptionId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.descriptionId,e=typeof f===wc?f.call(a,{hash:{},data:b}):f),h+=uc(e)+"</td><td style='padding: 3px;'>"+uc((f=c.removeSemtag||a&&a.removeSemtag,g={hash:{},data:b},f?f.call(a,(e=a&&a.type,null==e||e===!1?e:e.defaultTerm),g):tc.call(a,"removeSemtag",(e=a&&a.type,null==e||e===!1?e:e.defaultTerm),g)))+"</td><td style='padding: 3px;'>",(f=c.lang)?e=f.call(a,{hash:{},data:b}):(f=a&&a.lang,e=typeof f===wc?f.call(a,{hash:{},data:b}):f),h+=uc(e)+"</td><td style='padding: 3px;'>"+uc((f=c.removeSemtag||a&&a.removeSemtag,g={hash:{},data:b},f?f.call(a,(e=a&&a.ics,null==e||e===!1?e:e.defaultTerm),g):tc.call(a,"removeSemtag",(e=a&&a.ics,null==e||e===!1?e:e.defaultTerm),g)))+"</td><td style='padding: 3px;'>",(f=c.effectiveTime)?e=f.call(a,{hash:{},data:b}):(f=a&&a.effectiveTime,e=typeof f===wc?f.call(a,{hash:{},data:b}):f),h+=uc(e)+"</td><td style='padding: 3px;'>",(f=c.module)?e=f.call(a,{hash:{},data:b}):(f=a&&a.module,e=typeof f===wc?f.call(a,{hash:{},data:b}):f),h+=uc(e)+'</td></tr>\n                        </table>\n                        " data-html="true"><i class="glyphicon glyphicon-info-sign"></i></button>\n                    </td>\n                </tr>\n                <!--descDetailsHtml = descDetailsHtml + row;-->\n            '}function k(){return" fsn-row"}function l(){return" synonym-row"}function m(){var a="";return a}function n(){return" danger"}function o(){return" highlightEffectiveTime"}function p(){return'\n                            <span rel="tooltip-right" title="F">F</span>\n                        '}function q(a,b){var d,e,f,g="";return g+="\n                            ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.program(23,s,b),fn:vc.program(21,r,b),data:b},d=e?e.call(a,(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000013009",f):tc.call(a,"if_eq",(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000013009",f),(d||0===d)&&(g+=d),g+="\n                        "}function r(){return'\n                                <span rel="tooltip-right" title="S">S</span>\n                            '}function s(a,b){var d,e,f,g="";return g+="\n                                ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.noop,fn:vc.program(24,t,b),data:b},d=e?e.call(a,(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000550004",f):tc.call(a,"if_eq",(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000550004",f),(d||0===d)&&(g+=d),g+="\n                            "}function t(){return'\n                                    <span rel="tooltip-right" title="D">D</span>\n                                '}function u(){return"\n                        "}function v(a,b,d){var e,f="";return f+="\n                            ",e=c.each.call(a,a&&a.langMemberships,{hash:{},inverse:vc.noop,fn:vc.programWithDepth(29,w,b,d),data:b}),(e||0===e)&&(f+=e),f+="\n                        "}function w(a,b,d){var e,f,g,h="";return h+="\n                                ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.noop,fn:vc.program(30,x,b),data:b},e=f?f.call(a,(e=a&&a.refset,null==e||e===!1?e:e.conceptId),(e=d&&d.options,null==e||e===!1?e:e.langRefset),g):tc.call(a,"if_eq",(e=a&&a.refset,null==e||e===!1?e:e.conceptId),(e=d&&d.options,null==e||e===!1?e:e.langRefset),g),(e||0===e)&&(h+=e),h+="\n                            "}function x(a,b){var d,e,f,g="";return g+="\n                                    ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.program(33,z,b),fn:vc.program(31,y,b),data:b},d=e?e.call(a,(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000548007",f):tc.call(a,"if_eq",(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000548007",f),(d||0===d)&&(g+=d),g+="\n                                "}function y(a,b){var d,e,f="";return f+="\n                                        <!--isPreferred = true;-->\n                                        "+uc((d=c.preferred||a&&a.preferred,e={hash:{},data:b},d?d.call(a,!0,e):tc.call(a,"preferred",!0,e)))+"\n                                    "}function z(a,b){var d,e,f,g="";return g+="\n                                        ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.noop,fn:vc.program(34,A,b),data:b},d=e?e.call(a,(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000549004",f):tc.call(a,"if_eq",(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000549004",f),(d||0===d)&&(g+=d),g+="\n                                    "}function A(a,b){var d,e,f="";return f+="\n                                            <!--isAcceptable = true;-->\n                                            "+uc((d=c.acceptable||a&&a.acceptable,e={hash:{},data:b},d?d.call(a,!0,e):tc.call(a,"acceptable",!0,e)))+"\n                                        "}function B(a,b){var d,e,f,g="";return g+="\n                            ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.program(39,D,b),fn:vc.program(37,C,b),data:b},d=e?e.call(a,(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000003001",f):tc.call(a,"if_eq",(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000003001",f),(d||0===d)&&(g+=d),g+="\n                        "}function C(){return'\n                                &nbsp;<span class="glyphicon glyphicon-star-empty" rel="tooltip-right" title="Preferred"></span>\n                            '}function D(){return'\n                                &nbsp;<span class="glyphicon glyphicon-star" rel="tooltip-right" title="Preferred"></span>\n                            '}function E(a,b){var d,e,f,g="";return g+="\n                            ",e=c.acceptable||a&&a.acceptable,f={hash:{},inverse:vc.program(44,G,b),fn:vc.program(42,F,b),data:b},d=e?e.call(a,"get",f):tc.call(a,"acceptable","get",f),(d||0===d)&&(g+=d),g+="\n                        "}function F(){return'\n                                &nbsp;<span rel="tooltip-right" title="Acceptable">&#10004;</span></span>\n                            '}function G(){return"\n                                &nbsp;&nbsp;&nbsp;\n                            "}function H(a,b){var d,e,f="";return f+="\n                        <td>",(e=c.descriptionId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.descriptionId,d=typeof e===wc?e.call(a,{hash:{},data:b}):e),f+=uc(d)+"</td>\n                    "}function I(a,b,d){var e,f="";return f+="\n                            ",e=c.each.call(a,a&&a.langMemberships,{hash:{},inverse:vc.noop,fn:vc.programWithDepth(49,J,b,d),data:b}),(e||0===e)&&(f+=e),f+="\n                        "}function J(a,b,d){var e,f,g,h="";return h+="\n                                ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.noop,fn:vc.program(50,K,b),data:b},e=f?f.call(a,(e=a&&a.refset,null==e||e===!1?e:e.conceptId),(e=d&&d.options,null==e||e===!1?e:e.langRefset),g):tc.call(a,"if_eq",(e=a&&a.refset,null==e||e===!1?e:e.conceptId),(e=d&&d.options,null==e||e===!1?e:e.langRefset),g),(e||0===e)&&(h+=e),h+="\n                            "
}function K(a,b){var d,e,f,g="";return g+="\n                                    ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.program(53,M,b),fn:vc.program(51,L,b),data:b},d=e?e.call(a,(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000548007",f):tc.call(a,"if_eq",(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000548007",f),(d||0===d)&&(g+=d),g+="\n                                    "+uc((e=c.included||a&&a.included,f={hash:{},data:b},e?e.call(a,!0,f):tc.call(a,"included",!0,f)))+"\n                                "}function L(){return"\n                                        <span class='i18n' data-i18n-id='i18n_preferred'>Preferred</span>\n                                    "}function M(){return"\n                                        <span class='i18n' data-i18n-id='i18n_acceptable'>Acceptable</span>\n                                    "}function N(){return"\n                            <span class='i18n' data-i18n-id='i18n_not_acceptable'>Not acceptable</span>\n                        "}function O(a,b,d,e){var f,g="";return g+="\n                ",f=c["if"].call(a,(f=e&&e.options,null==f||f===!1?f:f.hideNotAcceptable),{hash:{},inverse:vc.programWithDepth(141,Qb,b,e),fn:vc.programWithDepth(58,P,b,d,e),data:b}),(f||0===f)&&(g+=f),g+="\n            "}function P(a,b,d,e){var f,g="";return g+="\n                    ",f=c["if"].call(a,(f=e&&e.options,null==f||f===!1?f:f.displayInactiveDescriptions),{hash:{},inverse:vc.noop,fn:vc.programWithDepth(59,Q,b,d,e),data:b}),(f||0===f)&&(g+=f),g+="\n                "}function Q(a,b,d,e){var f,g="";return g+="\n                        ",f=c["if"].call(a,(f=e&&e.options,null==f||f===!1?f:f.displayInactiveDescriptions),{hash:{},inverse:vc.programWithDepth(100,pb,b,d,e),fn:vc.programWithDepth(60,R,b,e),data:b}),(f||0===f)&&(g+=f),g+="\n                        <!--descDetailsHtml = descDetailsHtml + row;-->\n                    "}function R(a,b,d){var e,f,g,h="";return h+="\n                            <tr class='",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.program(10,l,b),fn:vc.program(8,k,b),data:b},e=f?f.call(a,(e=a&&a.type,null==e||e===!1?e:e.conceptId),"900000000000003001",g):tc.call(a,"if_eq",(e=a&&a.type,null==e||e===!1?e:e.conceptId),"900000000000003001",g),(e||0===e)&&(h+=e),e=c["if"].call(a,a&&a.active,{hash:{},inverse:vc.program(14,n,b),fn:vc.program(12,m,b),data:b}),(e||0===e)&&(h+=e),f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.noop,fn:vc.program(16,o,b),data:b},e=f?f.call(a,a&&a.effectiveTime,(e=d&&d.options,null==e||e===!1?e:e.highlightByEffectiveTime),g):tc.call(a,"if_eq",a&&a.effectiveTime,(e=d&&d.options,null==e||e===!1?e:e.highlightByEffectiveTime),g),(e||0===e)&&(h+=e),h+="'>\n                                <td>\n                                    ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.program(63,T,b),fn:vc.program(61,S,b),data:b},e=f?f.call(a,(e=a&&a.type,null==e||e===!1?e:e.conceptId),"900000000000003001",g):tc.call(a,"if_eq",(e=a&&a.type,null==e||e===!1?e:e.conceptId),"900000000000003001",g),(e||0===e)&&(h+=e),h+="\n\n                                    ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.programWithDepth(71,Y,b,d),fn:vc.program(69,X,b),data:b},e=f?f.call(a,a&&a.langMemberships,"undefined",g):tc.call(a,"if_eq",a&&a.langMemberships,"undefined",g),(e||0===e)&&(h+=e),h+="\n                                    ",f=c.preferred||a&&a.preferred,g={hash:{},inverse:vc.program(84,fb,b),fn:vc.program(79,cb,b),data:b},e=f?f.call(a,"get",g):tc.call(a,"preferred","get",g),(e||0===e)&&(h+=e),h+="\n\n                                    &nbsp;&nbsp;&nbsp;",(f=c.term)?e=f.call(a,{hash:{},data:b}):(f=a&&a.term,e=typeof f===wc?f.call(a,{hash:{},data:b}):f),h+=uc(e)+"</td>\n                                ",e=c["if"].call(a,(e=d&&d.options,null==e||e===!1?e:e.showIds),{hash:{},inverse:vc.noop,fn:vc.program(89,ib,b),data:b}),(e||0===e)&&(h+=e),h+="\n\n                                <td>\n                                    "+uc((f=c.included||d&&d.included,g={hash:{},data:b},f?f.call(a,!1,g):tc.call(a,"included",!1,g)))+"\n                                    ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.programWithDepth(91,jb,b,d),fn:vc.program(69,X,b),data:b},e=f?f.call(a,a&&a.langMemberships,"undefined",g):tc.call(a,"if_eq",a&&a.langMemberships,"undefined",g),(e||0===e)&&(h+=e),h+="\n\n                                    ",f=c.included||a&&a.included,g={hash:{},inverse:vc.program(98,ob,b),fn:vc.program(69,X,b),data:b},e=f?f.call(a,"get",g):tc.call(a,"included","get",g),(e||0===e)&&(h+=e),h+="\n                                    <button type=\"button\" class=\"btn btn-link unobtrusive-icon more-fields-button pull-right\" data-container=\"body\" data-toggle=\"popover\" data-placement=\"left\" data-content=\"\n                                    <table border='1'><tr><th style='padding: 3px;'>DescriptionId</th><th style='padding: 3px;'>Type</th><th style='padding: 3px;'>Language</th><th style='padding: 3px;'>Case Significance</th><th style='padding: 3px;'>Effective Time</th><th style='padding: 3px;'>ModuleId</th></tr>\n                                            <tr><td style='padding: 3px;'>",(f=c.descriptionId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.descriptionId,e=typeof f===wc?f.call(a,{hash:{},data:b}):f),h+=uc(e)+"</td><td style='padding: 3px;'>"+uc((f=c.removeSemtag||a&&a.removeSemtag,g={hash:{},data:b},f?f.call(a,(e=a&&a.type,null==e||e===!1?e:e.defaultTerm),g):tc.call(a,"removeSemtag",(e=a&&a.type,null==e||e===!1?e:e.defaultTerm),g)))+"</td><td style='padding: 3px;'>",(f=c.lang)?e=f.call(a,{hash:{},data:b}):(f=a&&a.lang,e=typeof f===wc?f.call(a,{hash:{},data:b}):f),h+=uc(e)+"</td><td style='padding: 3px;'>"+uc((f=c.removeSemtag||a&&a.removeSemtag,g={hash:{},data:b},f?f.call(a,(e=a&&a.ics,null==e||e===!1?e:e.defaultTerm),g):tc.call(a,"removeSemtag",(e=a&&a.ics,null==e||e===!1?e:e.defaultTerm),g)))+"</td><td style='padding: 3px;'>",(f=c.effectiveTime)?e=f.call(a,{hash:{},data:b}):(f=a&&a.effectiveTime,e=typeof f===wc?f.call(a,{hash:{},data:b}):f),h+=uc(e)+"</td><td style='padding: 3px;'>",(f=c.module)?e=f.call(a,{hash:{},data:b}):(f=a&&a.module,e=typeof f===wc?f.call(a,{hash:{},data:b}):f),h+=uc(e)+'</td></tr>\n                                    </table>\n                                    " data-html="true"><i class="glyphicon glyphicon-info-sign"></i></button>\n                                </td>\n                            </tr>\n                        '}function S(){return'\n                                        <span rel="tooltip-right" title="F">F</span>\n                                    '}function T(a,b){var d,e,f,g="";return g+="\n                                        ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.program(66,V,b),fn:vc.program(64,U,b),data:b},d=e?e.call(a,(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000013009",f):tc.call(a,"if_eq",(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000013009",f),(d||0===d)&&(g+=d),g+="\n                                    "}function U(){return'\n                                            <span rel="tooltip-right" title="S">S</span>\n                                        '}function V(a,b){var d,e,f,g="";return g+="\n                                            ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.noop,fn:vc.program(67,W,b),data:b},d=e?e.call(a,(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000550004",f):tc.call(a,"if_eq",(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000550004",f),(d||0===d)&&(g+=d),g+="\n                                        "}function W(){return'\n                                                <span rel="tooltip-right" title="D">D</span>\n                                            '}function X(){return"\n                                    "}function Y(a,b,d){var e,f="";return f+="\n                                        ",e=c.each.call(a,a&&a.langMemberships,{hash:{},inverse:vc.noop,fn:vc.programWithDepth(72,Z,b,d),data:b}),(e||0===e)&&(f+=e),f+="\n                                    "}function Z(a,b,d){var e,f,g,h="";return h+="\n                                            ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.noop,fn:vc.program(73,$,b),data:b},e=f?f.call(a,(e=a&&a.refset,null==e||e===!1?e:e.conceptId),(e=d&&d.options,null==e||e===!1?e:e.langRefset),g):tc.call(a,"if_eq",(e=a&&a.refset,null==e||e===!1?e:e.conceptId),(e=d&&d.options,null==e||e===!1?e:e.langRefset),g),(e||0===e)&&(h+=e),h+="\n                                        "}function $(a,b){var d,e,f,g="";return g+="\n                                                ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.program(76,ab,b),fn:vc.program(74,_,b),data:b},d=e?e.call(a,(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000548007",f):tc.call(a,"if_eq",(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000548007",f),(d||0===d)&&(g+=d),g+="\n                                            "}function _(a,b){var d,e,f="";return f+="\n                                                    <!--isPreferred = true;-->\n                                                    "+uc((d=c.preferred||a&&a.preferred,e={hash:{},data:b},d?d.call(a,!0,e):tc.call(a,"preferred",!0,e)))+"\n                                                "}function ab(a,b){var d,e,f,g="";return g+="\n                                                    ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.noop,fn:vc.program(77,bb,b),data:b},d=e?e.call(a,(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000549004",f):tc.call(a,"if_eq",(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000549004",f),(d||0===d)&&(g+=d),g+="\n                                                "}function bb(a,b){var d,e,f="";return f+="\n                                                        <!--isAcceptable = true;-->\n                                                        "+uc((d=c.acceptable||a&&a.acceptable,e={hash:{},data:b},d?d.call(a,!0,e):tc.call(a,"acceptable",!0,e)))+"\n                                                    "}function cb(a,b){var d,e,f,g="";return g+="\n                                        ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.program(82,eb,b),fn:vc.program(80,db,b),data:b},d=e?e.call(a,(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000003001",f):tc.call(a,"if_eq",(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000003001",f),(d||0===d)&&(g+=d),g+="\n                                    "}function db(){return'\n                                            &nbsp;<span class="glyphicon glyphicon-star-empty" rel="tooltip-right" title="Preferred"></span>\n                                        '}function eb(){return'\n                                            &nbsp;<span class="glyphicon glyphicon-star" rel="tooltip-right" title="Preferred"></span>\n                                        '}function fb(a,b){var d,e,f,g="";return g+="\n                                        ",e=c.acceptable||a&&a.acceptable,f={hash:{},inverse:vc.program(87,hb,b),fn:vc.program(85,gb,b),data:b},d=e?e.call(a,"get",f):tc.call(a,"acceptable","get",f),(d||0===d)&&(g+=d),g+="\n                                    "}function gb(){return'\n                                            &nbsp;<span rel="tooltip-right" title="Acceptable">&#10004;</span></span>\n                                        '}function hb(){return"\n                                            &nbsp;&nbsp;&nbsp;\n                                        "}function ib(a,b){var d,e,f="";return f+="\n                                    <td>",(e=c.descriptionId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.descriptionId,d=typeof e===wc?e.call(a,{hash:{},data:b}):e),f+=uc(d)+"</td>\n                                "}function jb(a,b,d){var e,f="";return f+="\n                                        ",e=c.each.call(a,a&&a.langMemberships,{hash:{},inverse:vc.noop,fn:vc.programWithDepth(92,kb,b,d),data:b}),(e||0===e)&&(f+=e),f+="\n                                    "}function kb(a,b,d){var e,f,g,h="";return h+="\n                                            ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.noop,fn:vc.program(93,lb,b),data:b},e=f?f.call(a,(e=a&&a.refset,null==e||e===!1?e:e.conceptId),(e=d&&d.options,null==e||e===!1?e:e.langRefset),g):tc.call(a,"if_eq",(e=a&&a.refset,null==e||e===!1?e:e.conceptId),(e=d&&d.options,null==e||e===!1?e:e.langRefset),g),(e||0===e)&&(h+=e),h+="\n                                        "}function lb(a,b){var d,e,f,g="";return g+="\n                                                ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.program(96,nb,b),fn:vc.program(94,mb,b),data:b},d=e?e.call(a,(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000548007",f):tc.call(a,"if_eq",(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000548007",f),(d||0===d)&&(g+=d),g+="\n                                                "+uc((e=c.included||a&&a.included,f={hash:{},data:b},e?e.call(a,!0,f):tc.call(a,"included",!0,f)))+"\n                                            "}function mb(){return"\n                                                    <span class='i18n' data-i18n-id='i18n_preferred'>Preferred</span>\n                                                "}function nb(){return"\n                                                    <span class='i18n' data-i18n-id='i18n_acceptable'>Acceptable</span>\n                                                "}function ob(){return"\n                                        <span class='i18n' data-i18n-id='i18n_not_acceptable'>Not acceptable</span>\n                                    "}function pb(a,b,d,e){var f,g="";return g+="\n                            ",f=c["if"].call(a,a&&a.active,{hash:{},inverse:vc.noop,fn:vc.programWithDepth(101,qb,b,d,e),data:b}),(f||0===f)&&(g+=f),g+="\n                        "}function qb(a,b,d,e){var f,g,h,i="";return i+="\n                                <tr class='",g=c.if_eq||a&&a.if_eq,h={hash:{},inverse:vc.program(10,l,b),fn:vc.program(8,k,b),data:b},f=g?g.call(a,(f=a&&a.type,null==f||f===!1?f:f.conceptId),"900000000000003001",h):tc.call(a,"if_eq",(f=a&&a.type,null==f||f===!1?f:f.conceptId),"900000000000003001",h),(f||0===f)&&(i+=f),f=c["if"].call(a,a&&a.active,{hash:{},inverse:vc.program(14,n,b),fn:vc.program(12,m,b),data:b}),(f||0===f)&&(i+=f),g=c.if_eq||a&&a.if_eq,h={hash:{},inverse:vc.noop,fn:vc.program(16,o,b),data:b},f=g?g.call(a,a&&a.effectiveTime,(f=e&&e.options,null==f||f===!1?f:f.highlightByEffectiveTime),h):tc.call(a,"if_eq",a&&a.effectiveTime,(f=e&&e.options,null==f||f===!1?f:f.highlightByEffectiveTime),h),(f||0===f)&&(i+=f),i+="'>\n                                    <td>\n                                        ",g=c.if_eq||a&&a.if_eq,h={hash:{},inverse:vc.program(104,sb,b),fn:vc.program(102,rb,b),data:b},f=g?g.call(a,(f=a&&a.type,null==f||f===!1?f:f.conceptId),"900000000000003001",h):tc.call(a,"if_eq",(f=a&&a.type,null==f||f===!1?f:f.conceptId),"900000000000003001",h),(f||0===f)&&(i+=f),i+="\n\n                                        ",g=c.if_eq||a&&a.if_eq,h={hash:{},inverse:vc.programWithDepth(112,xb,b,e),fn:vc.program(110,wb,b),data:b},f=g?g.call(a,a&&a.langMemberships,"undefined",h):tc.call(a,"if_eq",a&&a.langMemberships,"undefined",h),(f||0===f)&&(i+=f),i+="\n                                        ",g=c.preferred||a&&a.preferred,h={hash:{},inverse:vc.program(125,Gb,b),fn:vc.program(120,Db,b),data:b},f=g?g.call(a,"get",h):tc.call(a,"preferred","get",h),(f||0===f)&&(i+=f),i+="\n\n                                        &nbsp;&nbsp;&nbsp;",(g=c.term)?f=g.call(a,{hash:{},data:b}):(g=a&&a.term,f=typeof g===wc?g.call(a,{hash:{},data:b}):g),i+=uc(f)+"</td>\n                                    ",f=c["if"].call(a,(f=d&&d.options,null==f||f===!1?f:f.showIds),{hash:{},inverse:vc.noop,fn:vc.program(130,Jb,b),data:b}),(f||0===f)&&(i+=f),i+="\n\n                                    <td>\n                                        "+uc((g=c.included||d&&d.included,h={hash:{},data:b},g?g.call(a,!1,h):tc.call(a,"included",!1,h)))+"\n                                        ",g=c.if_eq||a&&a.if_eq,h={hash:{},inverse:vc.programWithDepth(132,Kb,b,e),fn:vc.program(110,wb,b),data:b},f=g?g.call(a,a&&a.langMemberships,"undefined",h):tc.call(a,"if_eq",a&&a.langMemberships,"undefined",h),(f||0===f)&&(i+=f),i+="\n\n                                        ",g=c.included||a&&a.included,h={hash:{},inverse:vc.program(139,Pb,b),fn:vc.program(110,wb,b),data:b},f=g?g.call(a,"get",h):tc.call(a,"included","get",h),(f||0===f)&&(i+=f),i+="\n                                        <button type=\"button\" class=\"btn btn-link unobtrusive-icon more-fields-button pull-right\" data-container=\"body\" data-toggle=\"popover\" data-placement=\"left\" data-content=\"\n                                        <table border='1'><tr><th style='padding: 3px;'>DescriptionId</th><th style='padding: 3px;'>Type</th><th style='padding: 3px;'>Language</th><th style='padding: 3px;'>Case Significance</th><th style='padding: 3px;'>Effective Time</th><th style='padding: 3px;'>ModuleId</th></tr>\n                                                <tr><td style='padding: 3px;'>",(g=c.descriptionId)?f=g.call(a,{hash:{},data:b}):(g=a&&a.descriptionId,f=typeof g===wc?g.call(a,{hash:{},data:b}):g),i+=uc(f)+"</td><td style='padding: 3px;'>"+uc((g=c.removeSemtag||a&&a.removeSemtag,h={hash:{},data:b},g?g.call(a,(f=a&&a.type,null==f||f===!1?f:f.defaultTerm),h):tc.call(a,"removeSemtag",(f=a&&a.type,null==f||f===!1?f:f.defaultTerm),h)))+"</td><td style='padding: 3px;'>",(g=c.lang)?f=g.call(a,{hash:{},data:b}):(g=a&&a.lang,f=typeof g===wc?g.call(a,{hash:{},data:b}):g),i+=uc(f)+"</td><td style='padding: 3px;'>"+uc((g=c.removeSemtag||a&&a.removeSemtag,h={hash:{},data:b},g?g.call(a,(f=a&&a.ics,null==f||f===!1?f:f.defaultTerm),h):tc.call(a,"removeSemtag",(f=a&&a.ics,null==f||f===!1?f:f.defaultTerm),h)))+"</td><td style='padding: 3px;'>",(g=c.effectiveTime)?f=g.call(a,{hash:{},data:b}):(g=a&&a.effectiveTime,f=typeof g===wc?g.call(a,{hash:{},data:b}):g),i+=uc(f)+"</td><td style='padding: 3px;'>",(g=c.module)?f=g.call(a,{hash:{},data:b}):(g=a&&a.module,f=typeof g===wc?g.call(a,{hash:{},data:b}):g),i+=uc(f)+'</td></tr>\n                                        </table>\n                                        " data-html="true"><i class="glyphicon glyphicon-info-sign"></i></button>\n                                    </td>\n                                </tr>\n                            '}function rb(){return'\n                                            <span rel="tooltip-right" title="F">F</span>\n                                        '}function sb(a,b){var d,e,f,g="";return g+="\n                                            ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.program(107,ub,b),fn:vc.program(105,tb,b),data:b},d=e?e.call(a,(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000013009",f):tc.call(a,"if_eq",(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000013009",f),(d||0===d)&&(g+=d),g+="\n                                        "}function tb(){return'\n                                                <span rel="tooltip-right" title="S">S</span>\n                                            '}function ub(a,b){var d,e,f,g="";return g+="\n                                                ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.noop,fn:vc.program(108,vb,b),data:b},d=e?e.call(a,(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000550004",f):tc.call(a,"if_eq",(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000550004",f),(d||0===d)&&(g+=d),g+="\n                                            "}function vb(){return'\n                                                    <span rel="tooltip-right" title="D">D</span>\n                                                '}function wb(){return"\n                                        "}function xb(a,b,d){var e,f="";return f+="\n                                            ",e=c.each.call(a,a&&a.langMemberships,{hash:{},inverse:vc.noop,fn:vc.programWithDepth(113,yb,b,d),data:b}),(e||0===e)&&(f+=e),f+="\n                                        "}function yb(a,b,d){var e,f,g,h="";return h+="\n                                                ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.noop,fn:vc.program(114,zb,b),data:b},e=f?f.call(a,(e=a&&a.refset,null==e||e===!1?e:e.conceptId),(e=d&&d.options,null==e||e===!1?e:e.langRefset),g):tc.call(a,"if_eq",(e=a&&a.refset,null==e||e===!1?e:e.conceptId),(e=d&&d.options,null==e||e===!1?e:e.langRefset),g),(e||0===e)&&(h+=e),h+="\n                                            "}function zb(a,b){var d,e,f,g="";return g+="\n                                                    ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.program(117,Bb,b),fn:vc.program(115,Ab,b),data:b},d=e?e.call(a,(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000548007",f):tc.call(a,"if_eq",(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000548007",f),(d||0===d)&&(g+=d),g+="\n                                                "}function Ab(a,b){var d,e,f="";return f+="\n                                                        <!--isPreferred = true;-->\n                                                        "+uc((d=c.preferred||a&&a.preferred,e={hash:{},data:b},d?d.call(a,!0,e):tc.call(a,"preferred",!0,e)))+"\n                                                    "}function Bb(a,b){var d,e,f,g="";return g+="\n                                                        ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.noop,fn:vc.program(118,Cb,b),data:b},d=e?e.call(a,(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000549004",f):tc.call(a,"if_eq",(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000549004",f),(d||0===d)&&(g+=d),g+="\n                                                    "}function Cb(a,b){var d,e,f="";return f+="\n                                                            <!--isAcceptable = true;-->\n                                                            "+uc((d=c.acceptable||a&&a.acceptable,e={hash:{},data:b},d?d.call(a,!0,e):tc.call(a,"acceptable",!0,e)))+"\n                                                        "}function Db(a,b){var d,e,f,g="";return g+="\n                                            ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.program(123,Fb,b),fn:vc.program(121,Eb,b),data:b},d=e?e.call(a,(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000003001",f):tc.call(a,"if_eq",(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000003001",f),(d||0===d)&&(g+=d),g+="\n                                        "}function Eb(){return'\n                                                &nbsp;<span class="glyphicon glyphicon-star-empty" rel="tooltip-right" title="Preferred"></span>\n                                            '}function Fb(){return'\n                                                &nbsp;<span class="glyphicon glyphicon-star" rel="tooltip-right" title="Preferred"></span>\n                                            '}function Gb(a,b){var d,e,f,g="";return g+="\n                                            ",e=c.acceptable||a&&a.acceptable,f={hash:{},inverse:vc.program(128,Ib,b),fn:vc.program(126,Hb,b),data:b},d=e?e.call(a,"get",f):tc.call(a,"acceptable","get",f),(d||0===d)&&(g+=d),g+="\n                                        "}function Hb(){return'\n                                                &nbsp;<span rel="tooltip-right" title="Acceptable">&#10004;</span></span>\n                                            '}function Ib(){return"\n                                                &nbsp;&nbsp;&nbsp;\n                                            "}function Jb(a,b){var d,e,f="";return f+="\n                                        <td>",(e=c.descriptionId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.descriptionId,d=typeof e===wc?e.call(a,{hash:{},data:b}):e),f+=uc(d)+"</td>\n                                    "}function Kb(a,b,d){var e,f="";return f+="\n                                            ",e=c.each.call(a,a&&a.langMemberships,{hash:{},inverse:vc.noop,fn:vc.programWithDepth(133,Lb,b,d),data:b}),(e||0===e)&&(f+=e),f+="\n                                        "}function Lb(a,b,d){var e,f,g,h="";return h+="\n                                                ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.noop,fn:vc.program(134,Mb,b),data:b},e=f?f.call(a,(e=a&&a.refset,null==e||e===!1?e:e.conceptId),(e=d&&d.options,null==e||e===!1?e:e.langRefset),g):tc.call(a,"if_eq",(e=a&&a.refset,null==e||e===!1?e:e.conceptId),(e=d&&d.options,null==e||e===!1?e:e.langRefset),g),(e||0===e)&&(h+=e),h+="\n                                            "}function Mb(a,b){var d,e,f,g="";return g+="\n                                                    ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.program(137,Ob,b),fn:vc.program(135,Nb,b),data:b},d=e?e.call(a,(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000548007",f):tc.call(a,"if_eq",(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000548007",f),(d||0===d)&&(g+=d),g+="\n                                                    "+uc((e=c.included||a&&a.included,f={hash:{},data:b},e?e.call(a,!0,f):tc.call(a,"included",!0,f)))+"\n                                                "}function Nb(){return"\n                                                        <span class='i18n' data-i18n-id='i18n_preferred'>Preferred</span>\n                                                    "}function Ob(){return"\n                                                        <span class='i18n' data-i18n-id='i18n_acceptable'>Acceptable</span>\n                                                    "}function Pb(){return"\n                                            <span class='i18n' data-i18n-id='i18n_not_acceptable'>Not acceptable</span>\n                                        "}function Qb(a,b,d){var e,f="";return f+="\n                    ",e=c["if"].call(a,(e=d&&d.options,null==e||e===!1?e:e.displayInactiveDescriptions),{hash:{},inverse:vc.programWithDepth(182,pc,b,d),fn:vc.programWithDepth(142,Rb,b,d),data:b}),(e||0===e)&&(f+=e),f+="\n                    <!--descDetailsHtml = descDetailsHtml + row;-->\n                "}function Rb(a,b,d){var e,f,g,h="";return h+="\n                        <tr class='",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.program(10,l,b),fn:vc.program(8,k,b),data:b},e=f?f.call(a,(e=a&&a.type,null==e||e===!1?e:e.conceptId),"900000000000003001",g):tc.call(a,"if_eq",(e=a&&a.type,null==e||e===!1?e:e.conceptId),"900000000000003001",g),(e||0===e)&&(h+=e),e=c["if"].call(a,a&&a.active,{hash:{},inverse:vc.program(14,n,b),fn:vc.program(12,m,b),data:b}),(e||0===e)&&(h+=e),f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.noop,fn:vc.program(16,o,b),data:b},e=f?f.call(a,a&&a.effectiveTime,(e=d&&d.options,null==e||e===!1?e:e.highlightByEffectiveTime),g):tc.call(a,"if_eq",a&&a.effectiveTime,(e=d&&d.options,null==e||e===!1?e:e.highlightByEffectiveTime),g),(e||0===e)&&(h+=e),h+="'>\n                            <td>\n                                ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.program(145,Tb,b),fn:vc.program(143,Sb,b),data:b},e=f?f.call(a,(e=a&&a.type,null==e||e===!1?e:e.conceptId),"900000000000003001",g):tc.call(a,"if_eq",(e=a&&a.type,null==e||e===!1?e:e.conceptId),"900000000000003001",g),(e||0===e)&&(h+=e),h+="\n\n                                ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.programWithDepth(153,Yb,b,d),fn:vc.program(151,Xb,b),data:b},e=f?f.call(a,a&&a.langMemberships,"undefined",g):tc.call(a,"if_eq",a&&a.langMemberships,"undefined",g),(e||0===e)&&(h+=e),h+="\n                                ",f=c.preferred||a&&a.preferred,g={hash:{},inverse:vc.program(166,fc,b),fn:vc.program(161,cc,b),data:b},e=f?f.call(a,"get",g):tc.call(a,"preferred","get",g),(e||0===e)&&(h+=e),h+="\n\n                                &nbsp;&nbsp;&nbsp;",(f=c.term)?e=f.call(a,{hash:{},data:b}):(f=a&&a.term,e=typeof f===wc?f.call(a,{hash:{},data:b}):f),h+=uc(e)+"</td>\n                            ",e=c["if"].call(a,(e=d&&d.options,null==e||e===!1?e:e.showIds),{hash:{},inverse:vc.noop,fn:vc.program(171,ic,b),data:b}),(e||0===e)&&(h+=e),h+="\n\n                            <td>\n                                "+uc((f=c.included||d&&d.included,g={hash:{},data:b},f?f.call(a,!1,g):tc.call(a,"included",!1,g)))+"\n                                ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.programWithDepth(173,jc,b,d),fn:vc.program(151,Xb,b),data:b},e=f?f.call(a,a&&a.langMemberships,"undefined",g):tc.call(a,"if_eq",a&&a.langMemberships,"undefined",g),(e||0===e)&&(h+=e),h+="\n\n                                ",f=c.included||a&&a.included,g={hash:{},inverse:vc.program(180,oc,b),fn:vc.program(151,Xb,b),data:b},e=f?f.call(a,"get",g):tc.call(a,"included","get",g),(e||0===e)&&(h+=e),h+="\n                                <button type=\"button\" class=\"btn btn-link unobtrusive-icon more-fields-button pull-right\" data-container=\"body\" data-toggle=\"popover\" data-placement=\"left\" data-content=\"\n                                <table border='1'><tr><th style='padding: 3px;'>DescriptionId</th><th style='padding: 3px;'>Type</th><th style='padding: 3px;'>Language</th><th style='padding: 3px;'>Case Significance</th><th style='padding: 3px;'>Effective Time</th><th style='padding: 3px;'>ModuleId</th></tr>\n                                        <tr><td style='padding: 3px;'>",(f=c.descriptionId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.descriptionId,e=typeof f===wc?f.call(a,{hash:{},data:b}):f),h+=uc(e)+"</td><td style='padding: 3px;'>"+uc((f=c.removeSemtag||a&&a.removeSemtag,g={hash:{},data:b},f?f.call(a,(e=a&&a.type,null==e||e===!1?e:e.defaultTerm),g):tc.call(a,"removeSemtag",(e=a&&a.type,null==e||e===!1?e:e.defaultTerm),g)))+"</td><td style='padding: 3px;'>",(f=c.lang)?e=f.call(a,{hash:{},data:b}):(f=a&&a.lang,e=typeof f===wc?f.call(a,{hash:{},data:b}):f),h+=uc(e)+"</td><td style='padding: 3px;'>"+uc((f=c.removeSemtag||a&&a.removeSemtag,g={hash:{},data:b},f?f.call(a,(e=a&&a.ics,null==e||e===!1?e:e.defaultTerm),g):tc.call(a,"removeSemtag",(e=a&&a.ics,null==e||e===!1?e:e.defaultTerm),g)))+"</td><td style='padding: 3px;'>",(f=c.effectiveTime)?e=f.call(a,{hash:{},data:b}):(f=a&&a.effectiveTime,e=typeof f===wc?f.call(a,{hash:{},data:b}):f),h+=uc(e)+"</td><td style='padding: 3px;'>",(f=c.module)?e=f.call(a,{hash:{},data:b}):(f=a&&a.module,e=typeof f===wc?f.call(a,{hash:{},data:b}):f),h+=uc(e)+'</td></tr>\n                                </table>\n                                " data-html="true"><i class="glyphicon glyphicon-info-sign"></i></button>\n                            </td>\n                        </tr>\n                    '}function Sb(){return'\n                                    <span rel="tooltip-right" title="F">F</span>\n                                '}function Tb(a,b){var d,e,f,g="";return g+="\n                                    ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.program(148,Vb,b),fn:vc.program(146,Ub,b),data:b},d=e?e.call(a,(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000013009",f):tc.call(a,"if_eq",(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000013009",f),(d||0===d)&&(g+=d),g+="\n                                "}function Ub(){return'\n                                        <span rel="tooltip-right" title="S">S</span>\n                                    '}function Vb(a,b){var d,e,f,g="";return g+="\n                                        ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.noop,fn:vc.program(149,Wb,b),data:b},d=e?e.call(a,(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000550004",f):tc.call(a,"if_eq",(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000550004",f),(d||0===d)&&(g+=d),g+="\n                                    "}function Wb(){return'\n                                            <span rel="tooltip-right" title="D">D</span>\n                                        '
}function Xb(){return"\n                                "}function Yb(a,b,d){var e,f="";return f+="\n                                    ",e=c.each.call(a,a&&a.langMemberships,{hash:{},inverse:vc.noop,fn:vc.programWithDepth(154,Zb,b,d),data:b}),(e||0===e)&&(f+=e),f+="\n                                "}function Zb(a,b,d){var e,f,g,h="";return h+="\n                                        ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.noop,fn:vc.program(155,$b,b),data:b},e=f?f.call(a,(e=a&&a.refset,null==e||e===!1?e:e.conceptId),(e=d&&d.options,null==e||e===!1?e:e.langRefset),g):tc.call(a,"if_eq",(e=a&&a.refset,null==e||e===!1?e:e.conceptId),(e=d&&d.options,null==e||e===!1?e:e.langRefset),g),(e||0===e)&&(h+=e),h+="\n                                    "}function $b(a,b){var d,e,f,g="";return g+="\n                                            ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.program(158,ac,b),fn:vc.program(156,_b,b),data:b},d=e?e.call(a,(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000548007",f):tc.call(a,"if_eq",(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000548007",f),(d||0===d)&&(g+=d),g+="\n                                        "}function _b(a,b){var d,e,f="";return f+="\n                                                <!--isPreferred = true;-->\n                                                "+uc((d=c.preferred||a&&a.preferred,e={hash:{},data:b},d?d.call(a,!0,e):tc.call(a,"preferred",!0,e)))+"\n                                            "}function ac(a,b){var d,e,f,g="";return g+="\n                                                ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.noop,fn:vc.program(159,bc,b),data:b},d=e?e.call(a,(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000549004",f):tc.call(a,"if_eq",(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000549004",f),(d||0===d)&&(g+=d),g+="\n                                            "}function bc(a,b){var d,e,f="";return f+="\n                                                    <!--isAcceptable = true;-->\n                                                    "+uc((d=c.acceptable||a&&a.acceptable,e={hash:{},data:b},d?d.call(a,!0,e):tc.call(a,"acceptable",!0,e)))+"\n                                                "}function cc(a,b){var d,e,f,g="";return g+="\n                                    ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.program(164,ec,b),fn:vc.program(162,dc,b),data:b},d=e?e.call(a,(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000003001",f):tc.call(a,"if_eq",(d=a&&a.type,null==d||d===!1?d:d.conceptId),"900000000000003001",f),(d||0===d)&&(g+=d),g+="\n                                "}function dc(){return'\n                                        &nbsp;<span class="glyphicon glyphicon-star-empty" rel="tooltip-right" title="Preferred"></span>\n                                    '}function ec(){return'\n                                        &nbsp;<span class="glyphicon glyphicon-star" rel="tooltip-right" title="Preferred"></span>\n                                    '}function fc(a,b){var d,e,f,g="";return g+="\n                                    ",e=c.acceptable||a&&a.acceptable,f={hash:{},inverse:vc.program(169,hc,b),fn:vc.program(167,gc,b),data:b},d=e?e.call(a,"get",f):tc.call(a,"acceptable","get",f),(d||0===d)&&(g+=d),g+="\n                                "}function gc(){return'\n                                        &nbsp;<span rel="tooltip-right" title="Acceptable">&#10004;</span></span>\n                                    '}function hc(){return"\n                                        &nbsp;&nbsp;&nbsp;\n                                    "}function ic(a,b){var d,e,f="";return f+="\n                                <td>",(e=c.descriptionId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.descriptionId,d=typeof e===wc?e.call(a,{hash:{},data:b}):e),f+=uc(d)+"</td>\n                            "}function jc(a,b,d){var e,f="";return f+="\n                                    ",e=c.each.call(a,a&&a.langMemberships,{hash:{},inverse:vc.noop,fn:vc.programWithDepth(174,kc,b,d),data:b}),(e||0===e)&&(f+=e),f+="\n                                "}function kc(a,b,d){var e,f,g,h="";return h+="\n                                        ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:vc.noop,fn:vc.program(175,lc,b),data:b},e=f?f.call(a,(e=a&&a.refset,null==e||e===!1?e:e.conceptId),(e=d&&d.options,null==e||e===!1?e:e.langRefset),g):tc.call(a,"if_eq",(e=a&&a.refset,null==e||e===!1?e:e.conceptId),(e=d&&d.options,null==e||e===!1?e:e.langRefset),g),(e||0===e)&&(h+=e),h+="\n                                    "}function lc(a,b){var d,e,f,g="";return g+="\n                                            ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:vc.program(178,nc,b),fn:vc.program(176,mc,b),data:b},d=e?e.call(a,(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000548007",f):tc.call(a,"if_eq",(d=a&&a.acceptability,null==d||d===!1?d:d.conceptId),"900000000000548007",f),(d||0===d)&&(g+=d),g+="\n                                            "+uc((e=c.included||a&&a.included,f={hash:{},data:b},e?e.call(a,!0,f):tc.call(a,"included",!0,f)))+"\n                                        "}function mc(){return"\n                                                <span class='i18n' data-i18n-id='i18n_preferred'>Preferred</span>\n                                            "}function nc(){return"\n                                                <span class='i18n' data-i18n-id='i18n_acceptable'>Acceptable</span>\n                                            "}function oc(){return"\n                                    <span class='i18n' data-i18n-id='i18n_not_acceptable'>Not acceptable</span>\n                                "}function pc(a,b,d){var e,f="";return f+="\n                        ",e=c["if"].call(a,a&&a.active,{hash:{},inverse:vc.noop,fn:vc.programWithDepth(60,R,b,d),data:b}),(e||0===e)&&(f+=e),f+="\n                    "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var qc,rc,sc="",tc=c.helperMissing,uc=this.escapeExpression,vc=this,wc="function";return sc+="<table class='table table-bordered' id = '",(rc=c.divElementId)?qc=rc.call(b,{hash:{},data:e}):(rc=b&&b.divElementId,qc=typeof rc===wc?rc.call(b,{hash:{},data:e}):rc),sc+=uc(qc)+"-descriptions-panel-table'>\n    <thead><tr>\n        <th><span class='i18n' data-i18n-id='i18n_term'>Term</span></th>\n        ",qc=c["if"].call(b,(qc=b&&b.options,null==qc||qc===!1?qc:qc.showIds),{hash:{},inverse:vc.noop,fn:vc.program(1,f,e),data:e}),(qc||0===qc)&&(sc+=qc),sc+="\n        <th><span class='i18n' data-i18n-id='i18n_acceptability'>Acceptability</span>",(rc=c.languageName)?qc=rc.call(b,{hash:{},data:e}):(rc=b&&b.languageName,qc=typeof rc===wc?rc.call(b,{hash:{},data:e}):rc),sc+=uc(qc)+"</th>\n        </tr>\n    </thead>\n    <tbody>\n        ",qc=c.each.call(b,b&&b.allDescriptions,{hash:{},inverse:vc.noop,fn:vc.programWithDepth(3,g,e,b),data:e}),(qc||0===qc)&&(sc+=qc),sc+="\n    </tbody>\n</table>"}),this.JST["views/conceptDetailsPlugin/tabs/details/rels-panel.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f,h="";return h+="\n        ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:F.noop,fn:F.program(2,g,b),data:b},d=e?e.call(a,(d=a&&a.firstMatch,null==d||d===!1?d:d.statedRelationships),"undefined",f):G.call(a,"if_eq",(d=a&&a.firstMatch,null==d||d===!1?d:d.statedRelationships),"undefined",f),(d||0===d)&&(h+=d),h+="\n    "}function g(){return"\n            <tr><td colspan='4'><span class='text-muted'>No relationships</span></td></tr>\n        "}function h(a,b){var d,e="";return e+="\n\n        ",d=c.each.call(a,(d=a&&a.firstMatch,null==d||d===!1?d:d.relationships),{hash:{},inverse:F.noop,fn:F.programWithDepth(5,i,b,a),data:b}),(d||0===d)&&(e+=d),e+="\n    "}function i(a,b,d){var e,f="";return f+="\n            ",e=c["if"].call(a,a&&a.active,{hash:{},inverse:F.noop,fn:F.programWithDepth(6,j,b,d),data:b}),(e||0===e)&&(f+=e),f+="\n        "}function j(a,b,d){var e,f,g,h="";return h+="\n                ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:F.programWithDepth(9,l,b,d),fn:F.programWithDepth(7,k,b,d),data:b},e=f?f.call(a,(e=a&&a.type,null==e||e===!1?e:e.conceptId),116680003,g):G.call(a,"if_eq",(e=a&&a.type,null==e||e===!1?e:e.conceptId),116680003,g),(e||0===e)&&(h+=e),h+="\n                <tr class='inferred-rel\n                            ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:F.noop,fn:F.program(11,m,b),data:b},e=f?f.call(a,a&&a.effectiveTime,(e=a&&a.options,null==e||e===!1?e:e.highlightByEffectiveTime),g):G.call(a,"if_eq",a&&a.effectiveTime,(e=a&&a.options,null==e||e===!1?e:e.highlightByEffectiveTime),g),(e||0===e)&&(h+=e),h+="\n                            '>\n                    <td>\n                        ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:F.program(15,o,b),fn:F.program(13,n,b),data:b},e=f?f.call(a,(e=a&&a.type,null==e||e===!1?e:e.definitionStatus),"Primitive",g):G.call(a,"if_eq",(e=a&&a.type,null==e||e===!1?e:e.definitionStatus),"Primitive",g),(e||0===e)&&(h+=e),h+="\n                        "+H((e=a&&a.type,e=null==e||e===!1?e:e.defaultTerm,typeof e===I?e.apply(a):e))+"\n                    </td>\n                    <td>\n                        ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:F.program(19,q,b),fn:F.program(17,p,b),data:b},e=f?f.call(a,(e=a&&a.target,null==e||e===!1?e:e.definitionStatus),"Primitive",g):G.call(a,"if_eq",(e=a&&a.target,null==e||e===!1?e:e.definitionStatus),"Primitive",g),(e||0===e)&&(h+=e),h+="\n                        "+H((e=a&&a.target,e=null==e||e===!1?e:e.defaultTerm,typeof e===I?e.apply(a):e))+"</td>\n                    <td>",(f=c.groupId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.groupId,e=typeof f===I?f.call(a,{hash:{},data:b}):f),h+=H(e)+"</td>\n                    ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:F.program(23,s,b),fn:F.program(21,r,b),data:b},e=f?f.call(a,(e=a&&a.charType,null==e||e===!1?e:e.conceptId),"900000000000010007",g):G.call(a,"if_eq",(e=a&&a.charType,null==e||e===!1?e:e.conceptId),"900000000000010007",g),(e||0===e)&&(h+=e),h+="\n                    <button type=\"button\" class=\"btn btn-link unobtrusive-icon more-fields-button pull-right\" data-container=\"body\" data-toggle=\"popover\" data-placement=\"left\" data-content=\"\n                                <table border='1'><tr><th style='padding: 3px;'>TypeId</th><th style='padding: 3px;'>TargetId</th><th style='padding: 3px;'>Modifier</th><th style='padding: 3px;'>Effective Time</th><th style='padding: 3px;'>ModuleId</th></tr>\n                                    <tr><td style='padding: 3px;'>"+H((e=a&&a.type,e=null==e||e===!1?e:e.conceptId,typeof e===I?e.apply(a):e))+"</td><td style='padding: 3px;'>"+H((e=a&&a.target,e=null==e||e===!1?e:e.conceptId,typeof e===I?e.apply(a):e))+"</td><td style='padding: 3px;'>",(f=c.modifier)?e=f.call(a,{hash:{},data:b}):(f=a&&a.modifier,e=typeof f===I?f.call(a,{hash:{},data:b}):f),h+=H(e)+"</td><td style='padding: 3px;'>",(f=c.effectiveTime)?e=f.call(a,{hash:{},data:b}):(f=a&&a.effectiveTime,e=typeof f===I?f.call(a,{hash:{},data:b}):f),h+=H(e)+"</td><td style='padding: 3px;'>",(f=c.module)?e=f.call(a,{hash:{},data:b}):(f=a&&a.module,e=typeof f===I?f.call(a,{hash:{},data:b}):f),h+=H(e)+'</td></tr>\n                                </table>\n                                " data-html="true"><i class="glyphicon glyphicon-info-sign"></i></button>\n                </td>\n                </tr>\n            '}function k(a,b,d){var e,f,g="";return g+="\n                    "+H((e=c.push||a&&a.push,f={hash:{},data:b},e?e.call(a,a,d&&d.inferredParents,f):G.call(a,"push",a,d&&d.inferredParents,f)))+"\n                "}function l(a,b,d){var e,f,g="";return g+="\n                    "+H((e=c.push||a&&a.push,f={hash:{},data:b},e?e.call(a,a,d&&d.inferredRoles,f):G.call(a,"push",a,d&&d.inferredRoles,f)))+"\n                "}function m(){return"\n                                 highlightEffectiveTime\n                            "}function n(a){var b,c="";return c+='\n                            <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;"><span draggable = "true" ondragstart="drag(event)" class="badge alert-warning"  data-concept-id="'+H((b=a&&a.type,b=null==b||b===!1?b:b.conceptId,typeof b===I?b.apply(a):b))+'" data-term="'+H((b=a&&a.type,b=null==b||b===!1?b:b.defaultTerm,typeof b===I?b.apply(a):b))+'" data-def-status="'+H((b=a&&a.type,b=null==b||b===!1?b:b.definitionStatus,typeof b===I?b.apply(a):b))+'">&nbsp;</span></a>&nbsp;&nbsp;\n                        '}function o(a){var b,c="";return c+='\n                            <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;"><span draggable = "true" ondragstart="drag(event)" class="badge alert-warning"  data-concept-id="'+H((b=a&&a.type,b=null==b||b===!1?b:b.conceptId,typeof b===I?b.apply(a):b))+'" data-term="'+H((b=a&&a.type,b=null==b||b===!1?b:b.defaultTerm,typeof b===I?b.apply(a):b))+'" data-def-status="'+H((b=a&&a.type,b=null==b||b===!1?b:b.definitionStatus,typeof b===I?b.apply(a):b))+'">&equiv;</span></a>&nbsp;&nbsp;\n                        '}function p(a){var b,c="";return c+='\n                            <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;"><span draggable = "true" ondragstart="drag(event)" class="badge alert-warning"  data-concept-id="'+H((b=a&&a.target,b=null==b||b===!1?b:b.conceptId,typeof b===I?b.apply(a):b))+'" data-term="'+H((b=a&&a.target,b=null==b||b===!1?b:b.defaultTerm,typeof b===I?b.apply(a):b))+'" data-def-status="'+H((b=a&&a.target,b=null==b||b===!1?b:b.definitionStatus,typeof b===I?b.apply(a):b))+'">&nbsp;</span></a>&nbsp;&nbsp;\n                        '}function q(a){var b,c="";return c+='\n                            <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;"><span draggable = "true" ondragstart="drag(event)" class="badge alert-warning"  data-concept-id="'+H((b=a&&a.target,b=null==b||b===!1?b:b.conceptId,typeof b===I?b.apply(a):b))+'" data-term="'+H((b=a&&a.target,b=null==b||b===!1?b:b.defaultTerm,typeof b===I?b.apply(a):b))+'" data-def-status="'+H((b=a&&a.target,b=null==b||b===!1?b:b.definitionStatus,typeof b===I?b.apply(a):b))+'">&equiv;</span></a>&nbsp;&nbsp;\n                        '}function r(){return"\n                    <td><span class='i18n' data-i18n-id='i18n_stated'>Stated</span>\n                    "}function s(a,b){var d,e,f,g="";return g+="\n                        ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:F.program(26,u,b),fn:F.program(24,t,b),data:b},d=e?e.call(a,(d=a&&a.charType,null==d||d===!1?d:d.conceptId),"900000000000011006",f):G.call(a,"if_eq",(d=a&&a.charType,null==d||d===!1?d:d.conceptId),"900000000000011006",f),(d||0===d)&&(g+=d),g+="\n                    "}function t(){return"\n                        <td><span class='i18n' data-i18n-id='i18n_inferred'>Inferred</span>\n                        "}function u(){return"\n                        <td><span class='i18n' data-i18n-id='i18n_other'>Other</span>\n                        "}function v(){return"\n    "}function w(a,b){var d,e="";return e+="\n\n        ",d=c.each.call(a,(d=a&&a.firstMatch,null==d||d===!1?d:d.statedRelationships),{hash:{},inverse:F.noop,fn:F.programWithDepth(31,x,b,a),data:b}),(d||0===d)&&(e+=d),e+="\n    "}function x(a,b,d){var e,f="";return f+="\n            ",e=c["if"].call(a,a&&a.active,{hash:{},inverse:F.noop,fn:F.programWithDepth(32,y,b,d),data:b}),(e||0===e)&&(f+=e),f+="\n        "}function y(a,b,d){var e,f,g,h="";return h+="\n                ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:F.programWithDepth(35,A,b,d),fn:F.programWithDepth(33,z,b,d),data:b},e=f?f.call(a,(e=a&&a.type,null==e||e===!1?e:e.conceptId),116680003,g):G.call(a,"if_eq",(e=a&&a.type,null==e||e===!1?e:e.conceptId),116680003,g),(e||0===e)&&(h+=e),h+="\n                <tr class='stated-rel\n                            ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:F.noop,fn:F.program(11,m,b),data:b},e=f?f.call(a,a&&a.effectiveTime,(e=a&&a.options,null==e||e===!1?e:e.highlightByEffectiveTime),g):G.call(a,"if_eq",a&&a.effectiveTime,(e=a&&a.options,null==e||e===!1?e:e.highlightByEffectiveTime),g),(e||0===e)&&(h+=e),h+="\n                            '>\n                    <td>\n                        ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:F.program(15,o,b),fn:F.program(13,n,b),data:b},e=f?f.call(a,(e=a&&a.type,null==e||e===!1?e:e.definitionStatus),"Primitive",g):G.call(a,"if_eq",(e=a&&a.type,null==e||e===!1?e:e.definitionStatus),"Primitive",g),(e||0===e)&&(h+=e),h+="\n                        "+H((e=a&&a.type,e=null==e||e===!1?e:e.defaultTerm,typeof e===I?e.apply(a):e))+"</td>\n                    <td>\n                        ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:F.program(19,q,b),fn:F.program(17,p,b),data:b},e=f?f.call(a,(e=a&&a.target,null==e||e===!1?e:e.definitionStatus),"Primitive",g):G.call(a,"if_eq",(e=a&&a.target,null==e||e===!1?e:e.definitionStatus),"Primitive",g),(e||0===e)&&(h+=e),h+="\n                        "+H((e=a&&a.target,e=null==e||e===!1?e:e.defaultTerm,typeof e===I?e.apply(a):e))+"</td>\n                    <td>",(f=c.groupId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.groupId,e=typeof f===I?f.call(a,{hash:{},data:b}):f),h+=H(e)+"</td>\n                    ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:F.program(23,s,b),fn:F.program(21,r,b),data:b},e=f?f.call(a,(e=a&&a.charType,null==e||e===!1?e:e.conceptId),"900000000000010007",g):G.call(a,"if_eq",(e=a&&a.charType,null==e||e===!1?e:e.conceptId),"900000000000010007",g),(e||0===e)&&(h+=e),h+='\n                    <button type="button" class="btn btn-link unobtrusive-icon more-fields-button pull-right" data-container="body" data-toggle="popover" data-placement="left" data-content="\n                                <table border=\'1\'><tr><th style=\'padding: 3px;\'>Modifier</th><th style=\'padding: 3px;\'>Effective Time</th><th style=\'padding: 3px;\'>ModuleId</th></tr>\n                                    <tr><td style=\'padding: 3px;\'>',(f=c.modifier)?e=f.call(a,{hash:{},data:b}):(f=a&&a.modifier,e=typeof f===I?f.call(a,{hash:{},data:b}):f),h+=H(e)+"</td><td style='padding: 3px;'>",(f=c.effectiveTime)?e=f.call(a,{hash:{},data:b}):(f=a&&a.effectiveTime,e=typeof f===I?f.call(a,{hash:{},data:b}):f),h+=H(e)+"</td><td style='padding: 3px;'>",(f=c.module)?e=f.call(a,{hash:{},data:b}):(f=a&&a.module,e=typeof f===I?f.call(a,{hash:{},data:b}):f),h+=H(e)+'</td></tr>\n                                </table>\n                                " data-html="true"><i class="glyphicon glyphicon-info-sign"></i></button>\n                </td>\n                </tr>\n            '}function z(a,b,d){var e,f,g="";return g+="\n                    "+H((e=c.push||a&&a.push,f={hash:{},data:b},e?e.call(a,a,d&&d.statedParents,f):G.call(a,"push",a,d&&d.statedParents,f)))+"\n                "}function A(a,b,d){var e,f,g="";return g+="\n                    "+H((e=c.push||a&&a.push,f={hash:{},data:b},e?e.call(a,a,d&&d.statedRoles,f):G.call(a,"push",a,d&&d.statedRoles,f)))+"\n                "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var B,C,D,E="",F=this,G=c.helperMissing,H=this.escapeExpression,I="function";return E+="<table class='table table-bordered'>\n    <thead>\n    <tr>\n        <th><span class='i18n' data-i18n-id='i18n_type'>Type</span></th>\n        <th><span class='i18n' data-i18n-id='i18n_destination'>Destination</span></th>\n        <th><span class='i18n' data-i18n-id='i18n_group'>Group</span></th>\n        <th><span class='i18n' data-i18n-id='i18n_char_type'>CharType</span></th>\n    </tr>\n    </thead>\n    <tbody>\n    ",C=c.if_eq||b&&b.if_eq,D={hash:{},inverse:F.program(4,h,e),fn:F.program(1,f,e),data:e},B=C?C.call(b,(B=b&&b.firstMatch,null==B||B===!1?B:B.relationships),"undefined",D):G.call(b,"if_eq",(B=b&&b.firstMatch,null==B||B===!1?B:B.relationships),"undefined",D),(B||0===B)&&(E+=B),E+="\n    ",C=c.if_eq||b&&b.if_eq,D={hash:{},inverse:F.program(30,w,e),fn:F.program(28,v,e),data:e},B=C?C.call(b,(B=b&&b.firstMatch,null==B||B===!1?B:B.statedRelationships),"undefined",D):G.call(b,"if_eq",(B=b&&b.firstMatch,null==B||B===!1?B:B.statedRelationships),"undefined",D),(B||0===B)&&(E+=B),E+="\n\n    </tbody>\n</table>"}),this.JST["views/conceptDetailsPlugin/tabs/home/attributes.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a){var b,c="";return c+='\n    <h4><a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;"><span draggable = "true" ondragstart="drag(event)" class="badge alert-warning"  data-concept-id="'+m((b=a&&a.firstMatch,b=null==b||b===!1?b:b.conceptId,typeof b===l?b.apply(a):b))+'" data-term="'+m((b=a&&a.firstMatch,b=null==b||b===!1?b:b.defaultTerm,typeof b===l?b.apply(a):b))+'" data-def-status="'+m((b=a&&a.firstMatch,b=null==b||b===!1?b:b.definitionStatus,typeof b===l?b.apply(a):b))+'">&nbsp;</span></a>&nbsp;&nbsp;<span ondrop="dropC(event)" ondragover="allowDrop(event)">\n'}function g(a){var b,c="";return c+='\n    <h4><a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;"><span draggable = "true" ondragstart="drag(event)" class="badge alert-warning"  data-concept-id="'+m((b=a&&a.firstMatch,b=null==b||b===!1?b:b.conceptId,typeof b===l?b.apply(a):b))+'" data-term="'+m((b=a&&a.firstMatch,b=null==b||b===!1?b:b.defaultTerm,typeof b===l?b.apply(a):b))+'" data-def-status="'+m((b=a&&a.firstMatch,b=null==b||b===!1?b:b.definitionStatus,typeof b===l?b.apply(a):b))+'">&equiv;</span></a>&nbsp;&nbsp;<span ondrop="dropC(event)" ondragover="allowDrop(event)">\n'}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var h,i,j,k="",l="function",m=this.escapeExpression,n=this,o=c.helperMissing;return i=c.if_eq||b&&b.if_eq,j={hash:{},inverse:n.program(3,g,e),fn:n.program(1,f,e),data:e},h=i?i.call(b,(h=b&&b.firstMatch,null==h||h===!1?h:h.definitionStatus),"Primitive",j):o.call(b,"if_eq",(h=b&&b.firstMatch,null==h||h===!1?h:h.definitionStatus),"Primitive",j),(h||0===h)&&(k+=h),k+="\n"+m((h=b&&b.firstMatch,h=null==h||h===!1?h:h.defaultTerm,typeof h===l?h.apply(b):h))+"\n</span></h4>\n<h5>SCTID: "+m((h=b&&b.firstMatch,h=null==h||h===!1?h:h.conceptId,typeof h===l?h.apply(b):h))+'</h5>\n<div id="home-descriptions-',(i=c.divElementId)?h=i.call(b,{hash:{},data:e}):(i=b&&b.divElementId,h=typeof i===l?i.call(b,{hash:{},data:e}):i),k+=m(h)+'"></div>'}),this.JST["views/conceptDetailsPlugin/tabs/home/parents.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f,h="";return h+="\n    ",d=c.each.call(a,a&&a.statedParents,{hash:{},inverse:w.noop,fn:w.program(2,g,b),data:b}),(d||0===d)&&(h+=d),h+="\n    ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:w.noop,fn:w.program(15,n,b),data:b},d=e?e.call(a,(d=a&&a.statedParents,null==d||d===!1?d:d.length),0,f):t.call(a,"if_eq",(d=a&&a.statedParents,null==d||d===!1?d:d.length),0,f),(d||0===d)&&(h+=d),h+="\n"}function g(a,b){var d,e,f,g="";return g+='\n        <span draggable = "true" ondragstart="drag(event)" class=\'text-warning\' data-concept-id=\''+u((d=a&&a.type,d=null==d||d===!1?d:d.conceptId,typeof d===v?d.apply(a):d))+"' data-term='"+u((d=a&&a.type,d=null==d||d===!1?d:d.defaultTerm,typeof d===v?d.apply(a):d))+"'>\n            ",e=c.if_gr||a&&a.if_gr,f={hash:{},inverse:w.program(5,i,b),fn:w.program(3,h,b),data:b},d=e?e.call(a,(d=a&&a.type,null==d||d===!1?d:d.defaultTerm),0,f):t.call(a,"if_gr",(d=a&&a.type,null==d||d===!1?d:d.defaultTerm),0,f),(d||0===d)&&(g+=d),g+="\n        </span>&nbsp;&rArr;&nbsp;\n\n        ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:w.program(9,k,b),fn:w.program(7,j,b),data:b},d=e?e.call(a,(d=a&&a.target,null==d||d===!1?d:d.definitionStatus),"Primitive",f):t.call(a,"if_eq",(d=a&&a.target,null==d||d===!1?d:d.definitionStatus),"Primitive",f),(d||0===d)&&(g+=d),g+="\n\n        ",e=c.if_gr||a&&a.if_gr,f={hash:{},inverse:w.program(13,m,b),fn:w.program(11,l,b),data:b},d=e?e.call(a,(d=a&&a.target,null==d||d===!1?d:d.defaultTerm),0,f):t.call(a,"if_gr",(d=a&&a.target,null==d||d===!1?d:d.defaultTerm),0,f),(d||0===d)&&(g+=d),g+="\n\n        </span>\n        <br>\n    "}function h(a,b){var d,e,f,g="";return g+="\n                "+u((e=c.substr||a&&a.substr,f={hash:{},data:b},e?e.call(a,(d=a&&a.type,null==d||d===!1?d:d.defaultTerm),0,f):t.call(a,"substr",(d=a&&a.type,null==d||d===!1?d:d.defaultTerm),0,f)))+"\n            "}function i(a){var b,c="";return c+="\n                "+u((b=a&&a.type,b=null==b||b===!1?b:b.defaultTerm,typeof b===v?b.apply(a):b))+"\n            "}function j(a){var b,c="";return c+='\n            <span draggable = "true" ondragstart="drag(event)" class=\'sct-primitive-concept-compact\' data-concept-id=\''+u((b=a&&a.target,b=null==b||b===!1?b:b.conceptId,typeof b===v?b.apply(a):b))+"' data-term='"+u((b=a&&a.target,b=null==b||b===!1?b:b.defaultTerm,typeof b===v?b.apply(a):b))+"'>\n        "}function k(a){var b,c="";return c+='\n            <span draggable = "true" ondragstart="drag(event)" class=\'sct-defined-concept-compact\' data-concept-id=\''+u((b=a&&a.target,b=null==b||b===!1?b:b.conceptId,typeof b===v?b.apply(a):b))+"' data-term='"+u((b=a&&a.target,b=null==b||b===!1?b:b.defaultTerm,typeof b===v?b.apply(a):b))+"'>\n        "}function l(a,b){var d,e,f,g="";return g+="\n            "+u((e=c.substr||a&&a.substr,f={hash:{},data:b},e?e.call(a,(d=a&&a.target,null==d||d===!1?d:d.defaultTerm),0,f):t.call(a,"substr",(d=a&&a.target,null==d||d===!1?d:d.defaultTerm),0,f)))+"\n        "}function m(a){var b,c="";return c+="\n            "+u((b=a&&a.target,b=null==b||b===!1?b:b.defaultTerm,typeof b===v?b.apply(a):b))+"\n        "}function n(){return"\n        <span class='text-muted'>No parents</span>\n    "}function o(a,b){var d,e,f,g="";return g+="\n    ",d=c.each.call(a,a&&a.inferredParents,{hash:{},inverse:w.noop,fn:w.program(18,p,b),data:b}),(d||0===d)&&(g+=d),g+="\n    ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:w.noop,fn:w.program(15,n,b),data:b},d=e?e.call(a,(d=a&&a.inferredParents,null==d||d===!1?d:d.length),0,f):t.call(a,"if_eq",(d=a&&a.inferredParents,null==d||d===!1?d:d.length),0,f),(d||0===d)&&(g+=d),g+="\n"}function p(a,b){var d,e,f,g="";return g+='\n        <span draggable = "true" ondragstart="drag(event)" class=\'text-warning\' data-concept-id=\''+u((d=a&&a.type,d=null==d||d===!1?d:d.conceptId,typeof d===v?d.apply(a):d))+"' data-term='"+u((d=a&&a.type,d=null==d||d===!1?d:d.defaultTerm,typeof d===v?d.apply(a):d))+"'>\n            ",e=c.if_gr||a&&a.if_gr,f={hash:{},inverse:w.program(5,i,b),fn:w.program(3,h,b),data:b},d=e?e.call(a,(d=a&&a.type,null==d||d===!1?d:d.defaultTerm),0,f):t.call(a,"if_gr",(d=a&&a.type,null==d||d===!1?d:d.defaultTerm),0,f),(d||0===d)&&(g+=d),g+="\n        </span>&nbsp;&rArr;&nbsp;\n\n        ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:w.program(9,k,b),fn:w.program(7,j,b),data:b},d=e?e.call(a,(d=a&&a.target,null==d||d===!1?d:d.definitionStatus),"Primitive",f):t.call(a,"if_eq",(d=a&&a.target,null==d||d===!1?d:d.definitionStatus),"Primitive",f),(d||0===d)&&(g+=d),g+="\n\n        ",e=c.if_gr||a&&a.if_gr,f={hash:{},inverse:w.program(13,m,b),fn:w.program(11,l,b),data:b},d=e?e.call(a,(d=a&&a.target,null==d||d===!1?d:d.defaultTerm),0,f):t.call(a,"if_gr",(d=a&&a.target,null==d||d===!1?d:d.defaultTerm),0,f),(d||0===d)&&(g+=d),g+="\n\n        </span><br>\n    "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var q,r,s,t=c.helperMissing,u=this.escapeExpression,v="function",w=this;return r=c.if_eq||b&&b.if_eq,s={hash:{},inverse:w.program(17,o,e),fn:w.program(1,f,e),data:e},q=r?r.call(b,(q=b&&b.options,null==q||q===!1?q:q.selectedView),"stated",s):t.call(b,"if_eq",(q=b&&b.options,null==q||q===!1?q:q.selectedView),"stated",s),q||0===q?q:""}),this.JST["views/conceptDetailsPlugin/tabs/home/roles.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f,h="";return h+="\n        ",d=c.each.call(a,a&&a.statedRoles,{hash:{},inverse:x.noop,fn:x.program(2,g,b),data:b}),(d||0===d)&&(h+=d),h+="\n        ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:x.noop,fn:x.program(11,l,b),data:b},d=e?e.call(a,(d=a&&a.statedRoles,null==d||d===!1?d:d.length),0,f):u.call(a,"if_eq",(d=a&&a.statedRoles,null==d||d===!1?d:d.length),0,f),(d||0===d)&&(h+=d),h+="\n    "}function g(a,b){var d,e,f,g="";return g+="\n            <br>\n            ",e=c.eqLastGroup||a&&a.eqLastGroup,f={hash:{},inverse:x.program(5,i,b),fn:x.program(3,h,b),data:b},d=e?e.call(a,a&&a.groupId,f):u.call(a,"eqLastGroup",a&&a.groupId,f),(d||0===d)&&(g+=d),g+='\n            &nbsp;<span draggable = "true" ondragstart="drag(event)" class=\'sct-attribute-compact\' data-concept-id=\''+v((d=a&&a.type,d=null==d||d===!1?d:d.conceptId,typeof d===w?d.apply(a):d))+"' data-term='"+v((d=a&&a.type,d=null==d||d===!1?d:d.defaultTerm,typeof d===w?d.apply(a):d))+"'>\n                "+v((e=c.removeSemtag||a&&a.removeSemtag,f={hash:{},data:b},e?e.call(a,(d=a&&a.type,null==d||d===!1?d:d.defaultTerm),f):u.call(a,"removeSemtag",(d=a&&a.type,null==d||d===!1?d:d.defaultTerm),f)))+"</span>&nbsp;&rarr;&nbsp;\n\n            ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:x.program(9,k,b),fn:x.program(7,j,b),data:b},d=e?e.call(a,(d=a&&a.target,null==d||d===!1?d:d.definitionStatus),"Primitive",f):u.call(a,"if_eq",(d=a&&a.target,null==d||d===!1?d:d.definitionStatus),"Primitive",f),(d||0===d)&&(g+=d),g+="\n            "+v((e=c.removeSemtag||a&&a.removeSemtag,f={hash:{},data:b},e?e.call(a,(d=a&&a.target,null==d||d===!1?d:d.defaultTerm),f):u.call(a,"removeSemtag",(d=a&&a.target,null==d||d===!1?d:d.defaultTerm),f)))+"\n        </span><br>\n        "}function h(a,b){var d,e,f="";return f+="\n                "+v((d=c.setLastGroup||a&&a.setLastGroup,e={hash:{},data:b},d?d.call(a,a&&a.groupId,e):u.call(a,"setLastGroup",a&&a.groupId,e)))+"\n                "+v((d=c.lastColor||a&&a.lastColor,e={hash:{},data:b},d?d.call(a,a&&a.getRandomColor,e):u.call(a,"lastColor",a&&a.getRandomColor,e)))+"\n                &nbsp;&nbsp;&nbsp;<span style='background-color: "+v((d=c.lastColor||a&&a.lastColor,e={hash:{},data:b},d?d.call(a,"get",e):u.call(a,"lastColor","get",e)))+"'>&nbsp;&nbsp;</span>\n            "}function i(a,b){var d,e,f="";return f+="\n                &nbsp;&nbsp;&nbsp;<span style='background-color: "+v((d=c.lastColor||a&&a.lastColor,e={hash:{},data:b},d?d.call(a,"get",e):u.call(a,"lastColor","get",e)))+"'>&nbsp;&nbsp;</span>\n            "}function j(a){var b,c="";return c+='\n                <span draggable = "true" ondragstart="drag(event)" class=\'sct-primitive-concept-compact\' data-concept-id=\''+v((b=a&&a.target,b=null==b||b===!1?b:b.conceptId,typeof b===w?b.apply(a):b))+"' data-term='"+v((b=a&&a.target,b=null==b||b===!1?b:b.defaultTerm,typeof b===w?b.apply(a):b))+"'>\n            "}function k(a){var b,c="";return c+='\n                <span draggable = "true" ondragstart="drag(event)" class=\'sct-defined-concept-compact\' data-concept-id=\''+v((b=a&&a.target,b=null==b||b===!1?b:b.conceptId,typeof b===w?b.apply(a):b))+"' data-term='"+v((b=a&&a.target,b=null==b||b===!1?b:b.defaultTerm,typeof b===w?b.apply(a):b))+"'>\n            "}function l(){return"\n            <span class='i18n text-muted' data-i18n-id='i18n_no_relationships'>No relationships</span>\n        "}function m(a,b){var d,e,f,g="";return g+="\n        ",d=c.each.call(a,a&&a.inferredRoles,{hash:{},inverse:x.noop,fn:x.program(14,n,b),data:b}),(d||0===d)&&(g+=d),g+="\n        ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:x.noop,fn:x.program(11,l,b),data:b},d=e?e.call(a,(d=a&&a.inferredRoles,null==d||d===!1?d:d.length),0,f):u.call(a,"if_eq",(d=a&&a.inferredRoles,null==d||d===!1?d:d.length),0,f),(d||0===d)&&(g+=d),g+="\n    "}function n(a,b){var d,e,f,g="";return g+="\n            <br>\n            ",e=c.eqLastGroup||a&&a.eqLastGroup,f={hash:{},inverse:x.program(5,i,b),fn:x.program(3,h,b),data:b},d=e?e.call(a,a&&a.groupId,f):u.call(a,"eqLastGroup",a&&a.groupId,f),(d||0===d)&&(g+=d),g+="\n            &nbsp;<span draggable = \"true\" class='sct-attribute-compact' data-concept-id='"+v((d=a&&a.type,d=null==d||d===!1?d:d.conceptId,typeof d===w?d.apply(a):d))+"' data-term='"+v((d=a&&a.type,d=null==d||d===!1?d:d.defaultTerm,typeof d===w?d.apply(a):d))+"'>\n                "+v((e=c.removeSemtag||a&&a.removeSemtag,f={hash:{},data:b},e?e.call(a,(d=a&&a.type,null==d||d===!1?d:d.defaultTerm),f):u.call(a,"removeSemtag",(d=a&&a.type,null==d||d===!1?d:d.defaultTerm),f)))+'</span>&nbsp;&rarr;&nbsp;\n            <span draggable = "true" ondragstart="drag(event)" class=\'\n                ',e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:x.program(17,p,b),fn:x.program(15,o,b),data:b},d=e?e.call(a,(d=a&&a.target,null==d||d===!1?d:d.definitionStatus),"Primitive",f):u.call(a,"if_eq",(d=a&&a.target,null==d||d===!1?d:d.definitionStatus),"Primitive",f),(d||0===d)&&(g+=d),g+="\n                ' data-concept-id='"+v((d=a&&a.target,d=null==d||d===!1?d:d.conceptId,typeof d===w?d.apply(a):d))+"' data-term='"+v((d=a&&a.target,d=null==d||d===!1?d:d.defaultTerm,typeof d===w?d.apply(a):d))+"'>\n                "+v((e=c.removeSemtag||a&&a.removeSemtag,f={hash:{},data:b},e?e.call(a,(d=a&&a.target,null==d||d===!1?d:d.defaultTerm),f):u.call(a,"removeSemtag",(d=a&&a.target,null==d||d===!1?d:d.defaultTerm),f)))+"</span><br>\n        "
}function o(){return"\n                     sct-primitive-concept-compact\n                "}function p(){return"\n                     sct-defined-concept-compact\n                "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var q,r,s,t="",u=c.helperMissing,v=this.escapeExpression,w="function",x=this;return t+="<div style='line-height: 100%;'>\n    ",r=c.if_eq||b&&b.if_eq,s={hash:{},inverse:x.program(13,m,e),fn:x.program(1,f,e),data:e},q=r?r.call(b,(q=b&&b.options,null==q||q===!1?q:q.selectedView),"stated",s):u.call(b,"if_eq",(q=b&&b.options,null==q||q===!1?q:q.selectedView),"stated",s),(q||0===q)&&(t+=q),t+="\n</div>"}),this.JST["views/conceptDetailsPlugin/tabs/refset.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f,i="";return i+="\n        <table class='table table-bordered'>\n        <thead><tr>\n        <th><span class='i18n' data-i18n-id=\n            ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:I.program(4,h,b),fn:I.program(2,g,b),data:b},d=e?e.call(a,(d=a&&a.firstMatch,d=null==d||d===!1?d:d.memberships,d=null==d||d===!1?d:d[0],null==d||d===!1?d:d.type),"SIMPLE_REFSET",f):J.call(a,"if_eq",(d=a&&a.firstMatch,d=null==d||d===!1?d:d.memberships,d=null==d||d===!1?d:d[0],null==d||d===!1?d:d.type),"SIMPLE_REFSET",f),(d||0===d)&&(i+=d),i+="\n        </tr></thead><tbody>\n        ",d=c.each.call(a,(d=a&&a.firstMatch,null==d||d===!1?d:d.memberships),{hash:{},inverse:I.noop,fn:I.program(12,m,b),data:b}),(d||0===d)&&(i+=d),i+="\n        ",d=c.each.call(a,(d=a&&a.firstMatch,null==d||d===!1?d:d.memberships),{hash:{},inverse:I.noop,fn:I.program(22,s,b),data:b}),(d||0===d)&&(i+=d),i+="\n        ",d=c.each.call(a,(d=a&&a.firstMatch,null==d||d===!1?d:d.memberships),{hash:{},inverse:I.noop,fn:I.program(28,w,b),data:b}),(d||0===d)&&(i+=d),i+="\n        ",d=c.each.call(a,(d=a&&a.firstMatch,null==d||d===!1?d:d.memberships),{hash:{},inverse:I.noop,fn:I.program(38,C,b),data:b}),(d||0===d)&&(i+=d),i+="\n        ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:I.program(43,F,b),fn:I.program(41,E,b),data:b},d=e?e.call(a,(d=a&&a.firstMatch,d=null==d||d===!1?d:d.memberships,null==d||d===!1?d:d.length),0,f):J.call(a,"if_eq",(d=a&&a.firstMatch,d=null==d||d===!1?d:d.memberships,null==d||d===!1?d:d.length),0,f),(d||0===d)&&(i+=d),i+="\n    "}function g(){return"\n                'i18n_simple_refset_memberships'>Simple Refsets Memberships</span></th>\n            "}function h(a,b){var d,e,f,g="";return g+="\n                ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:I.program(7,j,b),fn:I.program(5,i,b),data:b},d=e?e.call(a,(d=a&&a.firstMatch,d=null==d||d===!1?d:d.memberships,d=null==d||d===!1?d:d[0],null==d||d===!1?d:d.type),"SIMPLEMAP",f):J.call(a,"if_eq",(d=a&&a.firstMatch,d=null==d||d===!1?d:d.memberships,d=null==d||d===!1?d:d[0],null==d||d===!1?d:d.type),"SIMPLEMAP",f),(d||0===d)&&(g+=d),g+="\n            "}function i(){return"\n                    'i18n_simple_map_refset_name'>Simple Map Refset name</span></th>\n                "}function j(a,b){var d,e,f,g="";return g+="\n                    ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:I.program(10,l,b),fn:I.program(8,k,b),data:b},d=e?e.call(a,(d=a&&a.firstMatch,d=null==d||d===!1?d:d.memberships,d=null==d||d===!1?d:d[0],null==d||d===!1?d:d.type),"ATTRIBUTE_VALUE",f):J.call(a,"if_eq",(d=a&&a.firstMatch,d=null==d||d===!1?d:d.memberships,d=null==d||d===!1?d:d[0],null==d||d===!1?d:d.type),"ATTRIBUTE_VALUE",f),(d||0===d)&&(g+=d),g+="\n                "}function k(){return"\n                        'i18n_attribute_value_refset_name'>Attribute Value Refset name</span></th>\n                    "}function l(){return"\n                        'i18n_association_refset_name'>Association Refset name</span></th>\n                    "}function m(a,b){var d,e,f,g="";return g+="\n            ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:I.noop,fn:I.program(13,n,b),data:b},d=e?e.call(a,a&&a.type,"SIMPLE_REFSET",f):J.call(a,"if_eq",a&&a.type,"SIMPLE_REFSET",f),(d||0===d)&&(g+=d),g+="\n        "}function n(a,b){var d,e,f,g="";return g+="\n            <tr class='",d=c["if"].call(a,a&&a.active,{hash:{},inverse:I.program(16,p,b),fn:I.program(14,o,b),data:b}),(d||0===d)&&(g+=d),g+="'>\n                <td>\n                    ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:I.program(20,r,b),fn:I.program(18,q,b),data:b},d=e?e.call(a,(d=a&&a.refset,null==d||d===!1?d:d.definitionStatus),"Primitive",f):J.call(a,"if_eq",(d=a&&a.refset,null==d||d===!1?d:d.definitionStatus),"Primitive",f),(d||0===d)&&(g+=d),g+="\n                    "+L((d=a&&a.refset,d=null==d||d===!1?d:d.defaultTerm,typeof d===K?d.apply(a):d))+'\n                </td>\n                <button type="button" class="btn btn-link unobtrusive-icon more-fields-button pull-right" data-container="body" data-toggle="popover" data-placement="left" data-content="<table border=\'1\'>\n                            <tr><th style=\'padding: 3px;\'>RefsetId</th><th style=\'padding: 3px;\'>Effective Time</th><th style=\'padding: 3px;\'>ModuleId</th></tr>\n                            <tr><td style=\'padding: 3px;\'>'+L((d=a&&a.refset,d=null==d||d===!1?d:d.conceptId,typeof d===K?d.apply(a):d))+"</td><td style='padding: 3px;'>",(e=c.effectiveTime)?d=e.call(a,{hash:{},data:b}):(e=a&&a.effectiveTime,d=typeof e===K?e.call(a,{hash:{},data:b}):e),g+=L(d)+"</td><td style='padding: 3px;'>",(e=c.module)?d=e.call(a,{hash:{},data:b}):(e=a&&a.module,d=typeof e===K?e.call(a,{hash:{},data:b}):e),g+=L(d)+'</td></tr>\n                    </table>"data-html="true"><i class="glyphicon glyphicon-info-sign"></i>\n                </button>\n            </tr>\n            '}function o(){var a="";return a}function p(){return"danger"}function q(a){var b,c="";return c+='\n                        <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;"><span draggable = "true" ondragstart = "drag(event)" class="badge alert-warning"  data-concept-id="'+L((b=a&&a.refset,b=null==b||b===!1?b:b.conceptId,typeof b===K?b.apply(a):b))+'" data-term="'+L((b=a&&a.refset,b=null==b||b===!1?b:b.defaultTerm,typeof b===K?b.apply(a):b))+'" data-def-status="'+L((b=a&&a.refset,b=null==b||b===!1?b:b.definitionStatus,typeof b===K?b.apply(a):b))+'">&nbsp;</span></a>&nbsp;&nbsp;\n                    '}function r(a){var b,c="";return c+='\n                        <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;"><span draggable = "true" ondragstart = "drag(event)" class="badge alert-warning"  data-concept-id="'+L((b=a&&a.refset,b=null==b||b===!1?b:b.conceptId,typeof b===K?b.apply(a):b))+'" data-term="'+L((b=a&&a.refset,b=null==b||b===!1?b:b.defaultTerm,typeof b===K?b.apply(a):b))+'" data-def-status="'+L((b=a&&a.refset,b=null==b||b===!1?b:b.definitionStatus,typeof b===K?b.apply(a):b))+'">&equiv;</span></a>&nbsp;&nbsp;\n                    '}function s(a,b){var d,e,f,g="";return g+="\n            ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:I.noop,fn:I.program(23,t,b),data:b},d=e?e.call(a,a&&a.type,"SIMPLEMAP",f):J.call(a,"if_eq",a&&a.type,"SIMPLEMAP",f),(d||0===d)&&(g+=d),g+="\n        "}function t(a,b){var d,e,f,g="";return g+="\n                <tr class='",d=c["if"].call(a,a&&a.active,{hash:{},inverse:I.program(16,p,b),fn:I.program(14,o,b),data:b}),(d||0===d)&&(g+=d),g+="'><td>\n                ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:I.program(26,v,b),fn:I.program(24,u,b),data:b},d=e?e.call(a,(d=a&&a.refset,null==d||d===!1?d:d.definitionStatus),"Primitive",f):J.call(a,"if_eq",(d=a&&a.refset,null==d||d===!1?d:d.definitionStatus),"Primitive",f),(d||0===d)&&(g+=d),g+="\n                "+L((d=a&&a.refset,d=null==d||d===!1?d:d.defaultTerm,typeof d===K?d.apply(a):d))+"</td>\n                <td>",(e=c.otherValue)?d=e.call(a,{hash:{},data:b}):(e=a&&a.otherValue,d=typeof e===K?e.call(a,{hash:{},data:b}):e),g+=L(d)+'\n                    <button type="button" class="btn btn-link unobtrusive-icon more-fields-button pull-right" data-container="body" data-toggle="popover" data-placement="left" data-content="\n                    <table border=\'1\'><tr><th style=\'padding: 3px;\'>RefsetId</th><th style=\'padding: 3px;\'>Effective Time</th><th style=\'padding: 3px;\'>ModuleId</th></tr>\n                        <tr><td style=\'padding: 3px;\'>'+L((d=a&&a.refset,d=null==d||d===!1?d:d.conceptId,typeof d===K?d.apply(a):d))+"</td><td style='padding: 3px;'>",(e=c.effectiveTime)?d=e.call(a,{hash:{},data:b}):(e=a&&a.effectiveTime,d=typeof e===K?e.call(a,{hash:{},data:b}):e),g+=L(d)+"</td><td style='padding: 3px;'>",(e=c.module)?d=e.call(a,{hash:{},data:b}):(e=a&&a.module,d=typeof e===K?e.call(a,{hash:{},data:b}):e),g+=L(d)+'</td></tr>\n                    </table>\n                    " data-html="true"><i class="glyphicon glyphicon-info-sign"></i>\n                    </button>\n                    </td></tr>\n            '}function u(a){var b,c="";return c+='\n                    <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;"><span draggable = "true" ondragstart = "drag(event)" class="badge alert-warning"  data-concept-id="'+L((b=a&&a.refset,b=null==b||b===!1?b:b.conceptId,typeof b===K?b.apply(a):b))+'" data-term="'+L((b=a&&a.refset,b=null==b||b===!1?b:b.defaultTerm,typeof b===K?b.apply(a):b))+'" data-def-status="'+L((b=a&&a.refset,b=null==b||b===!1?b:b.definitionStatus,typeof b===K?b.apply(a):b))+'">&nbsp;</span></a>&nbsp;&nbsp;\n                '}function v(a){var b,c="";return c+='\n                    <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;"><span draggable = "true" ondragstart = "drag(event)" class="badge alert-warning"  data-concept-id="'+L((b=a&&a.refset,b=null==b||b===!1?b:b.conceptId,typeof b===K?b.apply(a):b))+'" data-term="'+L((b=a&&a.refset,b=null==b||b===!1?b:b.defaultTerm,typeof b===K?b.apply(a):b))+'" data-def-status="'+L((b=a&&a.refset,b=null==b||b===!1?b:b.definitionStatus,typeof b===K?b.apply(a):b))+'">&equiv;</span></a>&nbsp;&nbsp;\n                '}function w(a,b){var d,e,f,g="";return g+="\n            ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:I.noop,fn:I.program(29,x,b),data:b},d=e?e.call(a,a&&a.type,"ATTRIBUTE_VALUE",f):J.call(a,"if_eq",a&&a.type,"ATTRIBUTE_VALUE",f),(d||0===d)&&(g+=d),g+="\n        "}function x(a,b){var d,e,f,g="";return g+="\n                <tr class='",d=c["if"].call(a,a&&a.active,{hash:{},inverse:I.program(16,p,b),fn:I.program(14,o,b),data:b}),(d||0===d)&&(g+=d),g+="'>\n                    <td>\n                        ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:I.program(32,z,b),fn:I.program(30,y,b),data:b},d=e?e.call(a,(d=a&&a.refset,null==d||d===!1?d:d.definitionStatus),"Primitive",f):J.call(a,"if_eq",(d=a&&a.refset,null==d||d===!1?d:d.definitionStatus),"Primitive",f),(d||0===d)&&(g+=d),g+="\n                        "+L((d=a&&a.refset,d=null==d||d===!1?d:d.defaultTerm,typeof d===K?d.apply(a):d))+"\n                    </td>\n                    <td>\n                        ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:I.program(36,B,b),fn:I.program(34,A,b),data:b},d=e?e.call(a,(d=a&&a.cidValue,null==d||d===!1?d:d.definitionStatus),"Primitive",f):J.call(a,"if_eq",(d=a&&a.cidValue,null==d||d===!1?d:d.definitionStatus),"Primitive",f),(d||0===d)&&(g+=d),g+="\n                        "+L((d=a&&a.cidValue,d=null==d||d===!1?d:d.defaultTerm,typeof d===K?d.apply(a):d))+'</td>\n                        <button type="button" class="btn btn-link unobtrusive-icon more-fields-button pull-right" data-container="body" data-toggle="popover" data-placement="left" data-content="\n                        <table border=\'1\'><tr><th style=\'padding: 3px;\'>RefsetId</th><th style=\'padding: 3px;\'>Effective Time</th><th style=\'padding: 3px;\'>ModuleId</th></tr>\n                            <tr><td style=\'padding: 3px;\'>'+L((d=a&&a.refset,d=null==d||d===!1?d:d.conceptId,typeof d===K?d.apply(a):d))+"</td><td style='padding: 3px;'>",(e=c.effectiveTime)?d=e.call(a,{hash:{},data:b}):(e=a&&a.effectiveTime,d=typeof e===K?e.call(a,{hash:{},data:b}):e),g+=L(d)+"</td><td style='padding: 3px;'>",(e=c.module)?d=e.call(a,{hash:{},data:b}):(e=a&&a.module,d=typeof e===K?e.call(a,{hash:{},data:b}):e),g+=L(d)+'</td></tr>\n                        </table>\n                        " data-html="true"><i class="glyphicon glyphicon-info-sign"></i>\n                        </button>\n                    </td>\n                </tr>\n            '}function y(a){var b,c="";return c+='\n                            <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;"><span draggable = "true" ondragstart = "drag(event)" class="badge alert-warning"  data-concept-id="'+L((b=a&&a.refset,b=null==b||b===!1?b:b.conceptId,typeof b===K?b.apply(a):b))+'" data-term="'+L((b=a&&a.refset,b=null==b||b===!1?b:b.defaultTerm,typeof b===K?b.apply(a):b))+'" data-def-status="'+L((b=a&&a.refset,b=null==b||b===!1?b:b.definitionStatus,typeof b===K?b.apply(a):b))+'">&nbsp;</span></a>&nbsp;&nbsp;\n                        '}function z(a){var b,c="";return c+='\n                            <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;"><span draggable = "true" ondragstart = "drag(event)" class="badge alert-warning"  data-concept-id="'+L((b=a&&a.refset,b=null==b||b===!1?b:b.conceptId,typeof b===K?b.apply(a):b))+'" data-term="'+L((b=a&&a.refset,b=null==b||b===!1?b:b.defaultTerm,typeof b===K?b.apply(a):b))+'" data-def-status="'+L((b=a&&a.refset,b=null==b||b===!1?b:b.definitionStatus,typeof b===K?b.apply(a):b))+'">&equiv;</span></a>&nbsp;&nbsp;\n                        '}function A(a){var b,c="";return c+='\n                            <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;"><span draggable = "true" ondragstart = "drag(event)" class="badge alert-warning"  data-concept-id="'+L((b=a&&a.cidValue,b=null==b||b===!1?b:b.conceptId,typeof b===K?b.apply(a):b))+'" data-term="'+L((b=a&&a.cidValue,b=null==b||b===!1?b:b.defaultTerm,typeof b===K?b.apply(a):b))+'" data-def-status="'+L((b=a&&a.cidValue,b=null==b||b===!1?b:b.definitionStatus,typeof b===K?b.apply(a):b))+'">&nbsp;</span></a>&nbsp;&nbsp;\n                        '}function B(a){var b,c="";return c+='\n                            <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;"><span draggable = "true" ondragstart = "drag(event)" class="badge alert-warning"  data-concept-id="'+L((b=a&&a.cidValue,b=null==b||b===!1?b:b.conceptId,typeof b===K?b.apply(a):b))+'" data-term="'+L((b=a&&a.cidValue,b=null==b||b===!1?b:b.defaultTerm,typeof b===K?b.apply(a):b))+'" data-def-status="'+L((b=a&&a.cidValue,b=null==b||b===!1?b:b.definitionStatus,typeof b===K?b.apply(a):b))+'">&equiv;</span></a>&nbsp;&nbsp;\n                        '}function C(a,b){var d,e,f,g="";return g+="\n            ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:I.noop,fn:I.program(39,D,b),data:b},d=e?e.call(a,a&&a.type,"ASSOCIATION",f):J.call(a,"if_eq",a&&a.type,"ASSOCIATION",f),(d||0===d)&&(g+=d),g+="\n        "}function D(a,b){var d,e,f,g="";return g+="\n                <tr class='",d=c["if"].call(a,a&&a.active,{hash:{},inverse:I.program(16,p,b),fn:I.program(14,o,b),data:b}),(d||0===d)&&(g+=d),g+="'>\n                    <td>\n                        ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:I.program(32,z,b),fn:I.program(30,y,b),data:b},d=e?e.call(a,(d=a&&a.refset,null==d||d===!1?d:d.definitionStatus),"Primitive",f):J.call(a,"if_eq",(d=a&&a.refset,null==d||d===!1?d:d.definitionStatus),"Primitive",f),(d||0===d)&&(g+=d),g+="\n                        "+L((d=a&&a.refset,d=null==d||d===!1?d:d.defaultTerm,typeof d===K?d.apply(a):d))+"\n                    </td>\n                    <td>\n                        ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:I.program(36,B,b),fn:I.program(34,A,b),data:b},d=e?e.call(a,(d=a&&a.cidValue,null==d||d===!1?d:d.definitionStatus),"Primitive",f):J.call(a,"if_eq",(d=a&&a.cidValue,null==d||d===!1?d:d.definitionStatus),"Primitive",f),(d||0===d)&&(g+=d),g+="\n                        "+L((d=a&&a.cidValue,d=null==d||d===!1?d:d.defaultTerm,typeof d===K?d.apply(a):d))+'</td>\n                            <button type="button" class="btn btn-link unobtrusive-icon more-fields-button pull-right" data-container="body" data-toggle="popover" data-placement="left" data-content="\n                            <table border=\'1\'><tr><th style=\'padding: 3px;\'>RefsetId</th><th style=\'padding: 3px;\'>Effective Time</th><th style=\'padding: 3px;\'>ModuleId</th></tr>\n                                <tr>\n                                    <td style=\'padding: 3px;\'>'+L((d=a&&a.refset,d=null==d||d===!1?d:d.conceptId,typeof d===K?d.apply(a):d))+"</td><td style='padding: 3px;'>",(e=c.effectiveTime)?d=e.call(a,{hash:{},data:b}):(e=a&&a.effectiveTime,d=typeof e===K?e.call(a,{hash:{},data:b}):e),g+=L(d)+"</td><td style='padding: 3px;'>",(e=c.module)?d=e.call(a,{hash:{},data:b}):(e=a&&a.module,d=typeof e===K?e.call(a,{hash:{},data:b}):e),g+=L(d)+'\n                                    </td>\n                                </tr>\n                            </table>\n                            " data-html="true"><i class="glyphicon glyphicon-info-sign"></i>\n                            </button>\n                    </td>\n                </tr>\n            '}function E(){return"\n            <tr><td><span class='i18n text-muted' data-i18n-id='i18n_no_memberships'>No memberships</span></td></tr>\n            </tbody></table>\n        "}function F(){return"\n            </tbody></table>\n        "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var G,H="",I=this,J=c.helperMissing,K="function",L=this.escapeExpression;return H+="    ",G=c["if"].call(b,(G=b&&b.firstMatch,null==G||G===!1?G:G.memberships),{hash:{},inverse:I.noop,fn:I.program(1,f,e),data:e}),(G||0===G)&&(H+=G),H+="\n"}),this.JST["views/searchPlugin/body/0.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b,d){var e,f,h,i="";return i+="\n    ",f=c.if_eq||a&&a.if_eq,h={hash:{},inverse:v.programWithDepth(8,k,b,d),fn:v.programWithDepth(2,g,b,d),data:b},e=f?f.call(a,a&&a.active,!1,h):w.call(a,"if_eq",a&&a.active,!1,h),(e||0===e)&&(i+=e),i+="\n"}function g(a,b,d){var e,f,g,j="";return j+="\n        ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:v.programWithDepth(5,i,b,d),fn:v.programWithDepth(3,h,b,d),data:b},e=f?f.call(a,(e=a&&a.options,null==e||e===!1?e:e.statusSearchFilter),"inactiveOnly",g):w.call(a,"if_eq",(e=a&&a.options,null==e||e===!1?e:e.statusSearchFilter),"inactiveOnly",g),(e||0===e)&&(j+=e),j+="\n    "}function h(a,b,d){var e,f,g="";return g+="\n            <tr class='resultRow selectable-row danger'>\n                <td class='col-md-7'>\n                    <div draggable=\"true\" ondragstart=\"drag(event)\" class='result-item' data-concept-id='",(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===t?f.call(a,{hash:{},data:b}):f),g+=u(e)+"' data-term='",(f=c.term)?e=f.call(a,{hash:{},data:b}):(f=a&&a.term,e=typeof f===t?f.call(a,{hash:{},data:b}):f),g+=u(e)+"'>\n                        <a href='javascript:void(0);' style='color: inherit;text-decoration: inherit;'  data-concept-id='",(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===t?f.call(a,{hash:{},data:b}):f),g+=u(e)+"' data-term='",(f=c.term)?e=f.call(a,{hash:{},data:b}):(f=a&&a.term,e=typeof f===t?f.call(a,{hash:{},data:b}):f),g+=u(e)+"'>",(f=c.term)?e=f.call(a,{hash:{},data:b}):(f=a&&a.term,e=typeof f===t?f.call(a,{hash:{},data:b}):f),g+=u(e)+"</a>\n                    </div>\n                </td>\n                <td class='text-muted small-text col-md-5 result-item'  data-concept-id='",(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===t?f.call(a,{hash:{},data:b}):f),g+=u(e)+"' data-term='",(f=c.term)?e=f.call(a,{hash:{},data:b}):(f=a&&a.term,e=typeof f===t?f.call(a,{hash:{},data:b}):f),g+=u(e)+"'>\n                    "+u((e=d&&d.result,e=null==e||e===!1?e:e.defaultTerm,typeof e===t?e.apply(a):e))+"\n                </td>\n            </tr>\n        "}function i(a,b,d){var e,f,g,h="";return h+="\n            ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:v.noop,fn:v.programWithDepth(6,j,b,d),data:b},e=f?f.call(a,(e=a&&a.options,null==e||e===!1?e:e.statusSearchFilter),"activeAndInactive",g):w.call(a,"if_eq",(e=a&&a.options,null==e||e===!1?e:e.statusSearchFilter),"activeAndInactive",g),(e||0===e)&&(h+=e),h+="\n        "}function j(a,b,d){var e,f,g="";return g+="\n                <tr class='resultRow selectable-row danger'>\n                    <td class='col-md-7'>\n                        <div draggable=\"true\" ondragstart=\"drag(event)\" class='result-item' data-concept-id='",(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===t?f.call(a,{hash:{},data:b}):f),g+=u(e)+"' data-term='",(f=c.term)?e=f.call(a,{hash:{},data:b}):(f=a&&a.term,e=typeof f===t?f.call(a,{hash:{},data:b}):f),g+=u(e)+"'>\n                            <a href='javascript:void(0);' style='color: inherit;text-decoration: inherit;'  data-concept-id='",(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===t?f.call(a,{hash:{},data:b}):f),g+=u(e)+"' data-term='",(f=c.term)?e=f.call(a,{hash:{},data:b}):(f=a&&a.term,e=typeof f===t?f.call(a,{hash:{},data:b}):f),g+=u(e)+"'>",(f=c.term)?e=f.call(a,{hash:{},data:b}):(f=a&&a.term,e=typeof f===t?f.call(a,{hash:{},data:b}):f),g+=u(e)+"</a>\n                        </div>\n                    </td>\n                    <td class='text-muted small-text col-md-5 result-item'  data-concept-id='",(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===t?f.call(a,{hash:{},data:b}):f),g+=u(e)+"' data-term='",(f=c.term)?e=f.call(a,{hash:{},data:b}):(f=a&&a.term,e=typeof f===t?f.call(a,{hash:{},data:b}):f),g+=u(e)+"'>\n                        "+u((e=d&&d.result,e=null==e||e===!1?e:e.defaultTerm,typeof e===t?e.apply(a):e))+"\n                    </td>\n                </tr>\n            "}function k(a,b,d){var e,f,g,h="";return h+="\n        ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:v.programWithDepth(13,o,b,d),fn:v.programWithDepth(9,l,b,d),data:b},e=f?f.call(a,a&&a.conceptActive,!1,g):w.call(a,"if_eq",a&&a.conceptActive,!1,g),(e||0===e)&&(h+=e),h+="\n    "}function l(a,b,d){var e,f,g,h="";return h+="\n            ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:v.programWithDepth(10,m,b,d),fn:v.programWithDepth(6,j,b,d),data:b},e=f?f.call(a,(e=a&&a.options,null==e||e===!1?e:e.statusSearchFilter),"inactiveOnly",g):w.call(a,"if_eq",(e=a&&a.options,null==e||e===!1?e:e.statusSearchFilter),"inactiveOnly",g),(e||0===e)&&(h+=e),h+="\n        "}function m(a,b,d){var e,f,g,h="";return h+="\n                ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:v.noop,fn:v.programWithDepth(11,n,b,d),data:b},e=f?f.call(a,(e=a&&a.options,null==e||e===!1?e:e.statusSearchFilter),"activeAndInactive",g):w.call(a,"if_eq",(e=a&&a.options,null==e||e===!1?e:e.statusSearchFilter),"activeAndInactive",g),(e||0===e)&&(h+=e),h+="\n            "}function n(a,b,d){var e,f,g="";return g+="\n                    <tr class='resultRow selectable-row danger'>\n                        <td class='col-md-7'>\n                            <div draggable=\"true\" ondragstart=\"drag(event)\" class='result-item' data-concept-id='",(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===t?f.call(a,{hash:{},data:b}):f),g+=u(e)+"' data-term='",(f=c.term)?e=f.call(a,{hash:{},data:b}):(f=a&&a.term,e=typeof f===t?f.call(a,{hash:{},data:b}):f),g+=u(e)+"'>\n                                <a href='javascript:void(0);' style='color: inherit;text-decoration: inherit;'  data-concept-id='",(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===t?f.call(a,{hash:{},data:b}):f),g+=u(e)+"' data-term='",(f=c.term)?e=f.call(a,{hash:{},data:b}):(f=a&&a.term,e=typeof f===t?f.call(a,{hash:{},data:b}):f),g+=u(e)+"'>",(f=c.term)?e=f.call(a,{hash:{},data:b}):(f=a&&a.term,e=typeof f===t?f.call(a,{hash:{},data:b}):f),g+=u(e)+"</a>\n                            </div>\n                        </td>\n                        <td class='text-muted small-text col-md-5 result-item'  data-concept-id='",(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===t?f.call(a,{hash:{},data:b}):f),g+=u(e)+"' data-term='",(f=c.term)?e=f.call(a,{hash:{},data:b}):(f=a&&a.term,e=typeof f===t?f.call(a,{hash:{},data:b}):f),g+=u(e)+"'>\n                            "+u((e=d&&d.result,e=null==e||e===!1?e:e.defaultTerm,typeof e===t?e.apply(a):e))+"\n                        </td>\n                    </tr>\n                "}function o(a,b,d){var e,f,g,h="";return h+="\n            ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:v.programWithDepth(16,q,b,d),fn:v.programWithDepth(14,p,b,d),data:b},e=f?f.call(a,(e=a&&a.options,null==e||e===!1?e:e.statusSearchFilter),"inactiveOnly",g):w.call(a,"if_eq",(e=a&&a.options,null==e||e===!1?e:e.statusSearchFilter),"inactiveOnly",g),(e||0===e)&&(h+=e),h+="\n        "}function p(a,b,d){var e,f,g="";return g+="\n                <tr class='resultRow selectable-row'>\n                    <td class='col-md-7'>\n                        <div draggable=\"true\" ondragstart=\"drag(event)\" class='result-item' data-concept-id='",(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===t?f.call(a,{hash:{},data:b}):f),g+=u(e)+"' data-term='",(f=c.term)?e=f.call(a,{hash:{},data:b}):(f=a&&a.term,e=typeof f===t?f.call(a,{hash:{},data:b}):f),g+=u(e)+"'>\n                            <a href='javascript:void(0);' style='color: inherit;text-decoration: inherit;'  data-concept-id='",(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===t?f.call(a,{hash:{},data:b}):f),g+=u(e)+"' data-term='",(f=c.term)?e=f.call(a,{hash:{},data:b}):(f=a&&a.term,e=typeof f===t?f.call(a,{hash:{},data:b}):f),g+=u(e)+"'>",(f=c.term)?e=f.call(a,{hash:{},data:b}):(f=a&&a.term,e=typeof f===t?f.call(a,{hash:{},data:b}):f),g+=u(e)+"</a>\n                        </div>\n                    </td>\n                    <td class='text-muted small-text col-md-5 result-item'  data-concept-id='",(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===t?f.call(a,{hash:{},data:b}):f),g+=u(e)+"' data-term='",(f=c.term)?e=f.call(a,{hash:{},data:b}):(f=a&&a.term,e=typeof f===t?f.call(a,{hash:{},data:b}):f),g+=u(e)+"'>\n                        "+u((e=d&&d.result,e=null==e||e===!1?e:e.defaultTerm,typeof e===t?e.apply(a):e))+"\n                    </td>\n                </tr>\n            "}function q(a,b,d){var e,f,g,h="";return h+="\n                ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:v.noop,fn:v.programWithDepth(17,r,b,d),data:b},e=f?f.call(a,(e=a&&a.options,null==e||e===!1?e:e.statusSearchFilter),"activeAndInactive",g):w.call(a,"if_eq",(e=a&&a.options,null==e||e===!1?e:e.statusSearchFilter),"activeAndInactive",g),(e||0===e)&&(h+=e),h+="\n            "}function r(a,b,d){var e,f,g="";return g+="\n                    <tr class='resultRow selectable-row'>\n                        <td class='col-md-7'>\n                            <div draggable=\"true\" ondragstart=\"drag(event)\" class='result-item' data-concept-id='",(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===t?f.call(a,{hash:{},data:b}):f),g+=u(e)+"' data-term='",(f=c.term)?e=f.call(a,{hash:{},data:b}):(f=a&&a.term,e=typeof f===t?f.call(a,{hash:{},data:b}):f),g+=u(e)+"'>\n                                <a href='javascript:void(0);' style='color: inherit;text-decoration: inherit;'  data-concept-id='",(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===t?f.call(a,{hash:{},data:b}):f),g+=u(e)+"' data-term='",(f=c.term)?e=f.call(a,{hash:{},data:b}):(f=a&&a.term,e=typeof f===t?f.call(a,{hash:{},data:b}):f),g+=u(e)+"'>",(f=c.term)?e=f.call(a,{hash:{},data:b}):(f=a&&a.term,e=typeof f===t?f.call(a,{hash:{},data:b}):f),g+=u(e)+"</a>\n                            </div>\n                        </td>\n                        <td class='text-muted small-text col-md-5 result-item'  data-concept-id='",(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===t?f.call(a,{hash:{},data:b}):f),g+=u(e)+"' data-term='",(f=c.term)?e=f.call(a,{hash:{},data:b}):(f=a&&a.term,e=typeof f===t?f.call(a,{hash:{},data:b}):f),g+=u(e)+"'>\n                            "+u((e=d&&d.result,e=null==e||e===!1?e:e.defaultTerm,typeof e===t?e.apply(a):e))+"\n                        </td>\n                    </tr>\n                "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var s,t="function",u=this.escapeExpression,v=this,w=c.helperMissing;return s=c.each.call(b,(s=b&&b.result,null==s||s===!1?s:s.descriptions),{hash:{},inverse:v.noop,fn:v.programWithDepth(1,f,e,b),data:e}),s||0===s?s:""}),this.JST["views/searchPlugin/body/1.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f,i="";return i+="\n    <tr class='resultRow selectable-row",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:k.program(4,h,b),fn:k.program(2,g,b),data:b},d=e?e.call(a,a&&a.active,!1,f):l.call(a,"if_eq",a&&a.active,!1,f),(d||0===d)&&(i+=d),i+="'>\n        <td class='col-md-7'>\n            <div draggable=\"true\" ondragstart=\"drag(event)\" class='result-item' data-concept-id='",(e=c.conceptId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.conceptId,d=typeof e===m?e.call(a,{hash:{},data:b}):e),i+=n(d)+"' data-term='",(e=c.term)?d=e.call(a,{hash:{},data:b}):(e=a&&a.term,d=typeof e===m?e.call(a,{hash:{},data:b}):e),i+=n(d)+"'>\n                <a href='javascript:void(0);' style='color: inherit;text-decoration: inherit;'  data-concept-id='",(e=c.conceptId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.conceptId,d=typeof e===m?e.call(a,{hash:{},data:b}):e),i+=n(d)+"' data-term='",(e=c.term)?d=e.call(a,{hash:{},data:b}):(e=a&&a.term,d=typeof e===m?e.call(a,{hash:{},data:b}):e),i+=n(d)+"'>",(e=c.term)?d=e.call(a,{hash:{},data:b}):(e=a&&a.term,d=typeof e===m?e.call(a,{hash:{},data:b}):e),i+=n(d)+"</a>\n            </div>\n        </td>\n        <td class='text-muted small-text col-md-5 result-item'  data-concept-id='",(e=c.conceptId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.conceptId,d=typeof e===m?e.call(a,{hash:{},data:b}):e),i+=n(d)+"' data-term='",(e=c.term)?d=e.call(a,{hash:{},data:b}):(e=a&&a.term,d=typeof e===m?e.call(a,{hash:{},data:b}):e),i+=n(d)+"'>\n            ",(e=c.fsn)?d=e.call(a,{hash:{},data:b}):(e=a&&a.fsn,d=typeof e===m?e.call(a,{hash:{},data:b}):e),i+=n(d)+"\n        </td>\n    </tr>\n"}function g(){return"danger"}function h(a,b){var d,e,f;return e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:k.noop,fn:k.program(2,g,b),data:b},d=e?e.call(a,a&&a.conceptActive,!1,f):l.call(a,"if_eq",a&&a.conceptActive,!1,f),d||0===d?d:""}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var i,j="",k=this,l=c.helperMissing,m="function",n=this.escapeExpression;return i=c.each.call(b,(i=b&&b.result,null==i||i===!1?i:i.matches),{hash:{},inverse:k.noop,fn:k.program(1,f,e),data:e}),(i||0===i)&&(j+=i),j+="\n"}),this.JST["views/searchPlugin/body/bar.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f="";return f+="\n    <span class='text-muted'>"+q((d=a&&a.result,d=null==d||d===!1?d:d.details,d=null==d||d===!1?d:d.total,typeof d===p?d.apply(a):d))+" matches found in ",(e=c.elapsed)?d=e.call(a,{hash:{},data:b}):(e=a&&a.elapsed,d=typeof e===p?e.call(a,{hash:{},data:b}):e),f+=q(d)+" seconds.</span>\n"}function g(){return"\n"}function h(a){var b,c="";return c+="\n    &nbsp;&nbsp;<span class='label label-danger'>"+q((b=a&&a.options,b=null==b||b===!1?b:b.semTagFilter,typeof b===p?b.apply(a):b))+"&nbsp;<a href='javascript:void(0);' style='color: white;text-decoration: none;' class='remove-semtag'>&times;</a></span>&nbsp;&nbsp;\n"}function i(a){var b,c="";return c+="\n    &nbsp;&nbsp;<span class='label label-danger'>"+q((b=a&&a.options,b=null==b||b===!1?b:b.langFilter,typeof b===p?b.apply(a):b))+"&nbsp;<a href='javascript:void(0);' style='color: white;text-decoration: none;' class='remove-lang'>&times;</a></span>&nbsp;&nbsp;\n"
}function j(a,b){var c,d="";return d+="\n                    <li><a class='lang-link' href='javascript:void(0);' data-lang='"+q((c=null==b||b===!1?b:b.key,typeof c===p?c.apply(a):c))+"'>"+q((c=null==b||b===!1?b:b.key,typeof c===p?c.apply(a):c))+" ("+q(typeof a===p?a.apply(a):a)+")</a></li>\n                "}function k(a,b){var c,d="";return d+="\n                    <li><a class='semtag-link' href='javascript:void(0);' data-semtag='"+q((c=null==b||b===!1?b:b.key,typeof c===p?c.apply(a):c))+"'>"+q((c=null==b||b===!1?b:b.key,typeof c===p?c.apply(a):c))+" ("+q(typeof a===p?a.apply(a):a)+")</a></li>\n                "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var l,m,n,o="",p="function",q=this.escapeExpression,r=this,s=c.helperMissing;return l=c["if"].call(b,(l=b&&b.result,null==l||l===!1?l:l.details),{hash:{},inverse:r.noop,fn:r.program(1,f,e),data:e}),(l||0===l)&&(o+=l),o+="\n<span class='pull right'>\n<a class='btm btn-xs' style='margin: 3px; color: #777; background-color: #fff; border: 1px #ccc solid; margin-left: 25px;' data-toggle='collapse' href='#",(m=c.divElementId)?l=m.call(b,{hash:{},data:e}):(m=b&&b.divElementId,l=typeof m===p?m.call(b,{hash:{},data:e}):m),o+=q(l)+"-searchFiltersPanel'>\n    <span class='i18n' data-i18n-id='i18n_filters'>Filters</span>\n</a>\n",m=c.if_eq||b&&b.if_eq,n={hash:{},inverse:r.program(5,h,e),fn:r.program(3,g,e),data:e},l=m?m.call(b,(l=b&&b.options,null==l||l===!1?l:l.semTagFilter),"none",n):s.call(b,"if_eq",(l=b&&b.options,null==l||l===!1?l:l.semTagFilter),"none",n),(l||0===l)&&(o+=l),o+="\n",m=c.if_eq||b&&b.if_eq,n={hash:{},inverse:r.program(7,i,e),fn:r.program(3,g,e),data:e},l=m?m.call(b,(l=b&&b.options,null==l||l===!1?l:l.langFilter),"none",n):s.call(b,"if_eq",(l=b&&b.options,null==l||l===!1?l:l.langFilter),"none",n),(l||0===l)&&(o+=l),o+="\n</span><div id='",(m=c.divElementId)?l=m.call(b,{hash:{},data:e}):(m=b&&b.divElementId,l=typeof m===p?m.call(b,{hash:{},data:e}):m),o+=q(l)+"-searchFiltersPanel' class='panel-collapse collapse'>\n<div class='tree'>\n    <ul>\n        <li><a>Filter results by Language</a>\n            <ul>\n                ",l=c.each.call(b,(l=b&&b.result,l=null==l||l===!1?l:l.filters,null==l||l===!1?l:l.lang),{hash:{},inverse:r.noop,fn:r.program(9,j,e),data:e}),(l||0===l)&&(o+=l),o+="\n            </ul>\n        </li>\n    </ul>\n    <ul>\n        <li><a>Filter results by Semantic Tag</a>\n            <ul>\n                ",l=c.each.call(b,(l=b&&b.result,l=null==l||l===!1?l:l.filters,null==l||l===!1?l:l.semTag),{hash:{},inverse:r.noop,fn:r.program(11,k,e),data:e}),(l||0===l)&&(o+=l),o+="\n            </ul>\n        </li>\n    </ul>\n</div>\n"}),this.JST["views/searchPlugin/body/default.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(a,b){var d,e,f,i="";return i+="\n    ",e=c.if_gre||a&&a.if_gre,f={hash:{},inverse:s.program(4,h,b),fn:s.program(2,g,b),data:b},d=e?e.call(a,"0",(d=a&&a.result,d=null==d||d===!1?d:d.matches,null==d||d===!1?d:d.length),f):q.call(a,"if_gre","0",(d=a&&a.result,d=null==d||d===!1?d:d.matches,null==d||d===!1?d:d.length),f),(d||0===d)&&(i+=d),i+="\n"}function g(a,b){var d,e,f="";return f+="\n        "+r((d=c.console||a&&a.console,e={hash:{},data:b},d?d.call(a,"a",e):q.call(a,"console","a",e)))+"\n        <tr><td class='text-muted'>No results</td></tr>\n    "}function h(a,b){var d,e,f,g="";return g+="\n        "+r((e=c.console||a&&a.console,f={hash:{},data:b},e?e.call(a,"ab",f):q.call(a,"console","ab",f)))+"\n        ",d=c.each.call(a,(d=a&&a.result,null==d||d===!1?d:d.matches),{hash:{},inverse:s.noop,fn:s.program(5,i,b),data:b}),(d||0===d)&&(g+=d),g+="\n        ",e=c.if_gr||a&&a.if_gr,f={hash:{},inverse:s.program(12,m,b),fn:s.program(10,l,b),data:b},d=e?e.call(a,a&&a.remaining,0,f):q.call(a,"if_gr",a&&a.remaining,0,f),(d||0===d)&&(g+=d),g+="\n    "}function i(a,b){var d,e,f,g="";return g+="\n            <tr class='resultRow selectable-row",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:s.program(8,k,b),fn:s.program(6,j,b),data:b},d=e?e.call(a,a&&a.active,!1,f):q.call(a,"if_eq",a&&a.active,!1,f),(d||0===d)&&(g+=d),g+="'>\n                <td class='col-md-6'>\n                    <div draggable='true' ondragstart='drag(event)' class='result-item' data-concept-id='",(e=c.conceptId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.conceptId,d=typeof e===t?e.call(a,{hash:{},data:b}):e),g+=r(d)+"' data-term='",(e=c.term)?d=e.call(a,{hash:{},data:b}):(e=a&&a.term,d=typeof e===t?e.call(a,{hash:{},data:b}):e),g+=r(d)+"'>\n                        <a href='javascript:void(0);' style='color: inherit;text-decoration: inherit;'  data-concept-id='",(e=c.conceptId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.conceptId,d=typeof e===t?e.call(a,{hash:{},data:b}):e),g+=r(d)+"' data-term='",(e=c.term)?d=e.call(a,{hash:{},data:b}):(e=a&&a.term,d=typeof e===t?e.call(a,{hash:{},data:b}):e),g+=r(d)+"'>",(e=c.term)?d=e.call(a,{hash:{},data:b}):(e=a&&a.term,d=typeof e===t?e.call(a,{hash:{},data:b}):e),g+=r(d)+"</a>\n                    </div>\n                </td>\n                <td class='text-muted small-text col-md-6 result-item'  data-concept-id='",(e=c.conceptId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.conceptId,d=typeof e===t?e.call(a,{hash:{},data:b}):e),g+=r(d)+"' data-term='",(e=c.term)?d=e.call(a,{hash:{},data:b}):(e=a&&a.term,d=typeof e===t?e.call(a,{hash:{},data:b}):e),g+=r(d)+"'>",(e=c.fsn)?d=e.call(a,{hash:{},data:b}):(e=a&&a.fsn,d=typeof e===t?e.call(a,{hash:{},data:b}):e),g+=r(d)+"</td>\n            </tr>\n        "}function j(){return" danger"}function k(a,b){var d,e,f;return e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:s.noop,fn:s.program(6,j,b),data:b},d=e?e.call(a,a&&a.conceptActive,!1,f):q.call(a,"if_eq",a&&a.conceptActive,!1,f),d||0===d?d:""}function l(a,b){var d,e,f="";return f+="\n            <tr class='more-row'><td colspan='2' class='text-center'><button class='btn btn-link' id='",(e=c.divElementId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.divElementId,d=typeof e===t?e.call(a,{hash:{},data:b}):e),f+=r(d)+"-more'>Load ",(e=c.returnLimit)?d=e.call(a,{hash:{},data:b}):(e=a&&a.returnLimit,d=typeof e===t?e.call(a,{hash:{},data:b}):e),f+=r(d)+" more (",(e=c.remaining)?d=e.call(a,{hash:{},data:b}):(e=a&&a.remaining,d=typeof e===t?e.call(a,{hash:{},data:b}):e),f+=r(d)+" remaining on server)</button></td></tr>\n        "}function m(a){var b,c="";return c+="\n            <tr class='more-row'><td colspan='2' class='text-center text-muted'>All "+r((b=a&&a.result,b=null==b||b===!1?b:b.details,b=null==b||b===!1?b:b.total,typeof b===t?b.apply(a):b))+" results are displayed</td></tr>\n        "}function n(){return"\n    <tr><td class='text-muted'>No results</td></tr>\n"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var o,p="",q=c.helperMissing,r=this.escapeExpression,s=this,t="function";return o=c["if"].call(b,(o=b&&b.result,null==o||o===!1?o:o.matches),{hash:{},inverse:s.program(14,n,e),fn:s.program(1,f,e),data:e}),(o||0===o)&&(p+=o),p+="\n"}),this.JST["views/searchPlugin/main.hbs"]=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+="<div style='margin: 5px; height:95%;' class='panel panel-default'>\n    <div class='panel-heading'>\n        <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-subscribersMarker' class='btn btn-link btn-lg' style='padding: 2px; position: absolute;top: 1px;left: 0px;'><i class='glyphicon glyphicon-bookmark'></i></button>\n        <div class='row'>\n            <div class='col-md-8' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-panelTitle'>&nbsp&nbsp&nbsp<strong><span class='i18n' data-i18n-id='i18n_search'>Search</span></span></strong></div>\n            <div class='col-md-4 text-right'>\n                <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-linkerButton' draggable=\"true\" ondragstart=\"drag(event)\" class='btn btn-link linker-button' data-panel='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"' style='padding:2px'><i class='glyphicon glyphicon-link'></i></button>\n                <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-historyButton' class='btn btn-link history-button' style='padding:2px'><i class='glyphicon glyphicon-time'></i></button>\n                <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-configButton' class='btn btn-link' style='padding:2px' data-target='#",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-configModal'><i class='glyphicon glyphicon-cog'></i></button>\n                <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-collapseButton' class='btn btn-link' style='padding:2px'><i class='glyphicon glyphicon-resize-small'></i></button>\n                <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-expandButton' class='btn btn-link' style='padding:2px'><i class='glyphicon glyphicon-resize-full'></i></button>\n                <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-closeButton' class='btn btn-link' style='padding:2px'><i class='glyphicon glyphicon-remove'></i></button>\n            </div>\n        </div>\n    </div>\n    <div class='panel-body' style='height:86%' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'-panelBody\'>\n        <form>\n            <div class="form-group" style="margin-bottom: 2px;">\n                <label for="',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'-searchBox">\n                    <span class="i18n" data-i18n-id="i18n_type_3_chars">Type at least 3 characters</span> <i class="glyphicon glyphicon-remove text-danger" id="',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'-typeIcon"></i> <span id="',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'-searchExample"></span></label>\n                <br><div class="btn-group" style="width: 100%;"><input type="search" class="form-control" id="',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'-searchBox" placeholder="Search..." autocomplete="off">\n                <span id="',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'-clearButton" class="searchclear glyphicon glyphicon-remove-circle"></span></div>\n            </div>\n        </form>\n        <div id=\'',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-searchConfigBar' style='margin-bottom: 10px;'><nav class='navbar navbar-default' role='navigation' style='min-height: 28px;border-radius: 0px;border-bottom: 1px lightgray solid;'>\n            <ul class='nav navbar-nav navbar-left'>\n                <li class='dropdown' style='margin-bottom: 2px; margin-top: 2px;'>\n                    <a href='javascript:void(0);' class='dropdown-toggle' data-toggle='dropdown' style='padding-top: 2px; padding-bottom: 2px;'><span id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-navSearchModeLabel'></span> <b class='caret'></b></a>\n                    <ul class='dropdown-menu' role='menu' style='float: none;'>\n                        <li><button class='btn btn-link' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-fullTextButton'><span class='i18n' data-i18n-id='i18n_full_text_search_mode'>Full text search mode</span></button></li>\n                        <li><button class='btn btn-link' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-partialMatchingButton'><span class='i18n' data-i18n-id='i18n_partial_match_search_mode'>Partial matching search mode</span></button></li>\n                        <li><button class='btn btn-link' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-regexButton'><span class='i18n' data-i18n-id='i18n_regex_search_mode'>Regular Expressions search mode</span></button></li>\n                    </ul>\n                </li>\n                <li class='dropdown' style='margin-bottom: 2px; margin-top: 2px;'>\n                    <a href='javascript:void(0);' class='dropdown-toggle' data-toggle='dropdown' style='padding-top: 2px; padding-bottom: 2px;'><span id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-navLanguageLabel'></span> <b class='caret'></b></a>\n                    <ul class='dropdown-menu' role='menu' style='float: none;'>\n                        <li><button class='btn btn-link' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-danishLangButton'><span class='i18n' data-i18n-id='i18n_danish_stemmer'>Danish language stemmer</span></button></li>\n                        <li><button class='btn btn-link' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-englishLangButton'><span class='i18n' data-i18n-id='i18n_english_stemmer'>English language stemmer</span></button></li>\n                        <li><button class='btn btn-link' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-spanishLangButton'><span class='i18n' data-i18n-id='i18n_spanish_stemmer'>Spanish language stemmer</span></button></li>\n                        <li><button class='btn btn-link' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-swedishLangButton'><span class='i18n' data-i18n-id='i18n_swedish_stemmer'>Swedish language stemmer</span></button></li>\n                    </ul>\n                </li>\n                <li class='dropdown' style='margin-bottom: 2px; margin-top: 2px;'>\n                    <a href='javascript:void(0);' class='dropdown-toggle' data-toggle='dropdown' style='padding-top: 2px; padding-bottom: 2px;'><span id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-navStatusFilterLabel'></span> <b class='caret'></b></a>\n                    <ul class='dropdown-menu' role='menu' style='float: none;'>\n                        <li><button class='btn btn-link' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-activeOnlyButton'><span class='i18n' data-i18n-id='i18n_active_only'>Active components only</span></button></li>\n                        <li><button class='btn btn-link' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-activeInactiveButton'><span class='i18n' data-i18n-id='i18n_active_and_inactive'>Active and inactive components</span></button></li>\n                        <li><button class='btn btn-link' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-inactiveOnlyButton'><span class='i18n' data-i18n-id='i18n_inactive_only'>Inactive components only</span></button></li>\n                    </ul>\n                </li>\n            </ul>\n        </nav></div>\n        <div class='panel panel-default' style='height:70%;overflow:auto;margin-bottom: 15px;min-height: 300px;' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-resultsScrollPane'>\n            <div id=\"",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'-searchBar"></div>\n            <div id="',(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-searchFilters\"></div>\n            <table id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-resultsTable' class='table table-bordered'>\n            </table>\n        </div>\n    </div>\n</div>\n        "}),this.JST["views/taxonomyPlugin/body/children.hbs"]=Handlebars.template(function(a,b,c,d,e){function f(){return"\n   <span class='i18n' data-i18n-id='i18n_inferred_view'>Inferred view</span>\n"}function g(){return"\n    <span class='i18n' data-i18n-id='i18n_stated_view'>Stated view</span>\n"}function h(a,b){var d,e="";return e+="\n        ",d=c["if"].call(a,a&&a.active,{hash:{},inverse:r.noop,fn:r.program(6,i,b),data:b}),(d||0===d)&&(e+=d),e+="\n    "}function i(a,b){var d,e,f,g="";return g+="\n            <li data-concept-id='",(e=c.conceptId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.conceptId,d=typeof e===p?e.call(a,{hash:{},data:b}):e),g+=q(d)+"' data-term='",(e=c.defaultTerm)?d=e.call(a,{hash:{},data:b}):(e=a&&a.defaultTerm,d=typeof e===p?e.call(a,{hash:{},data:b}):e),g+=q(d)+"' class='treeLabel'>\n                <button class='btn btn-link btn-xs treeButton' style='padding:2px'><i class='glyphicon glyphicon-chevron-right treeButton' id='"+q((d=a&&a.panel,d=null==d||d===!1?d:d.divElement,d=null==d||d===!1?d:d.id,typeof d===p?d.apply(a):d))+"-treeicon-",(e=c.conceptId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.conceptId,d=typeof e===p?e.call(a,{hash:{},data:b}):e),g+=q(d)+"'></i></button>\n                ",e=c.if_eq||a&&a.if_eq,f={hash:{},inverse:r.program(9,k,b),fn:r.program(7,j,b),data:b},d=e?e.call(a,a&&a.definitionStatus,"Primitive",f):s.call(a,"if_eq",a&&a.definitionStatus,"Primitive",f),(d||0===d)&&(g+=d),g+='\n                <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;"><span draggable="true" ondragstart="drag(event)" class="treeLabel selectable-row" data-concept-id="',(e=c.conceptId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.conceptId,d=typeof e===p?e.call(a,{hash:{},data:b}):e),g+=q(d)+'" data-term="',(e=c.defaultTerm)?d=e.call(a,{hash:{},data:b}):(e=a&&a.defaultTerm,d=typeof e===p?e.call(a,{hash:{},data:b}):e),g+=q(d)+'" id="'+q((d=a&&a.panel,d=null==d||d===!1?d:d.divElement,d=null==d||d===!1?d:d.id,typeof d===p?d.apply(a):d))+"-treenode-",(e=c.conceptId)?d=e.call(a,{hash:{},data:b}):(e=a&&a.conceptId,d=typeof e===p?e.call(a,{hash:{},data:b}):e),g+=q(d)+'">',(e=c.defaultTerm)?d=e.call(a,{hash:{},data:b}):(e=a&&a.defaultTerm,d=typeof e===p?e.call(a,{hash:{},data:b}):e),g+=q(d)+"</span></a>\n                "+q((e=c.push||a&&a.push,f={hash:{},data:b},e?e.call(a,a&&a.conceptId,f):s.call(a,"push",a&&a.conceptId,f)))+"\n            </li>\n        "}function j(){return'\n                    <span class="badge alert-warning">&nbsp;</span>&nbsp;&nbsp;\n                '}function k(){return'\n                    <span class="badge alert-warning">&equiv;</span>&nbsp;&nbsp;\n                '}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var l,m,n,o="",p="function",q=this.escapeExpression,r=this,s=c.helperMissing;return m=c.if_eq||b&&b.if_eq,n={hash:{},inverse:r.program(3,g,e),fn:r.program(1,f,e),data:e},l=m?m.call(b,b&&b.selectedView,"inferred",n):s.call(b,"if_eq",b&&b.selectedView,"inferred",n),(l||0===l)&&(o+=l),o+="\n\n<ul style='list-style-type: none; padding-left: 15px;'>\n    ",l=c.each.call(b,b&&b.result,{hash:{},inverse:r.noop,fn:r.program(5,h,e),data:e}),(l||0===l)&&(o+=l),o+="\n</ul>\n\n"}),this.JST["views/taxonomyPlugin/body/parents.hbs"]=Handlebars.template(function(a,b,c,d,e,f){function g(a,b,d){var e,f,g,j="";return j+="\n            <li data-concept-id='",(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===p?f.call(a,{hash:{},data:b}):f),j+=q(e)+"' data-term='",(f=c.defaultTerm)?e=f.call(a,{hash:{},data:b}):(f=a&&a.defaultTerm,e=typeof f===p?f.call(a,{hash:{},data:b}):f),j+=q(e)+"' class='treeLabel'>\n                <button class='btn btn-link btn-xs treeButton' style='padding:2px'><i class='glyphicon glyphicon-chevron-up treeButton'  id='"+q((e=d&&d.divElementId,typeof e===p?e.apply(a):e))+"-treeicon-",(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===p?f.call(a,{hash:{},data:b}):f),j+=q(e)+"'></i></button>\n                ",f=c.if_eq||a&&a.if_eq,g={hash:{},inverse:r.program(4,i,b),fn:r.program(2,h,b),data:b},e=f?f.call(a,a&&a.definitionStatus,"Primitive",g):s.call(a,"if_eq",a&&a.definitionStatus,"Primitive",g),(e||0===e)&&(j+=e),j+='\n                <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;"><span data-concept-id="',(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===p?f.call(a,{hash:{},data:b}):f),j+=q(e)+'" data-term="',(f=c.defaultTerm)?e=f.call(a,{hash:{},data:b}):(f=a&&a.defaultTerm,e=typeof f===p?f.call(a,{hash:{},data:b}):f),j+=q(e)+'" draggable="true" ondragstart="drag(event)" class="treeLabel selectable-row" id="'+q((e=d&&d.divElementId,typeof e===p?e.apply(a):e))+"-treenode-",(f=c.conceptId)?e=f.call(a,{hash:{},data:b}):(f=a&&a.conceptId,e=typeof f===p?f.call(a,{hash:{},data:b}):f),j+=q(e)+'">',(f=c.defaultTerm)?e=f.call(a,{hash:{},data:b}):(f=a&&a.defaultTerm,e=typeof f===p?f.call(a,{hash:{},data:b}):f),j+=q(e)+"</span></a>\n            </li>\n        "}function h(){return'\n                    <span class="badge alert-warning">&nbsp;</span>&nbsp;&nbsp;\n                '}function i(){return'\n                    <span class="badge alert-warning">&equiv;</span>&nbsp;&nbsp;\n                '}function j(a,b){var d,e,f="";return f+="\n            "+q((d=c.slice||a&&a.slice,e={hash:{},data:b},d?d.call(a,0,-5,e):s.call(a,"slice",0,-5,e)))+"\n        "}function k(){return"\n            </li>\n        "}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var l,m,n,o="",p="function",q=this.escapeExpression,r=this,s=c.helperMissing;return o+="<div style='height:100%;margin-bottom: 15px;'>\n    <ul style='list-style-type: none; padding-left: 5px;'>\n        ",l=c.each.call(b,b&&b.parents,{hash:{},inverse:r.noop,fn:r.programWithDepth(1,g,e,f),data:e}),(l||0===l)&&(o+=l),o+="\n        ",m=c.if_gr||b&&b.if_gr,n={hash:{},inverse:r.noop,fn:r.program(6,j,e),data:e},l=m?m.call(b,(l=b&&b.parents,null==l||l===!1?l:l.length),0,n):s.call(b,"if_gr",(l=b&&b.parents,null==l||l===!1?l:l.length),0,n),(l||0===l)&&(o+=l),o+="\n        <ul style='list-style-type: none; padding-left: 15px;'>\n            <li data-concept-id='"+q((l=b&&b.focusConcept,l=null==l||l===!1?l:l.conceptId,typeof l===p?l.apply(b):l))+"' data-term='"+q((l=b&&b.focusConcept,l=null==l||l===!1?l:l.defaultTerm,typeof l===p?l.apply(b):l))+"' class='treeLabel'>\n                <button class='btn btn-link btn-xs treeButton' style='padding:2px'><i class='glyphicon glyphicon-chevron-right treeButton'  id='",(m=c.divElementId)?l=m.call(b,{hash:{},data:e}):(m=b&&b.divElementId,l=typeof m===p?m.call(b,{hash:{},data:e}):m),o+=q(l)+"-treeicon-"+q((l=b&&b.focusConcept,l=null==l||l===!1?l:l.conceptId,typeof l===p?l.apply(b):l))+"'></i></button>\n                ",m=c.if_eq||b&&b.if_eq,n={hash:{},inverse:r.program(4,i,e),fn:r.program(2,h,e),data:e},l=m?m.call(b,(l=b&&b.focusConcept,null==l||l===!1?l:l.definitionStatus),"Primitive",n):s.call(b,"if_eq",(l=b&&b.focusConcept,null==l||l===!1?l:l.definitionStatus),"Primitive",n),(l||0===l)&&(o+=l),o+='\n                <a href="javascript:void(0);" style="color: inherit;text-decoration: inherit;"><span data-concept-id="'+q((l=b&&b.focusConcept,l=null==l||l===!1?l:l.conceptId,typeof l===p?l.apply(b):l))+'" data-term="'+q((l=b&&b.focusConcept,l=null==l||l===!1?l:l.defaultTerm,typeof l===p?l.apply(b):l))+'" draggable="true" ondragstart="drag(event)" class="treeLabel selectable-row" id="',(m=c.divElementId)?l=m.call(b,{hash:{},data:e}):(m=b&&b.divElementId,l=typeof m===p?m.call(b,{hash:{},data:e}):m),o+=q(l)+"-treenode-"+q((l=b&&b.focusConcept,l=null==l||l===!1?l:l.conceptId,typeof l===p?l.apply(b):l))+'">'+q((l=b&&b.focusConcept,l=null==l||l===!1?l:l.defaultTerm,typeof l===p?l.apply(b):l))+"</span></a>\n            </li>\n        </ul>\n        ",m=c.if_gr||b&&b.if_gr,n={hash:{},inverse:r.noop,fn:r.program(8,k,e),data:e},l=m?m.call(b,(l=b&&b.parents,null==l||l===!1?l:l.length),0,n):s.call(b,"if_gr",(l=b&&b.parents,null==l||l===!1?l:l.length),0,n),(l||0===l)&&(o+=l),o+="\n    </ul>\n</div>"}),this.JST["views/taxonomyPlugin/main.hbs"]=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+="<div style='height:100%;margin: 5px; overflow:auto;' class='panel panel-default' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-mainPanel'>\n    <div ondrop=\"dropT(event)\" ondragover=\"allowDrop(event)\" class='panel-heading' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-panelHeading'>\n        <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-subscribersMarker' class='btn btn-link btn-lg' style='padding: 2px; position: absolute;top: 1px;left: 0px;'><i class='glyphicon glyphicon-bookmark'></i></button>\n        <div class='row'>\n            <div class='col-md-6' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-panelTitle'>&nbsp&nbsp&nbsp<strong><span class='i18n' data-i18n-id='i18n_taxonomy'>Taxonomy</span></strong></div>\n            <div class='col-md-6 text-right'>\n                <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-resetButton' class='btn btn-link' data-panel='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"' style='padding:2px'><i class='glyphicon glyphicon-repeat'></i></button>\n                <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-linkerButton' draggable=\"true\" ondragstart=\"drag(event)\" class='btn btn-link linker-button' data-panel='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"' style='padding:2px'><i class='glyphicon glyphicon-link'></i></button>\n                <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-configButton' class='btn btn-link' style='padding:2px' data-target='#",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-configModal'><i class='glyphicon glyphicon-cog'></i></button>\n                <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-collapseButton' class='btn btn-link' style='padding:2px'><i class='glyphicon glyphicon-resize-small'></i></button>\n                <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-expandButton' class='btn btn-link' style='padding:2px'><i class='glyphicon glyphicon-resize-full'></i></button>\n                <button id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-closeButton' class='btn btn-link' style='padding:2px'><i class='glyphicon glyphicon-remove'></i></button>\n            </div>\n        </div>\n    </div>\n    <div id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-taxonomyConfigBar' style='margin-bottom: 10px;'><nav class='navbar navbar-default' role='navigation' style='min-height: 28px;border-radius: 0px;border-bottom: 1px lightgray solid;'>\n        <ul class='nav navbar-nav navbar-left'>\n            <li class='dropdown' style='margin-bottom: 2px; margin-top: 2px;'>\n                <a href='javascript:void(0);' class='dropdown-toggle' data-toggle='dropdown' style='padding-top: 2px; padding-bottom: 2px;'><span id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-txViewLabel'></span> <b class='caret'></b></a>\n                <ul class='dropdown-menu' role='menu' style='float: none;'>\n                    <li><button class='btn btn-link' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-inferredViewButton'><span class='i18n' data-i18n-id='i18n_inferred_view'>Inferred view</span></button></li>\n                    <li><button class='btn btn-link' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-statedViewButton'><span class='i18n' data-i18n-id='i18n_stated_view'>Stated view</span></button></li>\n                </ul>\n            </li>\n        </ul>\n    </nav></div>\n    <div ondrop=\"dropT(event)\" ondragover=\"allowDrop(event)\" class='panel-body' style='height:100%' id='",(g=c.divElementId)?f=g.call(b,{hash:{},data:e}):(g=b&&b.divElementId,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"-panelBody'>\n    </div>\n</div>"});